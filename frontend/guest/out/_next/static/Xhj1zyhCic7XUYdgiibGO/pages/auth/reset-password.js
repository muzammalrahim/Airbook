(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"9yIF":function(e,o,n){"use strict";n.r(o);var a=n("1OyB"),t=n("vuIU"),r=n("Ji7U"),s=n("md7G"),i=n("foSv"),l=(n("8Kt/"),n("q1tI")),c=n.n(l),d=n("YFqc"),u=n.n(d),m=n("r3ik"),f=n("g5s8"),p=n("UGp+"),h=n("KYPV"),b=n("rZ7M"),g=n("nOHt"),w=n.n(g),v=n("VfVJ"),x=c.a.createElement;function y(e){var o=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(i.a)(e);if(o){var t=Object(i.a)(this).constructor;n=Reflect.construct(a,arguments,t)}else n=a.apply(this,arguments);return Object(s.a)(this,n)}}var N=p.a().shape({email:p.c().email("Wrong email format").min(3,"Minimum 3 symbols").max(50,"Maximum 50 symbols").required("Email is required"),password:p.c().min(3,"Minimum 3 symbols").max(50,"Maximum 50 symbols").required("Password is required"),confirmPassword:p.c().required("Confirm password is required").when("password",{is:function(e){return!!(e&&e.length>0)},then:p.c().oneOf([p.b("password")],"Password and Confirm Password didn't match")})}),_=function(e){Object(r.a)(n,e);var o=y(n);function n(e){var t;Object(a.a)(this,n);var r=(t=o.call(this,e)).props.token;return t.state={email:"",password:"",confirmPassword:"",password_link:r},t}return Object(t.a)(n,[{key:"componentDidMount",value:function(){document.querySelector("body").classList.add("header-fixed","header-mobile-fixed","subheader-enabled","subheader-fixed","aside-enabled","aside-fixed","aside-minimize-hoverable"),document.getElementById("__next").classList.add("d-flex","flex-column","flex-root")}},{key:"handleChange",value:function(e){var o=this.state,n=e.target.name,a=e.target.value;o[n]=a,this.setState({state:o})}},{key:"handleSubmit",value:function(e){console.log("e",e),Object(b.d)(e.email,e.password,this.state.password_link).then((function(e){e.data.success&&(v.a.success("Password reset successfully"),w.a.push("/login"))})).catch((function(){v.a.error("Reset Error")}))}},{key:"render",value:function(){var e=this;return x(c.a.Fragment,null,x(f.a,null),x("div",{className:"d-flex flex-column flex-root"},x("div",{className:"login login-4 wizard d-flex flex-column flex-lg-row flex-column-fluid"},x("div",{className:"login-container order-2 order-lg-1 d-flex flex-center flex-row-fluid px-7 pt-lg-0 pb-lg-0 pt-4 pb-6 bg-white"},x("div",{className:"login-content d-flex flex-column pt-lg-0 pt-12"},x("a",{href:"/",className:"login-logo pb-xl-20 pb-15"},x("img",{src:"/static/auth/images/logo-4.png",className:"max-h-70px",alt:""})),x("div",{className:"login-form"},x(h.d,{initialValues:{email:"",password:"",confirmPassword:""},validationSchema:N,onSubmit:function(o){return e.handleSubmit(o)}},(function(o){var n=o.touched,a=o.errors;o.isSubmitting;return x(h.c,{className:"form",id:"kt_login_forgot_form",action:""},x("div",{className:"pb-5 pb-lg-15"},x("h3",{className:"font-weight-bolder text-dark font-size-h2 font-size-h1-lg"},"Forgotten Password ?"),x("p",{className:"text-muted font-weight-bold font-size-h4"},"Enter your email to reset your password")),x("div",{className:"form-group"},x(h.b,{type:"email",name:"email",className:"form-control form-control-solid h-auto py-7 px-6 border-0 rounded-lg font-size-h6 ".concat(n.email&&a.email?"is-invalid":""),onKeyUp:function(o){return e.handleChange(o)},placeholder:"Email"}),x(h.a,{component:"div",name:"email",className:"invalid-feedback"})),x("div",{className:"form-group"},x(h.b,{type:"password",name:"password",className:"form-control form-control-solid h-auto py-7 px-6 border-0 rounded-lg font-size-h6 ".concat(n.password&&a.password?"is-invalid":""),onKeyUp:function(o){return e.handleChange(o)},placeholder:"Password"}),x(h.a,{component:"div",name:"password",className:"invalid-feedback"})),x("div",{className:"form-group"},x(h.b,{type:"password",name:"confirmPassword",className:"form-control form-control-solid h-auto py-7 px-6 border-0 rounded-lg font-size-h6 ".concat(n.confirmPassword&&a.confirmPassword?"is-invalid":""),onKeyUp:function(o){return e.handleChange(o)},placeholder:"Confirm password"}),x(h.a,{component:"div",name:"confirmPassword",className:"invalid-feedback"})),x("div",{className:"form-group d-flex flex-wrap"},x("button",{type:"submit",id:"kt_login_forgot_form_submit_button",className:"btn btn-primary font-weight-bolder font-size-h6 px-8 py-4 my-3 mr-4"},"Submit"),x(u.a,{href:"/login"},x("a",{id:"kt_login_forgot_cancel",className:"btn btn-light-primary font-weight-bolder font-size-h6 px-8 py-4 my-3"},"Cancel"))))}))))),x(m.a,null))))}}]),n}(c.a.Component);o.default=_},rZ7M:function(e,o,n){"use strict";n.d(o,"b",(function(){return d})),n.d(o,"c",(function(){return u})),n.d(o,"d",(function(){return m})),n.d(o,"a",(function(){return f}));var a=n("vDqi"),t=n.n(a),r="https://airbook.xbs.cloud/api/",s="login",i="forgot-password",l="reset-password",c="users/me/";function d(e,o){return t.a.post(r+s,{email:e,password:o})}function u(e){return t.a.post(r+i,{email:e})}function m(e,o,n){return t.a.post(r+l,{email:e,password:o,password_link:n})}function f(){return t.a.get(r+c)}},uuX0:function(e,o,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/reset-password",function(){return n("9yIF")}])}},[["uuX0",1,2,0,3,7]]]);