(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"9yIF":function(e,t,o){"use strict";o.r(t);var n=o("1OyB"),a=o("vuIU"),r=o("Ji7U"),s=o("md7G"),i=o("foSv"),l=(o("8Kt/"),o("q1tI")),c=o.n(l),d=o("YFqc"),u=o.n(d),m=o("r3ik"),f=o("g5s8"),p=o("UGp+"),h=o("KYPV"),b=o("rZ7M"),g=o("nOHt"),w=o.n(g),v=o("VfVJ"),y=c.a.createElement;function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Object(i.a)(e);if(t){var a=Object(i.a)(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Object(s.a)(this,o)}}var N=p.a().shape({email:p.c().email("Wrong email format").min(3,"Minimum 3 symbols").max(50,"Maximum 50 symbols").required("Email is required"),password:p.c().min(3,"Minimum 3 symbols").max(50,"Maximum 50 symbols").required("Password is required"),confirmPassword:p.c().required("Confirm password is required").when("password",{is:function(e){return!!(e&&e.length>0)},then:p.c().oneOf([p.b("password")],"Password and Confirm Password didn't match")})}),k=function(e){Object(r.a)(o,e);var t=x(o);function o(e){var a;Object(n.a)(this,o);var r=(a=t.call(this,e)).props.token;return a.state={email:"",password:"",confirmPassword:"",password_link:r},a}return Object(a.a)(o,[{key:"componentDidMount",value:function(){document.querySelector("body").classList.add("header-fixed","header-mobile-fixed","subheader-enabled","subheader-fixed","aside-enabled","aside-fixed","aside-minimize-hoverable"),document.getElementById("__next").classList.add("d-flex","flex-column","flex-root")}},{key:"handleChange",value:function(e){var t=this.state,o=e.target.name,n=e.target.value;t[o]=n,this.setState({state:t})}},{key:"handleSubmit",value:function(e){console.log("e",e),Object(b.d)(e.email,e.password,this.state.password_link).then((function(e){e.data.success&&(v.a.success("Password reset successfully"),w.a.push("/login"))})).catch((function(){v.a.error("Reset Error")}))}},{key:"render",value:function(){var e=this;return y(c.a.Fragment,null,y(f.a,null),y("div",{className:"d-flex flex-column flex-root"},y("div",{className:"login login-4 wizard d-flex flex-column flex-lg-row flex-column-fluid"},y("div",{className:"login-container order-2 order-lg-1 d-flex flex-center flex-row-fluid px-7 pt-lg-0 pb-lg-0 pt-4 pb-6 bg-white"},y("div",{className:"login-content d-flex flex-column pt-lg-0 pt-12"},y("a",{href:"/",className:"login-logo pb-xl-20 pb-15"},y("img",{src:"/static/auth/images/logo-4.png",className:"max-h-70px",alt:""})),y("div",{className:"login-form"},y(h.d,{initialValues:{email:"",password:"",confirmPassword:""},validationSchema:N,onSubmit:function(t){return e.handleSubmit(t)}},(function(t){var o=t.touched,n=t.errors;t.isSubmitting;return y(h.c,{className:"form",id:"kt_login_forgot_form",action:""},y("div",{className:"pb-5 pb-lg-15"},y("h3",{className:"font-weight-bolder text-dark font-size-h2 font-size-h1-lg"},"Forgotten Password ?"),y("p",{className:"text-muted font-weight-bold font-size-h4"},"Enter your email to reset your password")),y("div",{className:"form-group"},y(h.b,{type:"email",name:"email",className:"form-control form-control-solid h-auto py-7 px-6 border-0 rounded-lg font-size-h6 ".concat(o.email&&n.email?"is-invalid":""),onKeyUp:function(t){return e.handleChange(t)},placeholder:"Email"}),y(h.a,{component:"div",name:"email",className:"invalid-feedback"})),y("div",{className:"form-group"},y(h.b,{type:"password",name:"password",className:"form-control form-control-solid h-auto py-7 px-6 border-0 rounded-lg font-size-h6 ".concat(o.password&&n.password?"is-invalid":""),onKeyUp:function(t){return e.handleChange(t)},placeholder:"Password"}),y(h.a,{component:"div",name:"password",className:"invalid-feedback"})),y("div",{className:"form-group"},y(h.b,{type:"password",name:"confirmPassword",className:"form-control form-control-solid h-auto py-7 px-6 border-0 rounded-lg font-size-h6 ".concat(o.confirmPassword&&n.confirmPassword?"is-invalid":""),onKeyUp:function(t){return e.handleChange(t)},placeholder:"Confirm password"}),y(h.a,{component:"div",name:"confirmPassword",className:"invalid-feedback"})),y("div",{className:"form-group d-flex flex-wrap"},y("button",{type:"submit",id:"kt_login_forgot_form_submit_button",className:"btn btn-primary font-weight-bolder font-size-h6 px-8 py-4 my-3 mr-4"},"Submit"),y(u.a,{href:"/login"},y("a",{id:"kt_login_forgot_cancel",className:"btn btn-light-primary font-weight-bolder font-size-h6 px-8 py-4 my-3"},"Cancel"))))}))))),y(m.a,null))))}}]),o}(c.a.Component);t.default=k},IIQ4:function(e,t,o){"use strict";o.r(t);var n=o("q1tI"),a=o.n(n),r=o("nOHt"),s=o("9yIF"),i=a.a.createElement;t.default=function(){var e=Object(r.useRouter)().query.token;return i(s.default,{token:e})}},"TH+F":function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/reset-password/[token]",function(){return o("IIQ4")}])},rZ7M:function(e,t,o){"use strict";o.d(t,"b",(function(){return d})),o.d(t,"c",(function(){return u})),o.d(t,"d",(function(){return m})),o.d(t,"a",(function(){return f}));var n=o("vDqi"),a=o.n(n),r="https://airbook.xbs.cloud/api/",s="login",i="forgot-password",l="reset-password",c="users/me/";function d(e,t){return a.a.post(r+s,{email:e,password:t})}function u(e){return a.a.post(r+i,{email:e})}function m(e,t,o){return a.a.post(r+l,{email:e,password:t,password_link:o})}function f(){return a.a.get(r+c)}}},[["TH+F",1,2,0,3,7]]]);