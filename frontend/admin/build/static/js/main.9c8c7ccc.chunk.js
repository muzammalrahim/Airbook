(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{104:function(e,a,t){"use strict";t.d(a,"a",(function(){return c})),t.d(a,"c",(function(){return s})),t.d(a,"d",(function(){return i})),t.d(a,"b",(function(){return m})),t.d(a,"f",(function(){return d})),t.d(a,"g",(function(){return u})),t.d(a,"h",(function(){return p})),t.d(a,"i",(function(){return h})),t.d(a,"e",(function(){return E}));var n=t(88),r=t.n(n),l="https://airbook.aero/api/",c="login",s="register",i="forgot-password",o="reset-password",m="users/me/";function d(e,a){return r.a.post(l+c,{email:e,password:a})}function u(e,a,t,n){return r.a.post(s,{email:e,fullname:a,username:t,password:n})}function p(e){return r.a.post(l+i,{email:e})}function h(e,a,t){return r.a.post(l+o,{email:e,password:a,password_link:t})}function E(){return r.a.get(l+m)}},1184:function(e,a,t){},1266:function(e,a,t){},1267:function(e,a,t){},1268:function(e,a,t){},1269:function(e,a,t){},1270:function(e,a,t){},1271:function(e,a,t){},1272:function(e,a,t){},1273:function(e,a,t){},1276:function(e,a,t){},1277:function(e,a,t){},1278:function(e,a,t){},1279:function(e,a,t){"use strict";t.r(a);t(558),t(566);var n=t(0),r=t.n(n),l=t(6),c=t.n(l),s=t(88),i=t.n(s),o=t(41),m=t(109),d=t(540),u=t(184),p=t(99),h=t.n(p),E=t(168),b=t(4),f=t(217),v=t.n(f),g=t(104),_=t(85),y="demo1-lastLocation";function k(){_.c(y)}var N=h.a.mark(x);function C(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function w(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?C(Object(t),!0).forEach((function(a){Object(b.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var O={Login:"[Login] Action",Logout:"[Logout] Action",Register:"[Register] Action",UserRequested:"[Request User] Action",UserLoaded:"[Load User] Auth API"},S={user:void 0,authToken:void 0},j=Object(u.a)({storage:v.a,key:"demo1-auth",whitelist:["user","authToken"]},(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case O.Login:var t=a.payload.authToken;return{authToken:t,user:void 0};case O.Register:var n=a.payload.authToken;return{authToken:n,user:void 0};case O.Logout:return k(),S;case O.UserLoaded:var r=a.payload.user;return w({},e,{user:r});default:return e}})),T={login:function(e){return{type:O.Login,payload:{authToken:e}}},register:function(e){return{type:O.Register,payload:{authToken:e}}},logout:function(){return{type:O.Logout}},requestUser:function(e){return{type:O.UserRequested,payload:{user:e}}},fulfillUser:function(e){return{type:O.UserLoaded,payload:{user:e}}}};function x(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.c)(O.Login,h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.b)(T.requestUser());case 2:case"end":return e.stop()}}),e)})));case 2:return e.next=4,Object(E.c)(O.Register,h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.b)(T.requestUser());case 2:case"end":return e.stop()}}),e)})));case 4:return e.next=6,Object(E.c)(O.UserRequested,h.a.mark((function e(){var a,t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.e)();case 2:return a=e.sent,t=a.data,e.next=6,Object(E.b)(T.fulfillUser(t));case 6:case"end":return e.stop()}}),e)})));case 6:case"end":return e.stop()}}),N)}var M=h.a.mark(A),D=Object(m.c)({auth:j,i18n:o.g.i18n.reducer,builder:o.g.builder.reducer});function A(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.a)([x()]);case 2:case"end":return e.stop()}}),M)}var R=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.d,L=Object(d.a)(),I=Object(m.e)(D,R(Object(m.a)(L))),F=Object(u.b)(I);L.run(A);var U=I,G=t(57),P=t(3),z=t(525),V=t(307),H=t(1),B=t(181),q=t(134),W=t(69),Y=t(1367),J=t(1333),K=t(1285),X=t(1334),Q=t(5),Z=t(31),$=t(77),ee=t(13),ae="builderActiveTab";function te(){var e=localStorage.getItem(ae),a=Object(n.useState)(e?+e:0),t=Object(H.a)(a,2),l=t[0],c=t[1],s=Object(G.d)(),i=Object(G.e)((function(e){return{layoutConfig:e.builder.layoutConfig}}),G.c).layoutConfig,m=Object(n.useState)(!1),d=Object(H.a)(m,2),u=d[0],p=d[1],h=Object(n.useState)({paddingRight:"2.5rem"}),E=Object(H.a)(h,2),b=E[0],f=E[1],v=Object(n.useState)(!1),g=Object(H.a)(v,2),_=g[0],y=g[1],k=Object(n.useState)({paddingRight:"2.5rem"}),N=Object(H.a)(k,2),C=N[0],w=N[1],O=function(e){s(o.g.builder.actions.setLayoutConfigs(e)),setTimeout((function(){window.location.reload()}),1e3)},S=Object(n.useMemo)((function(){return Object(W.merge)(o.b,i)}),[i]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"The layout builder helps to configure the layout with preferred options and preview it in real time. The configured layout options will be saved until you change or reset them. To use the layout builder choose the layout options and click the ",r.a.createElement("code",null,"Preview")," button to preview the changes."),r.a.createElement(q.a,{initialValues:S,onSubmit:function(e){p(!0),f({paddingRight:"3.5rem"}),O(e)},onReset:function(){y(!0),w({paddingRight:"3.5rem"}),O(o.f)}},(function(e){var a=e.values,t=e.handleReset,n=e.handleSubmit,s=e.handleChange,i=e.handleBlur;return r.a.createElement("div",{className:"kt-form kt-form--label-right"},r.a.createElement(Z.a,null,r.a.createElement(Z.d,{toolbar:r.a.createElement(Z.e,null,r.a.createElement(Y.a,{component:"div",className:"builder-tabs",value:l,onChange:function(e,a){c(a),localStorage.setItem(ae,a)}},r.a.createElement(J.a,{label:"Skins"}),r.a.createElement(J.a,{label:"Header"}),r.a.createElement(J.a,{label:"Subheader"}),r.a.createElement(J.a,{label:"Content"}),r.a.createElement(J.a,{label:"Aside"}),r.a.createElement(J.a,{label:"Footer"})))}),0===l&&r.a.createElement(Z.b,null,r.a.createElement("div",{className:"kt-section kt-margin-t-30"},r.a.createElement("div",{className:"kt-section__body"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-3 col-form-label"},"Header Skin:"),r.a.createElement("div",{className:"col-lg-9 col-xl-4"},r.a.createElement("select",{className:"form-control",name:"header.self.skin",onBlur:i,value:Object(W.get)(a,"header.self.skin"),onChange:s},r.a.createElement("option",{value:"light"},"Light (Default)"),r.a.createElement("option",{value:"dark"},"Dark")),r.a.createElement(K.a,null,"Select header skin"))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-3 col-form-label"},"Header Menu Skin:"),r.a.createElement("div",{className:"col-lg-9 col-xl-4"},r.a.createElement("select",{className:"form-control",name:"header.menu.desktop.submenu.skin",onBlur:i,value:Object(W.get)(a,"header.menu.desktop.submenu.skin"),onChange:s},r.a.createElement("option",{value:"light"},"Light (Default)"),r.a.createElement("option",{value:"dark"},"Dark")),r.a.createElement(K.a,null,"Select header menu skin"))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-3 col-form-label"},"Logo Bar Skin:"),r.a.createElement("div",{className:"col-lg-9 col-xl-4"},r.a.createElement("select",{className:"form-control",name:"brand.self.skin",onBlur:i,value:Object(W.get)(a,"brand.self.skin"),onChange:s},r.a.createElement("option",{value:"dark"},"Dark (Default)"),r.a.createElement("option",{value:"light"},"Light")),r.a.createElement(K.a,null,"Select logo bar skin"))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-3 col-form-label"},"Aside Skin:"),r.a.createElement("div",{className:"col-lg-9 col-xl-4"},r.a.createElement("select",{className:"form-control",name:"aside.self.skin",onBlur:i,value:Object(W.get)(a,"aside.self.skin"),onChange:s},r.a.createElement("option",{value:"dark"},"Dark (Default)"),r.a.createElement("option",{value:"light"},"Light")),r.a.createElement(K.a,null,"Select logo bar skin")))))),1===l&&r.a.createElement(Z.b,null,r.a.createElement("div",{className:"kt-section kt-margin-t-30"},r.a.createElement("div",{className:"kt-section__body"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-3 col-form-label"},"Fixed Desktop Header:"),r.a.createElement("div",{className:"col-lg-9 col-xl-4"},r.a.createElement(X.a,{onBlur:i,onChange:s,name:"header.self.fixed.desktop",checked:Object(W.get)(a,"header.self.fixed.desktop")}),r.a.createElement(K.a,null,"Enable fixed header for mobile mode"))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-3 col-form-label"},"Mobile Fixed Header:"),r.a.createElement("div",{className:"col-lg-9 col-xl-4"},r.a.createElement(X.a,{onBlur:i,onChange:s,name:"header.self.fixed.mobile",checked:Object(W.get)(a,"header.self.fixed.mobile")}),r.a.createElement(K.a,null,"Enable fixed header for mobile mode"))),r.a.createElement("div",{className:"kt-separator kt-separator--space-lg kt-separator--border-dashed"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-3 col-form-label"},"Display Header Menu:"),r.a.createElement("div",{className:"col-lg-9 col-xl-4"},r.a.createElement(X.a,{onBlur:i,onChange:s,name:"header.menu.self.display",checked:Object(W.get)(a,"header.menu.self.display")}),r.a.createElement(K.a,null,"Display header menu"))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-3 col-form-label"},"Header Menu Layout:"),r.a.createElement("div",{className:"col-lg-9 col-xl-4"},r.a.createElement("select",{className:"form-control",name:"header.menu.self.layout",onBlur:i,value:Object(W.get)(a,"header.menu.self.layout"),onChange:s},r.a.createElement("option",{value:"default"},"Default"),r.a.createElement("option",{value:"tab"},"Tab")),r.a.createElement(K.a,null,"Select header menu layout style"))),r.a.createElement("div",{className:"kt-separator kt-separator--space-lg kt-separator--border-dashed"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-3 col-form-label"},"Header Menu Arrows:"),r.a.createElement("div",{className:"col-lg-9 col-xl-4"},r.a.createElement(X.a,{onBlur:i,onChange:s,name:"header.menu.self.root-arrow",checked:Object(W.get)(a,"header.menu.self.root-arrow")}),r.a.createElement(K.a,null,"Enable header menu root link arrows")))))),2===l&&r.a.createElement(Z.b,null,r.a.createElement("div",{className:"kt-section kt-margin-t-30"},r.a.createElement("div",{className:"kt-section__body"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-3 col-form-label"},"Display Subheader:"),r.a.createElement("div",{className:"col-lg-9 col-xl-4"},r.a.createElement(X.a,{onBlur:i,onChange:s,name:"subheader.display",checked:Object(W.get)(a,"subheader.display")}),r.a.createElement(K.a,null,"Enable/Disable subheader"))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-3 col-form-label"},"Fixed Subheader:"),r.a.createElement("div",{className:"col-lg-9 col-xl-4"},r.a.createElement(X.a,{onBlur:i,onChange:s,name:"subheader.fixed",checked:Object(W.get)(a,"subheader.fixed")}),r.a.createElement(K.a,null,"Enable fixed(sticky) subheader. Requires"," ",r.a.createElement("code",null,"Solid")," subheader style."))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-3 col-form-label"},"Width:"),r.a.createElement("div",{className:"col-lg-9 col-xl-4"},r.a.createElement("select",{className:"form-control",name:"subheader.width",onBlur:i,value:Object(W.get)(a,"subheader.width"),onChange:s},r.a.createElement("option",{value:"fluid"},"Fluid"),r.a.createElement("option",{value:"fixed"},"Fixed")),r.a.createElement(K.a,null,"Select layout width type"))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-3 col-form-label"},"Subheader Style:"),r.a.createElement("div",{className:"col-lg-9 col-xl-4"},r.a.createElement("select",{className:"form-control",name:"subheader.style",onBlur:i,value:Object(W.get)(a,"subheader.style"),onChange:s},r.a.createElement("option",{value:"transparent"},"Transparent"),r.a.createElement("option",{value:"solid"},"Solid")),r.a.createElement(K.a,null,"Select subheader style")))))),3===l&&r.a.createElement(Z.b,null,r.a.createElement("div",{className:"kt-section kt-margin-t-30"},r.a.createElement("div",{className:"kt-section__body"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-3 col-form-label"},"Width:"),r.a.createElement("div",{className:"col-lg-9 col-xl-4"},r.a.createElement("select",{className:"form-control",name:"content.width",onBlur:i,value:Object(W.get)(a,"content.width"),onChange:s},r.a.createElement("option",{value:"fluid"},"Fluid"),r.a.createElement("option",{value:"fixed"},"Fixed")),r.a.createElement(K.a,null,"Select layout width type")))))),4===l&&r.a.createElement(Z.b,null,r.a.createElement("div",{className:"kt-section kt-margin-t-30"},r.a.createElement("div",{className:"kt-section__body"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-3 col-form-label"},"Display:"),r.a.createElement("div",{className:"col-lg-9 col-xl-4"},r.a.createElement(X.a,{onBlur:i,onChange:s,name:"aside.self.display",checked:Object(W.get)(a,"aside.self.display")}),r.a.createElement(K.a,null,"Display aside menu"))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-3 col-form-label"},"Fixed:"),r.a.createElement("div",{className:"col-lg-9 col-xl-4"},r.a.createElement(X.a,{onBlur:i,onChange:s,name:"aside.self.fixed",checked:Object(W.get)(a,"aside.self.fixed")}),r.a.createElement(K.a,null,"Set fixed aside layout"))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-3 col-form-label"},"Minimize:"),r.a.createElement("div",{className:"col-lg-9 col-xl-4"},r.a.createElement(X.a,{onBlur:i,onChange:s,name:"aside.self.minimize.toggle",checked:Object(W.get)(a,"aside.self.minimize.toggle")}),r.a.createElement(K.a,null,"Allow aside minimizing"))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-3 col-form-label"},"Default Minimize:"),r.a.createElement("div",{className:"col-lg-9 col-xl-4"},r.a.createElement(X.a,{onBlur:i,onChange:s,name:"aside.self.minimize.default",checked:Object(W.get)(a,"aside.self.minimize.default")}),r.a.createElement(K.a,null,"Set aside minimized by default"))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-3 col-form-label pt-4"},"Submenu Toggle:"),r.a.createElement("div",{className:"col-lg-9 col-xl-4"}," ",r.a.createElement("select",{className:"form-control",name:"aside.menu.dropdown",onBlur:i,value:Object(W.get)(a,"aside.menu.dropdown").toString(),onChange:s},r.a.createElement("option",{value:"true"},"Dropdown"),r.a.createElement("option",{value:"false"},"Accordion")),r.a.createElement(K.a,null,"Select submenu toggle mode (works only when"," ",r.a.createElement("code",null,"Fixed Mode")," is disabled)")))))),5===l&&r.a.createElement(Z.b,null,r.a.createElement("div",{className:"kt-section kt-margin-t-30"},r.a.createElement("div",{className:"kt-section__body"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-3 col-form-label"},"Fixed Footer:"),r.a.createElement("div",{className:"col-lg-9 col-xl-4"},r.a.createElement(X.a,{onBlur:i,onChange:s,name:"footer.self.fixed",checked:Object(W.get)(a,"footer.self.fixed")}),r.a.createElement(K.a,null,"Set fixed footer"))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-lg-3 col-form-label"},"Width:"),r.a.createElement("div",{className:"col-lg-9 col-xl-4"},r.a.createElement("select",{className:"form-control",name:"footer.self.width",onBlur:i,value:Object(W.get)(a,"footer.self.width"),onChange:s},r.a.createElement("option",{value:"fluid"},"Fluid"),r.a.createElement("option",{value:"fixed"},"Fixed")),r.a.createElement(K.a,null,"Select layout width type")))))),r.a.createElement(Z.c,null,r.a.createElement("div",{className:"kt-padding-30 text-center"},r.a.createElement("button",{type:"button",onClick:n,style:b,className:"btn btn-primary btn-elevate kt-login__btn-primary ".concat(Object(Q.a)({"kt-spinner kt-spinner--right kt-spinner--md kt-spinner--light":u}))},r.a.createElement("i",{className:"la la-eye"})," Preview")," ",r.a.createElement("button",{type:"button",onClick:t,style:C,className:"btn btn-secondary btn-elevate kt-login__btn-primary ".concat(Object(Q.a)({"kt-spinner kt-spinner--right kt-spinner--md kt-spinner--dark":_}))},r.a.createElement("i",{className:"la la-recycle"})," Reset")))),r.a.createElement(Z.a,null,r.a.createElement(Z.d,{title:r.a.createElement(r.a.Fragment,null,"Generated Config"," ",r.a.createElement("small",null,"can be used for layout config in"," ",r.a.createElement("code",null,"/src/_metronic/layouts/demo1/LayoutConfig.js")))}),r.a.createElement(Z.b,null,r.a.createElement($.a,{disableCopy:"true",language:"json",code:JSON.stringify(a,null,2)}))))})))}var ne=t(136);var re=t(32),le=t.n(re);function ce(e){var a=e.rowData,t=e.type,n=Object(B.k)();return r.a.createElement("div",{className:"kt-widget5"},a&&a.length?a.map((function(e,a){return r.a.createElement("div",{className:"kt-widget5__item",key:a},r.a.createElement("div",{className:"kt-widget5__content"},r.a.createElement("div",{className:"kt-widget5__section"},e.title,r.a.createElement("div",{className:"kt-widget5__info"},r.a.createElement("span",null,"Author:"),r.a.createElement("span",{className:"kt-font-info"}," ",e.user.contact?e.user.contact.first_name+" "+e.user.contact.last_names:" -- "),r.a.createElement("span",null,"Created:"),r.a.createElement("span",{className:"kt-font-info"}," ",le()(e.created_at).format("DD-MM-YYYY"))))),r.a.createElement("div",{className:"kt-widget5__content"},r.a.createElement("div",{className:"kt-widget5__stats"},r.a.createElement("a",{onClick:function(){return n.push("/admin/"+t+"/asset/"+e.id)},className:"btn btn-sm btn-label-brand btn-bold"},"View Detail"))))})):r.a.createElement("div",{className:"kt-widget5__item"},r.a.createElement("div",{className:""},r.a.createElement("div",{className:"kt-widget5__section"}," No pending item "))))}var se=t(530),ie="https://airbook.aero/api/",oe="https://airbook.aero/static/media/uploads/",me="/static/media/NO_IMAGE.svg",de={"Content-Type":"application/json",Authorization:"Token "+he()},ue=[{value:"user-activation",label:"User Account Activation"},{value:"user-registration",label:"User Signup"},{value:"asset-submission",label:"Asset Submission"},{value:"asset-approved",label:"Asset Approved"},{value:"asset-expiring",label:"Asset Expiry Alert"},{value:"asset-expired",label:"Asset expired"},{value:"leads-email",label:"Leads Email"},{value:"parts-rfq",label:"Parts RFQ"}],pe=[{value:"GMT-11:00",label:"GMT-11:00"},{value:"GMT-11:30",label:"GMT-11:30"},{value:"GMT-10:00",label:"GMT-10:00"},{value:"GMT-10:30",label:"GMT-10:30"},{value:"GMT-9:00",label:"GMT-9:00"},{value:"GMT-9:30",label:"GMT-9:30"},{value:"GMT-8:00",label:"GMT-8:00"},{value:"GMT-8:30",label:"GMT-8:30"},{value:"GMT-7:00",label:"GMT-7:00"},{value:"GMT-7:30",label:"GMT-7:30"},{value:"GMT-6:00",label:"GMT-6:00"},{value:"GMT-6:30",label:"GMT-6:30"},{value:"GMT-5:00",label:"GMT-5:00"},{value:"GMT-5:30",label:"GMT-5:30"},{value:"GMT-4:00",label:"GMT-4:00"},{value:"GMT-4:30",label:"GMT-4:30"},{value:"GMT-3:00",label:"GMT-3:00"},{value:"GMT-3:30",label:"GMT-3:30"},{value:"GMT-2:00",label:"GMT-2:00"},{value:"GMT-2:30",label:"GMT-2:30"},{value:"GMT-1:00",label:"GMT-1:00"},{value:"GMT-1:30",label:"GMT-1:30"},{value:"GMT 0:00",label:"GMT 0:00"},{value:"GMT+0:30",label:"GMT+0:30"},{value:"GMT+1:00",label:"GMT+1:00"},{value:"GMT+1:30",label:"GMT+1:30"},{value:"GMT+2:00",label:"GMT+2:00"},{value:"GMT+2:30",label:"GMT+2:30"},{value:"GMT+3:00",label:"GMT+3:00"},{value:"GMT+3:30",label:"GMT+3:30"},{value:"GMT+4:00",label:"GMT+4:00"},{value:"GMT+4:30",label:"GMT+4:30"},{value:"GMT+5:00",label:"GMT+5:00"},{value:"GMT+5:30",label:"GMT+5:30"},{value:"GMT+6:00",label:"GMT+6:00"},{value:"GMT+6:30",label:"GMT+6:30"},{value:"GMT+7:00",label:"GMT+7:00"},{value:"GMT+7:30",label:"GMT+7:30"},{value:"GMT+8:00",label:"GMT+8:00"},{value:"GMT+8:30",label:"GMT+8:30"},{value:"GMT+9:00",label:"GMT+9:00"},{value:"GMT+9:30",label:"GMT+9:30"},{value:"GMT+10:00",label:"GMT+10:00"},{value:"GMT+10:30",label:"GMT+10:30"},{value:"GMT+11:00",label:"GMT+11:00"},{value:"GMT+11:30",label:"GMT+11:30"}];function he(){var e=null;if(null!=localStorage.getItem("persist:demo1-auth"))if(void 0!=(e=JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken))e=e.replace(/['"]+/g,"");else e=null;return e}function Ee(e){if(null!=localStorage.getItem("persist:demo1-auth")){var a=JSON.parse(localStorage.getItem("persist:demo1-auth")).user;if(void 0!=a){if("admin"==(a=JSON.parse(a)).group_name.toLowerCase())return!0;if(Array.isArray(e))for(var t in e){if(a.permissions.indexOf(e[t])>-1)return!0;if(a.group_permissions.indexOf(e[t])>-1)return!0}else{if(a.permissions.indexOf(e)>-1)return!0;if(a.group_permissions.indexOf(e)>-1)return!0}}}return!1}function be(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={headers:de,params:a};return i.a.get(ie+e,t).then((function(e){return void 0!=e.data.results&&(e.extra_data={count:e.data.count,next:e.data.next,previous:e.data.previous},e.data=e.data.results),e}))}function fe(e,a){var t={headers:de};return i.a.patch(ie+e,a,t)}function ve(e,a){var t={headers:de};return i.a.post(ie+e,a,t)}function ge(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={headers:de,data:a};return i.a.delete(ie+e,t)}function _e(e,a){var t={headers:de,data:e,model:a};return i.a.post(ie+"import",t)}var ye=[{label:"Home",value:"1"},{label:"Aircraft",value:"2"},{label:"Engine",value:"3"},{label:"Apu",value:"4"},{label:"Wanted",value:"5"},{label:"Airport",value:"6"},{label:"News",value:"7"},{label:"Event",value:"8"},{label:"Contact",value:"9"},{label:"Company",value:"10"},{label:"Part",value:"11"},{label:"About_Airbook",value:"12"},{label:"Airbook_features",value:"13"},{label:"Help_Support",value:"14"}],ke=[{label:"Islam",value:"Islam"},{label:"Judasim",value:"Judasim"},{label:"Christianity",value:"Christianity"},{label:"Hinduism",value:"Hinduism"},{label:"Buddhism",value:"Buddhism"},{label:"Sikhism",value:"Sikhism"},{label:"Confucianism",value:"Confucianism"},{label:"Shinto",value:"Shinto"},{label:"Taoism",value:"Taoism"},{label:"Other",value:"Other"}],Ne=[{value:"page-top",label:"Page Top",dimensions:{height:"80",width:"200"}},{value:"page-bottom",label:"Page Bottom",dimensions:{height:"80",width:"200"}},{value:"page-sidebar",label:"Page Sidebar",dimensions:{height:"385",width:"385"}}],Ce=[{label:"Email",value:"Email"},{label:"Phone",value:"Phone"},{label:"Both",value:"Both"}],we=[{label:"Male",value:"male"},{label:"Female",value:"female"}],Oe=[{label:"Mr",value:"Mr"},{label:"Mrs",value:"Mrs"},{label:"Ms",value:"Ms"}],Se=[{label:"Pending Approval",value:"Pending Approval"},{label:"Approved",value:"Approved"},{label:"Revise",value:"Revise"},{label:"Rejected",value:"Rejected"},{label:"Expired",value:"Expired"}],je=[{label:"On hold",value:"on hold"},{label:"Solved",value:"solved"}],Te=[{label:"Operational",value:"Operational"},{label:"Parking",value:"Parking"},{label:"Storage",value:"Storage"},{label:"For Tear Down",value:"For Tear Down"}],xe=[{label:"EASA",value:"EASA"},{label:"FAA",value:"FAA"},{label:"TBA",value:"TBA"}],Me=[{label:"Sale",value:"Sale"},{label:"ACMI",value:"ACMI"},{label:"Dry Lease",value:"Dry Lease"},{label:"Wet Lease",value:"Wet Lease"},{label:"Lease Purchase",value:"Lease Purchase"},{label:"Exchange",value:"Exchange"},{label:"Charter",value:"Charter"}],De=[{label:"New",value:"new"},{label:"As removed",value:"as removed"},{label:"Overhauled",value:"overhauled"},{label:"Serviceable",value:"serviceable"},{label:"Repaired",value:"repaired"},{label:"Operational",value:"operational"},{label:"Storage",value:"storage"},{label:"Non serviceable",value:"non serviceable"},{label:"Tear down",value:"tear down"}],Ae=[{label:"Sale",value:"Sale"},{label:"Lease",value:"Lease"},{label:"Lease Purchase",value:"Lease Purchase"},{label:"Exchange",value:"Exchange"}],Re=[{label:"EA",value:"EA"},{label:"KG",value:"KG"},{label:"LBS",value:"LBS"},{label:"MM",value:"MM"},{label:"CM",value:"CM"},{label:"inch",value:"inch"},{label:"foot",value:"foot"},{label:"liter",value:"liter"},{label:"gallon",value:"gallon"}],Le=[{label:"Aircraft",value:"aircraft"},{label:"Engine",value:"engine"},{label:"Apu",value:"apu"},{label:"Parts",value:"parts"}],Ie=[{label:"ACMI",value:"ACMI"},{label:"Dry Lease",value:"Dry Lease"},{label:"Charter",value:"Charter"},{label:"Lease Purchase",value:"Lease Purchase"},{label:"Outright Purchase",value:"Outright Purchase"}],Fe=[{label:"Outright Purchase",value:"Outright Purchase"},{label:"Lease",value:"Lease"},{label:"Lease Purchase",value:"Lease Purchase"},{label:"Exchange",value:"Exchange"},{label:"Part out",value:"Part out"}],Ue=[{label:"Cash",value:"cash"},{label:"Exchange",value:"Exchange"}],Ge=function(e){return new Promise((function(a){setTimeout((function(){a()}),e)}))},Pe=function(){var e=Object(se.a)(h.a.mark((function e(a,t,n,r){var l,c,s,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge(100);case 2:return a?(c=a.toLowerCase(),l=n.filter((function(e){return e.label.toLowerCase().includes(c)}))):l=n,s=l.length>t.length+10,i=l.slice(t.length,t.length+10),e.abrupt("return",{options:i,hasMore:s});case 6:case"end":return e.stop()}}),e)})));return function(a,t,n,r){return e.apply(this,arguments)}}();function ze(e){var a=e.title,t=e.desc,l=e.rawData,c=e.chartType,s=e.color,i=e.step,m=Object(n.useRef)(),d=[!0,!1],u=Object(G.e)((function(e){return{brandColor:o.g.builder.selectors.getConfig(e,"colors.state.brand"),dangerColor:o.g.builder.selectors.getConfig(e,"colors.state.danger"),successColor:o.g.builder.selectors.getConfig(e,"colors.state.success"),primaryColor:o.g.builder.selectors.getConfig(e,"colors.state.primary")}})),p=u.brandColor,h=u.dangerColor,E=u.successColor,b=u.primaryColor,f=[E,p,h,b],v=[],g=[];function _(){return f[Math.floor(Math.random()*f.length)]}return l.data&&"monthly"===i&&(l.data.sort((function(e,a){return e.month-a.month})),l.data.forEach((function(e,a){v.push(""+le()(e.month,"M").format("MMMM")),g.push(""+e.count)}))),Object(n.useEffect)((function(){var e="line",a=m.current.getContext("2d").createLinearGradient(0,0,0,240);a.addColorStop(0,ne.Chart.helpers.color(_()).alpha(.6).rgbString()),a.addColorStop(1,ne.Chart.helpers.color(_()).alpha(.3).rgbString()),c&&(e=""+c);var t=new ne.Chart(m.current,{data:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{backgroundColor:s||_(),borderColor:ne.Chart.helpers.color(_()).alpha(.5).rgbString(),fill:d[Math.floor(Math.random()*d.length)],data:"monthly"===i?g:[15,20,25,30,25,20,15,20,25,30,25,20,15,10,15,20].sort((function(e,a){return.5-Math.random()})),borderDash:[5,5]}]},type:e,options:{title:{display:!1},tooltips:{intersect:!1,mode:"nearest",xPadding:10,yPadding:10,caretPadding:10},legend:{display:!1},responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{display:!0,scaleLabel:{display:!1,labelString:"Month"}}],yAxes:[{display:!0,scaleLabel:{display:!1,labelString:"Value"}}]},layout:{padding:{left:0,right:0,top:10,bottom:0}}}});return function(){t.destroy()}}),[p,h,E,b,g]),r.a.createElement("div",{className:"kt-chart__widget"},r.a.createElement("div",{className:"kt-chart__widget_header kt-margin-b-30"},r.a.createElement("h3",{className:"kt-chart__widget_title"},a),r.a.createElement("span",{className:"kt-chart__widget_desc"},t)),r.a.createElement("div",{className:"kt-chart__widget_chart",style:{height:"120px"}},r.a.createElement("canvas",{ref:m})),r.a.createElement("div",{className:"kt-chart__widget_legends"},r.a.createElement("div",{className:"kt-chart__widget_legend"},r.a.createElement("span",{className:"flaticon2-up kt-font-success"}),r.a.createElement("span",{className:"kt-chart__widget_stats"},l?l.active:0)),r.a.createElement("div",{className:"kt-chart__widget_legend"},r.a.createElement("span",{className:"flaticon2-down kt-font-danger"}),r.a.createElement("span",{className:"kt-chart__widget_stats"},l?l.inactive:0))))}var Ve=t(252);function He(e){var a=e.title,t=e.desc,l=e.rawData,c=e.chartType,s=e.color,i=e.step,m=Object(n.useRef)(),d=[!0,!1],u=Object(G.e)((function(e){return{brandColor:o.g.builder.selectors.getConfig(e,"colors.state.brand"),dangerColor:o.g.builder.selectors.getConfig(e,"colors.state.danger"),successColor:o.g.builder.selectors.getConfig(e,"colors.state.success"),primaryColor:o.g.builder.selectors.getConfig(e,"colors.state.primary")}})),p=u.brandColor,h=u.dangerColor,E=u.successColor,b=u.primaryColor,f=[E,p,h,b],v=[];if(l.data&&"monthly"===i&&(l.data.sort((function(e,a){return e.month-a.month})),l.data.forEach((function(e,a){v.push(""+e.count)}))),l.dataAssets&&"monthly"===i)for(var g=0,_=1;_<=12;_++){if(g=0,l.dataAssets.aircraft)e:for(var y=0;y<l.dataAssets.aircraft.length;y++)if(l.dataAssets.aircraft[y].month===_){g+=l.dataAssets.aircraft[y].count;break e}if(l.dataAssets.engine)e:for(var k=0;k<l.dataAssets.engine.length;k++)if(l.dataAssets.engine[k].month===_){g+=l.dataAssets.engine[k].count;break e}if(l.dataAssets.apu)e:for(var N=0;N<l.dataAssets.apu.length;N++)if(l.dataAssets.apu[N].month===_){g+=l.dataAssets.apu[N].count;break e}v.push(""+g)}function C(){return f[Math.floor(Math.random()*f.length)]}return Object(n.useEffect)((function(){var e="line",a=m.current.getContext("2d").createLinearGradient(0,0,0,240);a.addColorStop(0,ne.Chart.helpers.color("#d1f1ec").alpha(1).rgbString()),a.addColorStop(1,ne.Chart.helpers.color("#d1f1ec").alpha(.3).rgbString()),c&&(e=""+c);var t=new ne.Chart(m.current,{data:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{backgroundColor:s||C(),borderColor:ne.Chart.helpers.color(C()).alpha(.5).rgbString(),fill:d[Math.floor(Math.random()*d.length)],data:"monthly"===i?v:[15,20,25,30,25,20,15,20,25,30,25,20,15,10,15,20].sort((function(e,a){return.5-Math.random()})),borderDash:[5,5]}]},type:e,options:{title:{display:!1},tooltips:{intersect:!1,mode:"nearest",xPadding:10,yPadding:10,caretPadding:10},legend:{display:!1},responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{display:!0,scaleLabel:{display:!1,labelString:"Month"}}],yAxes:[{display:!0,scaleLabel:{display:!1,labelString:"Value"}}]},layout:{padding:{left:0,right:0,top:10,bottom:0}}}});return function(){t.destroy()}}),[p,h,E,b,v]),r.a.createElement("div",{className:"kt-portlet kt-portlet--height-fluid"},r.a.createElement("div",{className:"kt-portlet__body kt-portlet__body--fit"},r.a.createElement("div",{className:"kt-chart__widget"},r.a.createElement("div",{className:"kt-chart__widget_header kt-margin-b-30"},r.a.createElement("h3",{className:"kt-chart__widget_title"},a),r.a.createElement("span",{className:"kt-chart__widget_desc"},t)),r.a.createElement("div",{className:"kt-chart__widget_chart",style:{height:"120px"}},r.a.createElement("canvas",{ref:m})),r.a.createElement("div",{className:"kt-chart__widget_legends"},r.a.createElement("div",{className:"kt-chart__widget_legend"},r.a.createElement("span",{className:"flaticon2-up kt-font-success"}),r.a.createElement("span",{className:"kt-chart__widget_stats"},l?l.active:0)),r.a.createElement("div",{className:"kt-chart__widget_legend"},r.a.createElement("span",{className:"flaticon2-down kt-font-danger"}),r.a.createElement("span",{className:"kt-chart__widget_stats"},l?l.inactive:0))))))}var Be=t(1335),qe=t(532),We=t(366),Ye=t(139),Je=t(1336),Ke=t(1337),Xe=t(1338),Qe=t(1339),Ze=t(1340),$e=t(148);function ea(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}var aa=Object($e.a)((function(e){return{title:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1),paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}}})),ta=Object($e.a)((function(e){return{tableWrapper:{overflowX:"auto"}}}));function na(){var e=aa(),a=ta(),t=r.a.useState([]),l=Object(H.a)(t,2),c=l[0],s=l[1],i=r.a.useState(0),m=Object(H.a)(i,2),d=m[0],u=m[1],p=r.a.useState(0),h=Object(H.a)(p,2),E=h[0],f=h[1],v=r.a.useState({aircrafts:"",engines:"",apus:"",wanteds:"",parts:""}),g=Object(H.a)(v,2),_=g[0],y=g[1],k=Object(G.e)((function(e){return{brandColor:o.g.builder.selectors.getConfig(e,"colors.state.brand"),dangerColor:o.g.builder.selectors.getConfig(e,"colors.state.danger"),successColor:o.g.builder.selectors.getConfig(e,"colors.state.success"),primaryColor:o.g.builder.selectors.getConfig(e,"colors.state.primary")}})),N=k.brandColor,C=k.dangerColor,w=k.successColor,O=k.primaryColor;Object(n.useMemo)((function(){return{chart1:{data:[10,14,18,11,9,12,14,17,18,14],color:N,border:3},chart2:{data:[11,12,18,13,11,12,15,13,19,15],color:C,border:3},chart3:{data:[12,12,18,11,15,12,13,16,11,18],color:w,border:3},chart4:{data:[11,9,13,18,13,15,14,13,18,15],color:O,border:3}}}),[N,C,O,w]),S("Frozen yoghurt",159,6,24,4),S("Ice cream sandwich",237,9,37,4.3),S("Eclair",262,16,24,6),S("Cupcake",305,3.7,67,4.3),S("Gingerbread",356,16,49,3.9);function S(e,a,t,n,r){return{name:e,calories:a,fat:t,carbs:n,protein:r}}function j(e){be(e,{isactivestatus:"Pending Approval",layout:"dashboard"}).then((function(a){var t=[];a.data.map((function(e,a){t[a]=e;var n=e.title.replace(/-/g," ");t[a].title=n.split("YOM")[0]})),f(t.length),y(function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?ea(Object(t),!0).forEach((function(a){Object(b.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ea(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},_,Object(b.a)({},e,t)))}))}return 0===d&&(be("admin_dashboard",{}).then((function(e){s(e.data)})),j("aircrafts"),u(d+1)),r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,null,r.a.createElement(Z.b,{fit:!0},r.a.createElement("div",{className:"row row-no-padding row-col-separator-xl"},r.a.createElement("div",{className:"col-xl-12"},r.a.createElement(Z.a,{fluidHeight:!0},r.a.createElement(Z.d,{title:"Pending Approvals",desc:"Latest ".concat(E," pending approvals"),className:"flex-column align-items-start",classNameHeader:"pt-3"}),r.a.createElement(Z.b,null,r.a.createElement(Be.a.Container,{id:"pending-approvals",defaultActiveKey:"aircrafts"},r.a.createElement(qe.a,{variant:"pills"},r.a.createElement(qe.a.Item,null,r.a.createElement(qe.a.Link,{eventKey:"aircrafts",onSelect:function(e){return j("aircrafts")}},"Aircrafts")),r.a.createElement(qe.a.Item,null,r.a.createElement(qe.a.Link,{eventKey:"engines",onSelect:function(e){return j("engines")}},"Engines")),r.a.createElement(qe.a.Item,null,r.a.createElement(qe.a.Link,{eventKey:"apus",onSelect:function(e){return j("apus")}},"APU's"))),r.a.createElement(Be.a.Content,null,r.a.createElement(Be.a.Pane,{eventKey:"aircrafts"},r.a.createElement(ce,{rowData:_.aircrafts,type:"aircraft"})),r.a.createElement(Be.a.Pane,{eventKey:"engines"},r.a.createElement(ce,{rowData:_.engines,type:"engine"})),r.a.createElement(Be.a.Pane,{eventKey:"apus"},r.a.createElement(ce,{rowData:_.apus,type:"apu"})))))))))),r.a.createElement(Z.a,null,r.a.createElement(Z.b,{fit:!0},r.a.createElement("div",{className:"row row-no-padding row-col-separator-xl"},r.a.createElement("div",{className:"col-xl-4"},r.a.createElement(ze,{title:"Users",desc:"Number of active and inactive Users",rawData:{active:c.activeUser,inactive:c.inActiveUser,data:c.userYearlyData},chartType:"bar",color:"#098785",step:"monthly"})),r.a.createElement("div",{className:"col-xl-4"},r.a.createElement(ze,{title:"Companies",desc:"Number of active and inactive Companies",rawData:{active:c.activeCompany,inactive:c.inActiveCompany,data:c.companyYearlyData},step:"monthly",chartType:"bar"})),r.a.createElement("div",{className:"col-xl-4"},r.a.createElement(ze,{title:"Contacts",desc:"Number of active and inactive Contacts",rawData:{active:c.activeContact,inactive:c.inActiveContact,data:c.contactsYearlyData},step:"monthly"}))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-4"},r.a.createElement(He,{title:"Total Assets",desc:"Number of active and inactive Total Assets",rawData:{active:c.activeTotalAsset,inactive:c.inActiveTotalAsset,dataAssets:{aircraft:c.aircraftsYearlyData,engine:c.enginesYearlyData,apu:c.apusYearlyData}},step:"monthly"})),r.a.createElement("div",{className:"col-xl-4"},r.a.createElement(He,{title:"Aircraft",desc:"Number of active and inactive Aircraft",rawData:{active:c.activeAircraft,inactive:c.inActiveAircraft,data:c.aircraftsYearlyData},chartType:"bar",color:"#456645",step:"monthly"})),r.a.createElement("div",{className:"col-xl-4"},r.a.createElement(He,{title:"Engines",desc:"Number of active and inactive Engines",rawData:{active:c.activeEngine,inactive:c.inActiveEngine,data:c.enginesYearlyData},step:"monthly"}))),r.a.createElement(Z.a,null,r.a.createElement(Z.b,{fit:!0},r.a.createElement("div",{className:"row row-no-padding row-col-separator-xl"},r.a.createElement("div",{className:"col-xl-4"},r.a.createElement(ze,{title:"APU's",desc:"Number of active and inactive APU's",rawData:{active:c.activeApu,inactive:c.inActiveApu,data:c.apusYearlyData},step:"monthly"})),r.a.createElement("div",{className:"col-xl-4"},r.a.createElement(ze,{title:"Wanted",desc:"Number of active and inactive Wanted",rawData:{active:c.activeWanted,inactive:c.inActiveWanted,data:c.wantedYearlyData},step:"monthly",chartType:"bar"})),r.a.createElement("div",{className:"col-xl-4"},r.a.createElement(ze,{title:"Parts",desc:"Number of active and inactive Parts",rawData:{active:c.activePart,inactive:c.inActivePart,data:c.partsYearlyData},step:"monthly"}))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-4"},r.a.createElement(He,{title:"Airports",desc:"Number of active and inactive Airports",rawData:{active:c.activeAirport,inactive:c.inActiveAirport,data:c.airportsYearlyData},step:"monthly",chartType:"bar"})),r.a.createElement("div",{className:"col-xl-4"},r.a.createElement(He,{title:"News",desc:"Number of active and inactive News",rawData:{active:c.activeNews,inactive:c.inActiveNews,data:c.newsYearlyData},step:"monthly"})),r.a.createElement("div",{className:"col-xl-4"},r.a.createElement(He,{title:"Events",desc:"Number of active and inactive Events",rawData:{active:c.activeEvent,inactive:c.inActiveEvent,data:c.eventsYearlyData},step:"monthly",chartType:"bar"}))),r.a.createElement(We.a,null,r.a.createElement(Ye.a,{className:e.title,variant:"h5",component:"h3"},"Recent Airbookers"),r.a.createElement("div",{className:a.tableWrapper},r.a.createElement(Je.a,{"aria-label":"simple table"},r.a.createElement(Ke.a,null,r.a.createElement(Xe.a,null,r.a.createElement(Qe.a,null,"Name"),r.a.createElement(Qe.a,{align:"right"},"Email"),r.a.createElement(Qe.a,{align:"right"},"Company"),r.a.createElement(Qe.a,{align:"right"},"Date"))),r.a.createElement(Ze.a,null,c.recentAirbookers&&c.recentAirbookers.map((function(e){return r.a.createElement(Xe.a,{key:e.id},r.a.createElement(Qe.a,null,e.contact&&e.contact.first_name&&""!==e.contact.first_name?r.a.createElement(P.Link,{target:"_blank",to:"/contact/"+e.contact.id+"/"},e.contact.first_name+" "+e.contact.last_name):" -- "),r.a.createElement(Qe.a,{align:"right"},e.email),r.a.createElement(Qe.a,{align:"right"},e.contact&&e.contact.company&&""!==e.contact.company.name?e.contact.company.name:" -- "),r.a.createElement(Qe.a,{align:"right"},le()(e.created_at).format("DD/MM/YYYY")))})))))))}var ra=t(1371),la=t(1341);function ca(){return r.a.createElement(Z.a,null,r.a.createElement(Z.d,{title:"Quick Start"}),r.a.createElement(Z.b,null,r.a.createElement("ol",null,r.a.createElement("li",null,r.a.createElement("p",null,"Install dependencies:"),r.a.createElement(ra.a,{language:"bash",style:la.a},"yarn install")),r.a.createElement("li",null,r.a.createElement("p",null,"Run dev server:"),r.a.createElement("pre",null,r.a.createElement(ra.a,{language:"bash",style:la.a},"yarn start"))),r.a.createElement("li",null,r.a.createElement("p",null,"To check production build:"),r.a.createElement("pre",null,r.a.createElement(ra.a,{language:"bash",style:la.a},"yarn build && yarn serve")))),r.a.createElement("p",null,"For more detailed information to install the Create React App, visit this official Create React App"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://facebook.github.io/create-react-app/docs/getting-started"},"documentation website"),".")))}function sa(){return r.a.createElement(Z.a,null,r.a.createElement(Z.d,{title:"Deployment"}),r.a.createElement(Z.b,null,r.a.createElement("ol",null,r.a.createElement("li",null,r.a.createElement("p",null,"Setup base url via ",r.a.createElement("code",null,"hompage")," entry in"," ",r.a.createElement("code",null,"package.json"),"."),r.a.createElement($.a,{language:"diff",code:'\n                {\n                  "name": "default",\n                  "version": "0.1.0",\n                  "private": true,\n                - "homepage": "https://keenthemes.com/metronic/preview/react",\n                + "homepage": "https://example.com/my/app",\n                  "scripts": {\n              '})),r.a.createElement("li",null,r.a.createElement("p",null,"Run build."),r.a.createElement(ra.a,{language:"bash",style:la.a},"yarn build"))),r.a.createElement("p",null,"For more detailed information to deploy the Create React App, visit this official Create React App"," ",r.a.createElement("a",{href:"https://facebook.github.io/create-react-app/docs/deployment"},"documentation website"),".")))}function ia(){return r.a.createElement(Z.a,null,r.a.createElement(Z.d,{title:"Overview"}),r.a.createElement(Z.b,null,r.a.createElement("p",null,"React makes it painless to create interactive UIs. Design simple views for each state in your application, and React will efficiently update and render just the right components when your data changes. Declarative views make your code more predictable and easier to debug."),r.a.createElement("p",null,"Build encapsulated components that manage their own state, then compose them to make complex UIs. Since component logic is written in JavaScript instead of templates, you can easily pass rich data through your app and keep state out of the DOM."),r.a.createElement("h5",{id:"files-structure"},"Files Structure"),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Path"),r.a.createElement("th",null,"Description"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"/",r.a.createElement("strong",null,"build")),r.a.createElement("td",null,"The built output. Run command ",r.a.createElement("code",null,"yarn build")," to build it.")),r.a.createElement("tr",null,r.a.createElement("td",null,"/",r.a.createElement("strong",null,"_site")),r.a.createElement("td",null,"The build output copied to serve on local machine. Created by"," ",r.a.createElement("code",null,"yarn serve")," command.")),r.a.createElement("tr",null,r.a.createElement("td",null,"/",r.a.createElement("strong",null,"node_modules")),r.a.createElement("td",null,"The ",r.a.createElement("code",null,"package.json")," file in the app root defines what libraries will be installed into ",r.a.createElement("code",null,"node_modules/")," when you run ",r.a.createElement("code",null,"yarn install"),".")),r.a.createElement("tr",null,r.a.createElement("td",null,"/",r.a.createElement("strong",null,"public")),r.a.createElement("td",null,"\u0421ontains the HTML file so you can tweak it, Change"," ",r.a.createElement("code",null,"<title>"),", insert additional"," ",r.a.createElement("code",null,"<link>")," and ",r.a.createElement("code",null,"<script>")," tags. For more details check"," ",r.a.createElement("a",{href:"https://facebook.github.io/create-react-app/docs/using-the-public-folder#docsNav"},"official documentation"),".")),r.a.createElement("tr",null,r.a.createElement("td",null,"/",r.a.createElement("strong",null,"src")),r.a.createElement("td",null,"Your app lives in the src folder. All React components, styles, images, and anything else your app needs go here.")),r.a.createElement("tr",null,r.a.createElement("td",null,"/src/",r.a.createElement("strong",null,"_metronic")),r.a.createElement("td",null,"Contains the Metronic core elements: layout, themes, redux ducks, context providers.")),r.a.createElement("tr",null,r.a.createElement("td",null,"/src/",r.a.createElement("strong",null,"app")),r.a.createElement("td",null,"Main app folder")),r.a.createElement("tr",null,r.a.createElement("td",null,"/src/app/",r.a.createElement("strong",null,"crud")),r.a.createElement("td",null,"CRUD methods")),r.a.createElement("tr",null,r.a.createElement("td",null,"/src/app/",r.a.createElement("strong",null,"i18n")),r.a.createElement("td",null,"Used by ",r.a.createElement("code",null,"I18nProvider")," to override"," ",r.a.createElement("code",null,"react-intl")," messages.")),r.a.createElement("tr",null,r.a.createElement("td",null,"/src/app/",r.a.createElement("strong",null,"pages")),r.a.createElement("td",null,"Containes web pages.")),r.a.createElement("tr",null,r.a.createElement("td",null,"/src/app/",r.a.createElement("strong",null,"partials")),r.a.createElement("td",null,"Contains reusable UI components.")),r.a.createElement("tr",null,r.a.createElement("td",null,"/src/app/",r.a.createElement("strong",null,"store")),r.a.createElement("td",null,"Contains ",r.a.createElement("code",null,"redux")," store configurations and it's"," ",r.a.createElement("code",null,"ducks"),".")),r.a.createElement("tr",null,r.a.createElement("td",null,"/src/app/",r.a.createElement("strong",null,"widgets")),r.a.createElement("td",null,"Containes reusable widget components.")),r.a.createElement("tr",null,r.a.createElement("td",null,".gitignore"),r.a.createElement("td",null,"Git uses it to determine which files and directories to ignore, before you make a commit.")),r.a.createElement("tr",null,r.a.createElement("td",null,"serve.json"),r.a.createElement("td",null,"Used by ",r.a.createElement("code",null,"serve-handler")," runned by command"," ",r.a.createElement("code",null,"yarn serve"),".")),r.a.createElement("tr",null,r.a.createElement("td",null,"package.json"),r.a.createElement("td",null,"A package.json file contains meta data about app or module. Most importantly, it includes the list of dependencies to install from npm when running npm install."))))))}function oa(){return r.a.createElement(Z.a,null,r.a.createElement(Z.d,{title:"Internationalization (i18n)"}),r.a.createElement(Z.b,null,r.a.createElement("h3",{id:"overview"},"Overview"),r.a.createElement("p",null,"We're using ",r.a.createElement("code",null,"react-intl")," for internationalization, check official"," ",r.a.createElement("a",{href:"https://github.com/formatjs/react-intl/blob/master/docs/Getting-Started.md"},"documentation")," ","and"," ",r.a.createElement("a",{href:"https://github.com/formatjs/react-intl/tree/master/examples"},"examples"),"."),r.a.createElement("h3",{id:"how-to-add-a-new-language"},"How to add a new language"),r.a.createElement("p",null,r.a.createElement("strong",null,"Note: if there are no locale data for your new language in"," ",r.a.createElement("code",null,"react-intl/locale-data")," you will have to manually add locale data")),r.a.createElement("h5",null,"This is example how to add Turkish language:"),r.a.createElement("ol",null,r.a.createElement("li",null,r.a.createElement("p",null,"Update ",r.a.createElement("code",null,"src/app/partials/layout/LanguageSelector.js")),r.a.createElement($.a,{language:"diff",code:'\n                const languages = [\n                  {\n                    lang: "en",\n                    name: "English",\n                    flag: toAbsoluteUrl("/static/media/flags/012-uk.svg")\n                  },\n                + {\n                +   lang: "tr",\n                +   name: "Turkish",\n                +   flag: toAbsoluteUrl("/static/media/flags/006-turkey.svg")\n                + },\n                {\n              '})),r.a.createElement("li",null,r.a.createElement("p",null,"Add ",r.a.createElement("code",null,"src/_metronic/i18n/messages/tr.json")),r.a.createElement($.a,{language:"diff",code:'\n                + {\n                +    "TRANSLATOR.SELECT": "Dilinizi se\xe7in",\n                +    "MENU.NEW": "yeni",\n                +    "MENU.ACTIONS": "Eylemler",\n                +    "MENU.CREATE_POST": "Yeni G\xf6nderi Olu\u015ftur",\n              '})),r.a.createElement("li",null,r.a.createElement("p",null,"Register messages and locale data in"," ",r.a.createElement("code",null,"src/_metronic/i18n/I18nProvider.js")),r.a.createElement($.a,{language:"diff",code:'\n                import * as ja from "react-intl/locale-data/ja";\n                import * as zh from "react-intl/locale-data/zh";\n                + import * as tr from "react-intl/locale-data/tr";\n                \n                import deMessages from "./messages/de";\n                import enMessages from "./messages/en";\n                import esMessages from "./messages/es";\n                import frMessages from "./messages/fr";\n                import jaMessages from "./messages/ja";\n                import zhMessages from "./messages/zh";\n                + import trMessages from "./messages/tr";\n                \n                const allMessages = {\n                  de: deMessages,\n                  en: enMessages,\n                  es: esMessages,\n                  fr: frMessages,\n                  ja: jaMessages,\n                  zh: zhMessages\n                + tr: trMessages\n                };\n                \n                - addLocaleData([...de, ...en, ...es, ...fr, ...ja, ...zh]);\n                + addLocaleData([...de, ...en, ...es, ...fr, ...ja, ...zh, ...tr]);\n                \n                export default function I18nProvider({ children }) {\n              '}))),r.a.createElement("h4",{id:"how-to-use"},"How to use"),r.a.createElement("p",null,"In the sample React app demo, the core parts like"," ",r.a.createElement("code",null,"left sided menu"),", ",r.a.createElement("code",null,"topbar horizontal menu"),", etc. are already implemented with the translation."),r.a.createElement("p",null,"The translator understands flat JSON object as defined in"," ",r.a.createElement("code",null,"src/_metronic/i18n/messages/en.json"),". This means that you can have a translation that looks like this:"),r.a.createElement("ol",null,r.a.createElement("li",null,"Add translation to ",r.a.createElement("code",null,"src/app/i18n/en.json"),":",r.a.createElement($.a,{language:"json",code:'\n                {\n                  "HOME.HELLO": "Hello, {name}!"\n                }\n              '})),r.a.createElement("li",null,r.a.createElement("p",null,"Format it with component:"),r.a.createElement($.a,{language:"jsx",code:'\n                import { FormattedMessage } from "react-intl";\n                \n                export default function Hello({ name }) {\n                  return <FormattedMessage id="HOME.HELLO" values={{ name }} />;\n                }\n              '}),r.a.createElement("p",null,"Or with hook:"),r.a.createElement($.a,{language:"jsx",code:'\n                import { useIntl } from "react-intl";\n                \n                export default function Hello({ name }) {\n                  const intl = useIntl();\n                \n                  return <h3>{intl.formatMessage({ id: "HOME.HELLO" }, { name })}</h3>;\n                }\n              '})," ",r.a.createElement("p",null,"Or with HOC (Higher order component):"),r.a.createElement($.a,{language:"jsx",code:'\n                import { injectIntl } from "react-intl";\n                \n                function Hello({ name, intl /* Prop injected with `injectIntl` */ }) {\n                  return <h3>{intl.formatMessage({ id: "HOME.HELLO" }, { name })}</h3>;\n                }\n                \n                export default injectIntl(Hello);\n              '})))))}function ma(){return r.a.createElement(Z.a,null,r.a.createElement(Z.d,{title:"Mock Back-end"}),r.a.createElement(Z.b,null,r.a.createElement("h3",{id:"overview"},"Overview"),r.a.createElement("p",null,"We use ",r.a.createElement("code",null,"axios-mock-adapter")," for demo purpose, it intercepts"," ",r.a.createElement("code",null,"axios")," requests and redirects to mocked handlers."),r.a.createElement("p",null,"For more info on the library:"," ",r.a.createElement("a",{href:"https://github.com/ctimmerm/axios-mock-adapter"},"https://github.com/ctimmerm/axios-mock-adapter"),"."),r.a.createElement("h3",{id:"how-switching-to-the-real-rest-api"},"How switching to the Real REST API"),r.a.createElement("p",null,"Remove mock initialization in ",r.a.createElement("code",null,"src/index.js"),":"),r.a.createElement($.a,{language:"diff",code:'\n            -import { mockAxios, setupAxios } from "./_metronic";\n            +import { setupAxios } from "./_metronic";\n            \n            import "./index.css";\n            \n            /**\n             * Website public url.\n             *\n             * @see https://facebook.github.io/create-react-app/docs/using-the-public-folder\n             */\n            const { PUBLIC_URL } = process.env;\n            \n            -/**\n            - * Mock API, use return `mock` variable to add new mocks.\n            - *\n            - * @see https://github.com/ctimmerm/axios-mock-adapter\n            - */\n            -/* const mock = */ mockAxios(axios);\n            -\n            /**\n             * Inject metronic interceptors for axios.    \n        '})))}function da(){return r.a.createElement(Z.a,null,r.a.createElement(Z.d,{title:"How to create a custom page"}),r.a.createElement(Z.b,null,r.a.createElement("div",null,r.a.createElement("h2",{id:"how-to-create-a-custom-page"},"How to create a custom page"),r.a.createElement("p",null,"Here is the example on how to create your own page and add it to the left side menu and breadcrumbs."),r.a.createElement("ol",null,r.a.createElement("li",null,r.a.createElement("p",null,"Create page component ",r.a.createElement("code",null,"src/app/pages/home/MyPage.js")),r.a.createElement($.a,{language:"jsx",code:'\n                  import React from "react";\n                  \n                  export default function MyPage() {\n                    return <h1>Hello!</h1>\n                  }              \n              '})),r.a.createElement("li",null,r.a.createElement("p",null,"Update ",r.a.createElement("code",null,"src/app/pages/home/HomePage.js")),r.a.createElement($.a,{language:"diff",code:'\n                  import React from "react";\n                  import { Redirect, Route, Switch } from "react-router-dom";\n                  \n                  import Builder from "./Builder";\n                  import Dashboard from "./Dashboard";\n                  import GoogleMaterialPage from "./google-material/GoogleMaterialPage";\n                  + import MyPage from "./MyPage";\n                  \n                  export default function HomePage() {\n                   return (\n                     <Switch>\n                       {\n                         /* Redirect from root url to /dashboard. */\n                         <Redirect exact={true} from="/" to="/dashboard" />\n                       }\n                  \n                       <Route path="/builder" component={Builder} />\n                       <Route path="/dashboard" component={Dashboard} />\n                       <Route path="/google-material" component={GoogleMaterialPage} />\n                  +    <Route path="/my-page" component={MyPage} />\n                     </Switch>\n                   );\n                  }            \n              '})),r.a.createElement("li",null,r.a.createElement("p",null,"Register page in"," ",r.a.createElement("code",null,"src/_metronic/layouts/demo1/MenuConfig.js")),r.a.createElement($.a,{language:"diff",code:'\n                  aside: {\n                   self: {},\n                   items: [\n                     {\n                       title: "Dashboard",\n                       root: true,\n                       icon: "flaticon2-architecture-and-city",\n                       page: "dashboard",\n                       translate: "MENU.DASHBOARD",\n                       bullet: "dot"\n                     },\n                  +  {\n                  +    title: \'My Page\', // <= Title of the page\n                  +    desc: \'Some my description goes here\', // <= Description of the page\n                  +    root: true,\n                  +    page: \'my-page\', // <= URL\n                  +    icon: \'flaticon-line-graph\' // <= Choose the icon\n                  +  },         \n              '}))),r.a.createElement("p",null,"The result of the 3 steps is:"))))}function ua(){return r.a.createElement(Z.a,null,r.a.createElement(Z.d,{title:"How to use a demo"}),r.a.createElement(Z.b,null,r.a.createElement("p",null,"Theme comes with multi-demo app and single app components. For demo purpose, all demos layout are enabled by default. Here is the guide on how to set only one demo for production use and to remove the demo name from the URL router."),r.a.createElement("p",null,"All demos are modular and easy to switch. Multi-demo app is located in the ",r.a.createElement("code",null,"src/DemoApp.js")),r.a.createElement("p",null,"Go to the entry file ",r.a.createElement("code",null,"src/index.js"),". The example code below shows how to use ",r.a.createElement("code",null,"demo2")," as a default. You can change the module path to use different demo module."),r.a.createElement($.a,{language:"diff",code:'            \n            import axios from "axios";\n            import React from "react";\n            import ReactDOM from "react-dom";\n            -import DemoApp from "./DemoApp";\n            +import App from "./App";\n            import store, { persistor } from "./app/store/store";\n            import { mockAxios, setupAxios } from "./_metronic";\n            \n            import "./index.css";\n            \n            /**\n             * Website public url.\n             *\n             * @see https://facebook.github.io/create-react-app/docs/using-the-public-folder\n             */\n            const { PUBLIC_URL } = process.env;\n            \n            /**\n             * Mock API, use return `mock` variable to add new mocks.\n             *\n             * @see https://github.com/ctimmerm/axios-mock-adapter\n             */\n            /* const mock = */ mockAxios(axios);\n            \n            /**\n             * Inject metronic interceptors for axios.\n             *\n             * @see https://github.com/axios/axios#interceptors\n             */\n            setupAxios(axios, store);\n            \n            -// Uncomment to enable single App mode.\n            -/*\n            const Layout = React.lazy(() =>\n            -  import("./_metronic/layouts/demo1/Layout.js")\n            +  import("./_metronic/layouts/demo2/Layout.js")\n            );\n            \n            ReactDOM.render(\n              <App\n                store={store}\n                Layout={Layout}\n                persistor={persistor}\n                basename={PUBLIC_URL}\n              />,\n              document.getElementById("root")\n            );\n            -*/\n            -\n            -// Multi-demo app mode.\n            -ReactDOM.render(\n            -  <DemoApp store={store} persistor={persistor} basename={PUBLIC_URL} />,\n            -  document.getElementById("root")\n            -);\n          '})))}function pa(){return r.a.createElement(B.g,null,r.a.createElement(B.d,{path:"/admin/docs/quick-start",component:ca}),r.a.createElement(B.d,{path:"/admin/docs/overview",component:ia}),r.a.createElement(B.d,{path:"/admin/docs/deployment",component:sa}),r.a.createElement(B.d,{path:"/admin/docs/i18n",component:oa}),r.a.createElement(B.d,{path:"/admin/docs/mock-backend",component:ma}),r.a.createElement(B.d,{path:"/admin/docs/create-a-page",component:da}),r.a.createElement(B.d,{path:"/admin/docs/use-a-demo",component:ua}))}var ha=t(20),Ea=t(23),ba=t(50),fa=t(1342),va=t(1343),ga=t(1344),_a=t(1345),ya=t(1348),ka=t(1349),Na=t(1346),Ca=t(1347),wa=t(1286),Oa=t(365),Sa=t(1287),ja=t(1281),Ta=t(1350),xa=t(1364),Ma=t(375);t(38),t(39);function Da(){return(Da=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function Aa(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var Ra=r.a.createElement("title",null,"Stockholm-icons / Shopping / Sort1"),La=r.a.createElement("desc",null,"Created with Sketch."),Ia=r.a.createElement("defs",null),Fa=r.a.createElement("g",{id:"Stockholm-icons-/-Shopping-/-Sort1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.a.createElement("rect",{id:"bound",x:0,y:0,width:24,height:24}),r.a.createElement("rect",{id:"Rectangle-8",fill:"#000000",x:4,y:5,width:16,height:3,rx:1.5}),r.a.createElement("path",{d:"M7.5,11 L16.5,11 C17.3284271,11 18,11.6715729 18,12.5 C18,13.3284271 17.3284271,14 16.5,14 L7.5,14 C6.67157288,14 6,13.3284271 6,12.5 C6,11.6715729 6.67157288,11 7.5,11 Z M10.5,17 L13.5,17 C14.3284271,17 15,17.6715729 15,18.5 C15,19.3284271 14.3284271,20 13.5,20 L10.5,20 C9.67157288,20 9,19.3284271 9,18.5 C9,17.6715729 9.67157288,17 10.5,17 Z",id:"Combined-Shape",fill:"#000000",opacity:.3})),Ua=function(e){var a=e.svgRef,t=e.title,n=Aa(e,["svgRef","title"]);return r.a.createElement("svg",Da({width:"24px",height:"24px",viewBox:"0 0 24 24",ref:a},n),void 0===t?Ra:t?r.a.createElement("title",null,t):null,La,Ia,Fa)},Ga=r.a.forwardRef((function(e,a){return r.a.createElement(Ua,Da({svgRef:a},e))}));t.p;function Pa(e,a,t){var n=e.DataTable().page.info(),r=t.extra_data;void 0!==r[a]?r[a].page_no=n.page:r[a]={page_no:n.page},t.setExtraData(r)}function za(e,a){var t=0,n=a.extra_data.lastPath;if(void 0!==n&&n.indexOf(a.location.pathname)>-1&&-1==n.indexOf("create"))void 0!==a.extra_data[e]&&(t=10*a.extra_data[e].page_no);else{var r=n.replace("/admin/","");void 0!==a.extra_data[e]&&e.search(r.replace("/","_"))&&(a.extra_data[e].page_no=0)}return t}var Va=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=["Jan","Feb","Mar","Apr","May","Jun","July","Aug","Sep","Oct","Nov","Dec"];null===e&&(e=new Date);var n=e.getDate(),r=e.getMonth()+1,l=e.getFullYear();return n<10&&(n="0"+n),r<10&&(r="0"+r),"YYYY-MM-DD"===a?l+"-"+r+"-"+n:"DD-MM-YY"===a?n+"-"+r+"-"+l.toString().substr(-2):"MMM DD, YYYY"===a?t[r-1]+" "+n+", "+l:n+"."+r+"."+l},Ha=t(28),Ba=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))}));fa.a,va.a,ga.a,_a.a,Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));var qa=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),Wa=function(e){var a=qa(),t=e.exportSpinner,n=e.setExpSpin,l=e.csvData,c=e.setCsvData,s=e.numSelected,i=e.type,o=e.selected,m=e.setSelected,d=e.setSelectedMany,u=e.setRowsData,p=e.rows,h=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,s>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon-security"})),s>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},s," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"Airbookers")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},s>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(o.length){var a={ids:o};ge("companies/"+o[0]+"/",a).then((function(e){for(var a in p)o.indexOf(p[a].id)>-1&&delete p[a];u(p),o.length=0,m(o),d(!1);var t=[];t.push(1),h(t),Ka(i)}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:Ba,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){n(""),be("users",{records:"all"}).then((function(e){n("d-none");var a=e.data.map((function(e,a){return e.contact=e.contact?e.contact.first_name+" "+e.contact.last_name:"",e}));c(a),document.getElementById("airbookers-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+t})),r.a.createElement(Ha.CSVLink,{data:l,filename:"airbookers.csv",className:"d-none",id:"airbookers-csv-btn",target:"_blank"})))))))))))},Ya=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),Ja=t(36);function Ka(e){Ja("#airbooker_table").DataTable().ajax.reload(null,!1)}Ja.DataTable=t(40);r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function Xa(e){var a=Ya(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=(o[0],o[1],r.a.useState(0)),d=Object(H.a)(m,2),u=d[0],p=(d[1],r.a.useState(!1)),h=Object(H.a)(p,2),E=(h[0],h[1],r.a.useState(10)),b=Object(H.a)(E,2),f=b[0],v=(b[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=(F[0],F[1],r.a.useState(!1)),G=Object(H.a)(U,2),P=(G[0],G[1],r.a.useState(!1)),z=Object(H.a)(P,2),V=(z[0],z[1],r.a.useState("Changes applied successfully!")),q=Object(H.a)(V,2),W=(q[0],q[1],r.a.useState([])),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState(!1),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ee=r.a.useState("d-none"),ae=Object(H.a)(ee,2),te=ae[0],ne=ae[1],re=Object(B.k)();function le(e){S(!1)}function ce(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){Ja.fn.dataTable.isDataTable("#airbooker_table")&&(Ja("#airbooker_table").DataTable().destroy(),$(!0));return function(){y([]),Ja("#airbooker_table").DataTable().destroy(!0),$(!0)}}),[]),r.a.useEffect((function(){if(Z&&Ja.fn.dataTable.isDataTable("#airbooker_table"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{$(!0);try{!function(){var a=ie+"users?format=datatables",t=[{bVisible:!1,aTargets:[0]},{targets:1,createdCell:function(e,a,t,n,l){var s="";s=t.contact?t.contact.first_name+" "+t.contact.last_name:"",s=t.id+"-"+s.replace(/\s+/g,"-").toLowerCase(),c.a.render(r.a.createElement("a",{target:"_blank",style:{cursor:"pointer"},href:"/"+s+"/"},a),e)}},{targets:3,searchable:!1,orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{onClick:function(){return re.push("/admin/airbookers/"+t.id+"/permissions")}},r.a.createElement(Ta.a,{variant:"primary"},a?"Permissions":"No Permission"," ")),e)}},{targets:4,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return ce(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}},{targets:5,title:"Actions",searchable:!1,orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{title:"Delete",onClick:function(e){return ce(e,n,"delete")},className:"btn btn-sm btn-clean btn-icon btn-icon-sm"},r.a.createElement("i",{className:"flaticon2-trash"})),e)}}];Ja("#airbooker_table").DataTable({responsive:{details:{renderer:Ja.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("users",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){a.contact?e[t].contact__first_name=a.contact.first_name+" "+a.contact.last_name:e[t].contact__first_name="",e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n           <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[1,"desc"]],columnDefs:t}),Ja("#airbooker_table").on("page.dt",(function(){Pa(Ja("#airbooker_table"),"users",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);Math.min(f,_.length-u*f);return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(Wa,{exportSpinner:te,setExpSpin:ne,csvData:J,setCsvData:K}),r.a.createElement("div",{className:"kt-portlet__body"},r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){Ja("#airbooker_table").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))),r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"airbooker_table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"contact__first_name"},"Name"),r.a.createElement("th",{"data-data":"email"},"Email"),r.a.createElement("th",{"data-data":"user_permissions"},"Permissions"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions")))))))))),r.a.createElement(xa.a,{show:O,onHide:le},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("users/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),Ka()}))}else"delete"==R&&ge("users/"+_[x].id+"/").then((function(e){_.filter((function(e,a){return a!==x}));y(_),S(!1),Ka()}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:le},"No"))))}var Qa=t(7),Za=t(8),$a=t(10),et=t(9),at=t(12),tt=t(11),nt=t(291),rt=t(292),lt=t.n(rt),ct=t(1302),st=t(1284);function it(e){var a=e.code,t=e.language,l=e.disableCopy,c=Object(n.useState)(!1),s=Object(H.a)(c,2),i=s[0],o=s[1],m=Object(n.useMemo)((function(){return Object(nt.dedent)(a)}),[a]);return r.a.createElement("div",{className:"kt-portlet__code"},!l&&r.a.createElement(ja.a,{title:"Copied",placement:"left",open:i,onClose:function(){o(!1)}},r.a.createElement("a",{href:"#",className:"kt-portlet__code-copy",onClick:function(){return lt()(a).then((function(){o(!0)}))}},r.a.createElement("i",{className:"la la-copy"}))),r.a.createElement(ct.a,{language:t,style:st.a},m))}function ot(e){var a=e.jsCode,t=e.children,l=e.beforeCodeTitle,c=Object(n.useState)(!1),s=Object(H.a)(c,2),i=s[0];s[1];return r.a.createElement(Z.a,null,r.a.createElement(Z.d,{title:l,toolbar:a}),r.a.createElement(Z.b,null,a&&i&&r.a.createElement(it,{language:"javascript",code:a}),t&&r.a.createElement("div",{className:"kt-portlet__preview"},t)))}var mt=t(1365),dt=t(535),ut=t(1351),pt=(t(96),function(e){function a(e){var t;Object(Qa.a)(this,a),t=Object($a.a)(this,Object(et.a)(a).call(this,e));var n=e.data.userProp.contact?e.data.userProp.contact.id:null;return t.txt_weight={fontWeight:500},t.handleModalShow=t.handleModalShow.bind(Object(at.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.confirm=t.confirm.bind(Object(at.a)(t)),t.state={contact:{},action:"",showModal:!1,created_at:"",updated_at:"",image:null,is_published:""},t.getUser(n),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getUser",value:function(e){var a=this;be("contacts/"+e+"/").then((function(e){a.setState({created_at:(new Intl.DateTimeFormat).format(new Date(e.data.created_at)),updated_at:(new Intl.DateTimeFormat).format(new Date(e.data.updated_at)),image:e.data.media?e.data.media.original_file_name:null}),a.setState({contact:e.data})}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.contact;n[a]=e,this.setState({contact:n}),fe("contacts/"+this.state.contact.id+"/",this.state.contact).then((function(e){t.setState({contact:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalShow",value:function(e,a){var t=e.target.value;"status"===a&&(t=parseInt(t),this.setState({is_published:1===t?0:1})),this.setState({action:a}),this.setState({showModal:!0})}},{key:"handleModalClose",value:function(){this.setState({showModal:!1})}},{key:"confirm",value:function(){var e=this;"status"===this.state.action&&(this.state.contact.is_published=this.state.is_published,fe("contacts/"+this.state.contact.id+"/",{is_published:this.state.is_published}).then((function(a){e.setState({contact:a.data}),e.setState({showModal:!1})})).catch((function(a){e.props.sendError(a.response.data),e.setState({showModal:!1})})))}},{key:"render",value:function(){var e=this.state,a=(e.validated,e.contact);return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement(mt.a,null,r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"6",xs:"12"},r.a.createElement(mt.a.Label,null,"Name"),r.a.createElement("br",null),r.a.createElement(mt.a.Label,{style:this.txt_weight},a.first_name+" "+a.last_name)),r.a.createElement(mt.a.Group,{as:dt.a,md:"6",xs:"12"},r.a.createElement(mt.a.Label,null,"Religion"),r.a.createElement("br",null),r.a.createElement(mt.a.Label,{style:this.txt_weight},a.religion))),r.a.createElement("hr",null),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"6",xs:"12"},r.a.createElement(mt.a.Label,null,"Company"),r.a.createElement("br",null),r.a.createElement(mt.a.Label,{style:this.txt_weight},a.company?a.company.name:"")),r.a.createElement(mt.a.Group,{as:dt.a,md:"6",xs:"12"},r.a.createElement(mt.a.Label,null,"Job Title"),r.a.createElement("br",null),r.a.createElement(mt.a.Label,{style:this.txt_weight},a.job_title?a.job_title.name:"")),r.a.createElement(mt.a.Group,{as:dt.a,md:"6",xs:"12"},r.a.createElement(mt.a.Label,null,"Department"),r.a.createElement("br",null),r.a.createElement(mt.a.Label,{style:this.txt_weight},a.department?a.department.name:""))),r.a.createElement("hr",null),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"6",xs:"12"},r.a.createElement(mt.a.Label,null,"Mobile Phone"),r.a.createElement("br",null),r.a.createElement(mt.a.Label,{style:this.txt_weight},a.mobile_phone)),r.a.createElement(mt.a.Group,{as:dt.a,md:"6",xs:"12"},r.a.createElement(mt.a.Label,null,"Business Phone"),r.a.createElement("br",null),r.a.createElement(mt.a.Label,{style:this.txt_weight},a.business_phone)),r.a.createElement(mt.a.Group,{as:dt.a,md:"6",xs:"12"},r.a.createElement(mt.a.Label,null,"Skype"),r.a.createElement("br",null),r.a.createElement(mt.a.Label,{style:this.txt_weight},a.skype)),r.a.createElement(mt.a.Group,{as:dt.a,md:"6",xs:"12"},r.a.createElement(mt.a.Label,null,"Linkedin"),r.a.createElement("br",null),r.a.createElement(mt.a.Label,{style:this.txt_weight},a.linkedin))),r.a.createElement("hr",null),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"6",xs:"12"},r.a.createElement(mt.a.Label,null,"Address"),r.a.createElement("br",null),r.a.createElement(mt.a.Label,{style:this.txt_weight},a.address)),r.a.createElement(mt.a.Group,{as:dt.a,md:"6",xs:"12"},r.a.createElement(mt.a.Label,null,"City"),r.a.createElement("br",null),r.a.createElement(mt.a.Label,{style:this.txt_weight},a.city?a.city.name:"")),r.a.createElement(mt.a.Group,{as:dt.a,md:"6",xs:"12"},r.a.createElement(mt.a.Label,null,"State"),r.a.createElement("br",null),r.a.createElement(mt.a.Label,{style:this.txt_weight},a.state?a.state.name:"")),r.a.createElement(mt.a.Group,{as:dt.a,md:"6",xs:"12"},r.a.createElement(mt.a.Label,null,"Country"),r.a.createElement("br",null),r.a.createElement(mt.a.Label,{style:this.txt_weight},a.country?a.country.name:""))),r.a.createElement("hr",null),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"6",xs:"12"},r.a.createElement(mt.a.Label,null,"Preferred contact method"),r.a.createElement("br",null),r.a.createElement(mt.a.Label,{style:this.txt_weight},a.preferred_contact_method)),r.a.createElement(mt.a.Group,{as:dt.a,md:"6",xs:"12"},r.a.createElement(mt.a.Label,null,"Primary Status"),r.a.createElement("br",null),r.a.createElement(mt.a.Label,{style:this.txt_weight},0==a.is_primary?"No":"Yes"))))),r.a.createElement(ut.a,{item:!0,xs:12,md:3},r.a.createElement("img",{style:{maxHeight:"220px",maxWidth:"200px"},src:this.state.image?oe+this.state.image:oe+"dummy_image.svg"}))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"danger",onClick:this.confirm},"Yes"),r.a.createElement(Ma.a,{variant:"success",onClick:this.handleModalClose},"No"))))}}]),a}(r.a.Component)),ht=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).setMainTitle=function(e){t.setState({title:e})},t.state={errors:{},showError:!1,title:"Account Setting"},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.title,jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement("button",{onClick:function(){return e.props.history.push("/admin/update-account-password")},className:"btn btn-brand btn-square btn-icon-sm mr-2"},"Update Password"),r.a.createElement("button",{onClick:function(){return e.props.history.push("/admin/contacts/"+e.props.userProp.contact.id+"/edit")},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(pt,{data:this.props,sendError:this.sendError,setTitle:this.setMainTitle}))))))}}]),a}(r.a.Component),Et=Object(B.o)(ht),bt=t(1352),ft=t(27),vt=t(1353),gt={success:fa.a,warning:va.a,error:ga.a,info:_a.a};var _t=Object(ft.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}))((function(e){var a=e.classes,t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["classes","className","message","onClose","variant"]),i=gt[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))})),yt=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).handleCloseSnackbar=function(){t.setState({showSnackbar:!1})};var n=e.data.userProp?e.data.userProp.id:null;return t.state={validated:!1,user:{},showSnackbar:!1,variant:"success"},t.getUser(n),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getUser",value:function(e){var a=this;be("users/"+e+"/").then((function(e){a.setState({user:e.data})}))}},{key:"handleChange",value:function(e){var a=this.state.user,t=e.target.name,n=e.target.value;"current_password"!=t&&"newest_password"!=t||(""!=n&&n.length<8?this.setState({showSnackbar:!0,variant:"error",snackMessage:"The password field must be at least 8 characters."}):this.setState({showSnackbar:!1})),a[t]=n,this.setState({user:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),ve("changepassword",this.state.user).then((function(e){a.props.data.history.push("/admin/admin-user")})).catch((function(e){a.setState({showSnackbar:!0,variant:"error",snackMessage:e.response.data.error})}))}},{key:"render",value:function(){var e=this;this.state.user;return r.a.createElement("div",null,r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Group,{as:bt.a},r.a.createElement(mt.a.Label,{column:!0,sm:"3",className:"text-sm-right text-left"},"Current Password"),r.a.createElement(dt.a,{sm:"9",lg:"6"},r.a.createElement(mt.a.Control,{type:"password",placeholder:"",name:"current_password",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Group,{as:bt.a},r.a.createElement(mt.a.Label,{column:!0,sm:"3",className:"text-sm-right text-left"},"New Password"),r.a.createElement(dt.a,{sm:"9",lg:"6"},r.a.createElement(mt.a.Control,{type:"password",placeholder:"",name:"newest_password",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(Ma.a,{type:"submit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/account-setting",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel")),r.a.createElement(vt.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:this.state.showSnackbar,autoHideDuration:16e5,onClose:this.handleCloseSnackbar},r.a.createElement(_t,{onClose:this.handleCloseSnackbar,variant:this.state.variant,message:this.state.snackMessage})))}}]),a}(r.a.Component),kt=r.a.createElement(P.Link,{to:"/admin/account-setting",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),Nt=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Update Password",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},kt))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(yt,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Ct=Object(B.o)(Nt),wt=t(1369),Ot=t(35),St=t.n(Ot),jt=(r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),{success:fa.a,warning:va.a,error:ga.a,info:_a.a}),Tt=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function xt(e){var a=Tt(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=jt[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var Mt=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),Dt=function(e){var a=Mt(),t=e.numSelected,n=e.selected,l=e.setSelected,c=e.setSelectedMany,s=e.setRowsData,i=e.rows,o=e.setTemp;e.csvData;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,t>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon2-open-box"})),t>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},t," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"Airfield Types")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},t>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(n.length){var a={ids:n};ge("airfield/"+n[0]+"/",a).then((function(e){for(var a in i)n.indexOf(i[a].id)>-1&&delete i[a];s(i),n.length=0,l(n),c(!1);var t=[];t.push(1),o(t),Lt()}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/airfield/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record")))))))},At=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),Rt=t(36);function Lt(e,a){Rt("#airfield").DataTable().ajax.reload(null,!1)}Rt.DataTable=t(40);var It=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function Ft(e){var a=At(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState([]),te=Object(H.a)(ae,2),ne=te[0],re=(te[1],r.a.useState(!1)),le=Object(H.a)(re,2),ce=le[0],se=le[1],oe=r.a.useState({create:Ee("add_abairfieldtypes"),edit:Ee("change_abairfieldtypes"),delete:Ee("delete_abairfieldtypes"),view:Ee("view_abairfieldtypes")}),me=Object(H.a)(oe,2),de=me[0],ue=(me[1],Object(B.k)()),pe=e.match.params.type;function he(e){S(!1)}function be(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){Rt.fn.dataTable.isDataTable("#airfield")&&(Rt("#airfield").DataTable().destroy(),se(!0));return function(){y([]),Rt("#airfield").DataTable().destroy(!0),se(!0)}}),[]),r.a.useEffect((function(){if(ce&&Rt.fn.dataTable.isDataTable("#airfield"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{se(!0);try{!function(){var a=ie+"airfield?format=datatables",t=[{bVisible:!1,aTargets:[1]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:_e(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),Rt("#airfield").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:_e(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{onClick:function(){return ue.push("/admin/airfield/"+t.id)}},a),e)}},{targets:3,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return be(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(de.create||de.edit)&&t.push({targets:4,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:It}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},de.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return ue.push("/admin/airfield/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",de.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return be(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});Rt("#airfield").DataTable({responsive:{details:{renderer:Rt.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("airfield",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n         <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[3,"desc"]],columnDefs:t}),Rt("#airfield").on("page.dt",(function(){Pa(Rt("#airfield"),"airfield",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var ve=function(e,a){K(!1)},_e=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(Dt,{csvData:ne,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,type:pe}),r.a.createElement("div",{className:"kt-portlet__body"},de.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){Rt("#airfield").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",de.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"airfield"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),Lt()},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:he},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("airfield/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),Lt(),K(!0);var t=1===e.data.is_active?"activated":"deactivated";$("Record successfully "+t)}))}else"delete"==R&&ge("airfield/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),Lt(),K(!0),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:he},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:16e5,onClose:ve},r.a.createElement(xt,{onClose:ve,variant:"success",message:Z})))}var Ut=t(1289),Gt=t(1354),Pt=t(1355),zt=t(1370),Vt=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).clearForm=function(e){t.props.data.history.replace("/admin/airfield"),t.props.data.history.replace("/admin/airfield/create")},t.state={airfield:{is_active:0},validated:!1,action:""},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"handleChange",value:function(e){var a=this.state.airfield,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({airfield:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),ve("airfield",this.state.airfield).then((function(e){a.setState({airfield:e.data}),"save_new"==a.state.action?a.clearForm("airfield-types-form"):a.props.data.history.push("/admin/airfield")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.airfield);return r.a.createElement(mt.a,{noValidate:!0,id:"airfield-types-form",onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"airfieldtypes",name:"name",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/airfield",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Ht=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Airfield Type",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/airfield",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Vt,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Bt=Object(B.o)(Ht),qt=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,r=n.airfield_id,l=n.type;return t.txt_weight={fontWeight:500},t.handleModalShow=t.handleModalShow.bind(Object(at.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.confirm=t.confirm.bind(Object(at.a)(t)),t.state={type:l,airfield:{},action:"",showModal:!1,created_at:"",updated_at:"",is_active:""},t.getAirfield(r),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getAirfield",value:function(e){var a=this;be("airfield/"+e+"/").then((function(e){delete e.data.type,a.setState({created_at:e.data.created_at?(new Intl.DateTimeFormat).format(new Date(e.data.created_at)):"",updated_at:e.data.updated_at?(new Intl.DateTimeFormat).format(new Date(e.data.updated_at)):""}),a.props.setTitle(e.data.name),a.setState({airfield:e.data})}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.airfield;n[a]=e,this.setState({airfield:n}),fe("airfield/"+this.state.airfield.id+"/",this.state.airfield).then((function(e){t.setState({airfield:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalShow",value:function(e,a){var t=e.target.value;"status"===a&&(t=parseInt(t),this.setState({is_active:1===t?0:1})),this.setState({action:a}),this.setState({showModal:!0})}},{key:"handleModalClose",value:function(){this.setState({showModal:!1})}},{key:"confirm",value:function(){var e=this;"status"===this.state.action&&(this.state.airfield.is_active=this.state.is_active,fe("airfield/"+this.state.airfield.id+"/",this.state.airfield).then((function(a){delete a.data.type,e.setState({airfield:a.data}),e.setState({showModal:!1})})).catch((function(a){e.props.sendError(a.response.data),e.setState({showModal:!1})})))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.airfield);return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Name"),r.a.createElement("div",null,t.name?t.name:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Created"),r.a.createElement("div",null,this.state.created_at?this.state.created_at:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Modified"),r.a.createElement("div",null,this.state.updated_at?this.state.updated_at:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Status"),r.a.createElement("div",null,r.a.createElement("span",{onClick:function(a){return e.handleModalShow(a,"status")},className:1===this.state.airfield.is_active?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===t.is_active?"defaultChecked":"",value:1===t.is_active?"1":"0",name:"is_active"}),r.a.createElement("span",null))))))))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:this.confirm},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:this.handleModalClose},"No"))))}}]),a}(r.a.Component),Wt=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).setMainTitle=function(e){t.setState({title:e})};e.match.params.type;return t.state={errors:{},showError:!1,title:"Airfield Types"},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.title,jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/airfield",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/airfield/"+this.props.match.params.airfield_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(qt,{data:this.props,sendError:this.sendError,setTitle:this.setMainTitle}))))))}}]),a}(r.a.Component),Yt=Object(B.o)(Wt),Jt=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params.airfield_id;return t.state={validated:!1,airfield:{}},t.getAirfield(n),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getAirfield",value:function(e){var a=this;be("airfield/"+e+"/").then((function(e){a.setState({airfield:e.data})}))}},{key:"handleChange",value:function(e){var a=this.state.airfield,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({airfield:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),fe("airfield/"+this.state.airfield.id+"/",this.state.airfield).then((function(e){a.setState({airfield:e.data}),a.props.data.history.push("/admin/airfield")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.airfield);return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"specialities",name:"name",defaultValue:t?t.name:"",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/airfield",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Kt=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this,a=r.a.createElement(P.Link,{to:"/admin/airfield",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Airfield Type",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},a))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Jt,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Xt=Object(B.o)(Kt),Qt=(r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}}))),Zt=function(e){Qt(),e.numSelected;return r.a.createElement("div",null)},$t=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"}}})),en=t(36);function an(e){en("#admin_user_table").DataTable().ajax.reload(null,!1)}en.DataTable=t(40);var tn=Object(B.o)((function(e){var a=$t(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=(o[1],r.a.useState(0)),u=Object(H.a)(d,2),p=u[0],h=(u[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=f[0],g=(f[1],r.a.useState(0)),_=Object(H.a)(g,2),y=(_[0],_[1],r.a.useState([])),k=Object(H.a)(y,2),N=k[0],C=k[1],w=r.a.useState(0),O=Object(H.a)(w,2),S=(O[0],O[1],r.a.useState(!1)),j=Object(H.a)(S,2),T=j[0],x=j[1],M=r.a.useState(0),D=Object(H.a)(M,2),A=D[0],R=D[1],L=r.a.useState({}),I=Object(H.a)(L,2),F=I[0],U=I[1],G=r.a.useState([]),z=Object(H.a)(G,2),V=(z[0],z[1],r.a.useState(!1)),q=Object(H.a)(V,2),W=q[0],Y=q[1],J=r.a.useState({create:Ee("add_abusers"),edit:Ee("change_abusers"),delete:Ee("delete_abusers"),view:Ee("view_abusers")}),K=Object(H.a)(J,2),X=K[0],Q=(K[1],Object(B.k)());function Z(e){x(!1)}function $(e,a,t){R(a),U(t),x(!0)}return r.a.useEffect((function(){en.fn.dataTable.isDataTable("#admin_user_table")&&(en("#admin_user_table").DataTable().destroy(),Y(!0));return function(){C([]),en("#admin_user_table").DataTable().destroy(!0),Y(!0)}}),[]),r.a.useEffect((function(){if(W&&en.fn.dataTable.isDataTable("#admin_user_table"))JSON.stringify(N)!==JSON.stringify(window.prevRows)&&(window.prevRows=N);else{Y(!0);try{!function(){var a=ie+"users?format=datatables&not_group=user",t=[{bVisible:!1,aTargets:[0]},{targets:3,orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{onClick:function(){return Q.push("/admin/admin-user/"+t.id+"/permissions")}},r.a.createElement(Ta.a,{variant:"primary"},a?"Permissions":"No Permission"," ")),e)}},{targets:4,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return $(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(X.create||X.edit)&&t.push({targets:-1,orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",null,X.edit?r.a.createElement("a",{style:{cursor:"pointer"},className:"btn btn-sm btn-clean btn-icon btn-icon-sm",onClick:function(){return Q.push("/admin/admin-user/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})):"","\xa0\xa0",X.delete?r.a.createElement("a",{title:"Delete",onClick:function(e){return $(e,n,"delete")},className:"btn btn-sm btn-clean btn-icon btn-icon-sm"},r.a.createElement("i",{className:"flaticon2-trash"})):""),e)}});en("#admin_user_table").DataTable({responsive:{details:{renderer:en.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("users",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){a.contact?e[t].contact__first_name=a.contact.first_name+" "+a.contact.last_name:e[t].contact__first_name="",a.group_name?e[t].groups__name=a.group_name:e[t].groups__name="",e[t].actions=e[t].checkbox=""})),e}(a.data);return C(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n           <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:N.recordsTotal,recordsFiltered:N.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[1,"desc"]],columnDefs:t}),en("#admin_user_table").on("page.dt",(function(){Pa(en("#admin_user_table"),"users",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[N]),Math.min(v,N.length-p*v),r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement(Zt,{numSelected:m.length}),r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon-security"})),r.a.createElement("h3",{className:"kt-portlet__head-title"},"Admin Users")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},X.create?r.a.createElement(P.Link,{to:"/admin/admin-user/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"flaticon2-plus"}),"New Record"):""))))),r.a.createElement("div",{className:"kt-portlet__body"},X.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){en("#admin_user_table").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",X.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"admin_user_table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"contact__first_name"},"Name"),r.a.createElement("th",{"data-data":"groups__name"},"Role"),r.a.createElement("th",{"data-data":"user_permissions"},"Permissions"),r.a.createElement("th",{"data-data":"is_active"},"Status"),X.edit||X.delete?r.a.createElement("th",{"data-data":"actions"},"Actions"):""))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:T,onHide:Z},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==F){var a={is_active:1===N[A].is_active?0:1};fe("users/"+N[A].id+"/",a).then((function(e){var a=N.filter((function(e,a){return a!==A}));C([].concat(Object(ha.a)(a),[e.data])),an(),x(!1)}))}else"delete"==F&&ge("users/"+N[A].id+"/").then((function(e){N.filter((function(e,a){return a!==A}));C(N),x(!1),an(),an()}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:Z},"No"))))})),nn=t(16),rn=t(22),ln=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params.user_id;return t.state={initialOptions:[],validated:!1,modelsLoaded:!1,user:{},groups:[],companies:[],user_permissions:[],company:{value:""},group:{value:""},job_title:""},t.getUser(n),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getCompanies",value:function(){be("companies",{is_active:1,available:!0,contact_id:this.state.user.contact?this.state.user.contact.id:0,records:"all"}).then(function(e){var a=e.data,t={};for(var n in a){a[n].label=a[n].name,a[n].value=a[n].id;try{a[n].id===this.state.user.contact.company.id&&(t={label:a[n].name,value:a[n].id})}catch(r){}}this.setState({companies:a,company:t,modelsLoaded:!0})}.bind(this))}},{key:"getGroups",value:function(){be("groups",{records:"all"}).then(function(e){var a=e.data,t={};for(var n in a){"user"!==a[n].name?(a[n].label=a[n].name,a[n].value=a[n].id):(delete e.data[n],delete a[n]);try{a[n].id===this.state.user.groups[0]&&(t={label:a[n].label,value:a[n].id})}catch(r){}}this.setState({groups:a,group:t})}.bind(this))}},{key:"getUser",value:function(e){var a=this;be("users/"+e+"/").then((function(e){a.setState({user:e.data,job_title:e.data.contact.job_title.id}),a.getCompanies(),a.getGroups()}))}},{key:"selectChanged",value:function(e,a){var t,n=this.state.user;"company"==a?n.contact[a]=e&&e.id?e.id:"":"group"==a&&(n.groups=[e&&e.id?e.id:""]),this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"user",n),t))}},{key:"handleChange",value:function(e){var a=this.state.user,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),"password"==t&&(a.new_password=""!=n?1:0),a[t]=n,"contact"===e.target.getAttribute("model")&&("contact"in a?a.contact[t]=n:a.contact=Object(b.a)({},t,n)),this.setState({user:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0});var t=this.state.user;void 0!==t.contact.company&&(t.contact.company=this.state.company.value),void 0!==t.contact.job_title&&(t.contact.job_title=this.state.job_title),t.contact=t.contact?[t.contact]:t.contact,fe("users/"+this.state.user.id+"/",t).then((function(e){a.setState({user:e.data}),a.props.data.history.push("/admin/admin-user")})).catch((function(e){}))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.user),n=a.initialOptions,l=a.companies,c=a.company,s=a.group,i=a.groups,o=a.modelsLoaded;return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"First name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"contact",name:"first_name",defaultValue:t.contact?t.contact.first_name:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Last name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",model:"contact",name:"last_name",defaultValue:t.contact?t.contact.last_name:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Email *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",model:"user",name:"email",defaultValue:t.email,onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Role"),r.a.createElement(nn.a,{value:s.value?s:"select...",model:"groups",name:"group",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChanged(a,"group")},options:i})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Company"),r.a.createElement(rn.a,{debounceTimeout:o?0:2e3,options:n,model:"contact",isClearable:!0,escapeClearsValue:!0,value:c.value?c:"select...",name:"company",loadOptions:function(e,a){return Pe(e,a,l,o)},onChange:function(a){return e.selectChanged(a,"company")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Password"),r.a.createElement(mt.a.Control,{placeholder:"*******",type:"password",model:"user",name:"password",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update & Close"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/admin-user",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),cn=r.a.createElement(P.Link,{to:"/admin/admin-user",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),sn=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Admin User",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},cn))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(ln,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),on=Object(B.o)(sn),mn=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).clearForm=function(e){t.props.data.history.replace("/admin/admin-user"),t.props.data.history.replace("/admin/admin-user/create")};t.props.data.match.params.user_id;return t.state={initialOptions:[],validated:!1,user:{contact:{},user_permissions:[],is_active:0,groups:{}},companies:[],company:{value:""},group:{value:""},action:"",groups:[],modelsLoaded:!1},t.loadModels(),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"loadModels",value:function(){ve("abmodels",{models:{AbCompanies:{},Group:{}}}).then(function(e){var a=function(a){e.data[a].map((function(t,n){e.data[a][n].label=t.name,e.data[a][n].value=t.id}))};for(var t in e.data)a(t);this.setState({companies:e.data.AbCompanies,groups:e.data.Group,modelsLoaded:!0})}.bind(this))}},{key:"getCompanies",value:function(){be("companies",{is_active:1,available:!0,contact_id:this.state.user.contact?this.state.user.contact.id:0,records:"all"}).then(function(e){var a=e.data;for(var t in a)a[t].label=a[t].name,a[t].value=a[t].id;this.setState({companies:a})}.bind(this))}},{key:"getGroups",value:function(){be("groups",{records:"all"}).then(function(e){var a=e.data;for(var t in a)"user"!==a[t].name?(a[t].label=a[t].name,a[t].value=a[t].id):(delete e.data[t],delete a[t]);this.setState({groups:a})}.bind(this))}},{key:"selectChanged",value:function(e,a){var t,n=this.state.user;"company"==a?n.contact[a]=e&&e.id?e.id:"":"group"==a&&(n.groups=[e&&e.id?e.id:""]),this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"user",n),t))}},{key:"handleChange",value:function(e){var a=this.state.user,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,"contact"===e.target.getAttribute("model")?a.contact[t]=n:"groups"===e.target.getAttribute("model")&&(a.groups[t]=n),this.setState({user:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0});var t=this.state.user;void 0!==t.contact.company&&(t.contact.company=this.state.company.value);var n={};Object.keys(t).map((function(e){n[e]=t[e]})),n.contact=[t.contact],ve("users",n).then((function(e){a.setState({user:e.data}),"save_new"==a.state.action?a.clearForm("admin-user-form"):a.props.data.history.push("/admin/admin-user")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.user),n=a.initialOptions,l=a.companies,c=a.company,s=a.group,i=a.groups,o=a.modelsLoaded;return r.a.createElement(mt.a,{noValidate:!0,id:"admin-user-form",onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"First name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"contact",name:"first_name",defaultValue:t.contact?t.contact.first_name:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Last name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",model:"contact",name:"last_name",defaultValue:t.contact?t.contact.last_name:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Email *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",model:"user",name:"email",defaultValue:t.email,onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Role"),r.a.createElement(nn.a,{value:s.value?s:"select...",model:"groups",name:"group",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChanged(a,"group")},options:i})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Company"),r.a.createElement(rn.a,{debounceTimeout:o?0:2e3,options:n,model:"contact",isClearable:!0,escapeClearsValue:!0,value:c.value?c:"select...",name:"company",loadOptions:function(e,a){return Pe(e,a,l,o)},onChange:function(a){return e.selectChanged(a,"company")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Password"),r.a.createElement(mt.a.Control,{placeholder:"*******",type:"password",model:"user",name:"password",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/admin-user",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),dn=r.a.createElement(P.Link,{to:"/admin/admin-user",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),un=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:[],showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(Object.keys(e).length){for(var t in Object.keys(e)){var n=Object.keys(e)[t];if(!Array.isArray(e[n]))return this.sendError(e[n],a);for(var r in e[n]){if("object"===typeof e[n][r])return this.sendError(e[n][r],a);a.push(n.charAt(0).toUpperCase()+n.slice(1)+" : "+e[n][r])}}this.setState({showError:!0})}this.setState({errors:a})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},this.state.errors.map((function(e,a){return r.a.createElement("li",{key:a},e)}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Admin User",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},dn))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(mn,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),pn=Object(B.o)(un);var hn=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),En=function(e){hn(),e.numSelected;return r.a.createElement("div",null)},bn=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"}}})),fn=t(36);function vn(e){fn("#role_table").DataTable().ajax.reload(null,!1)}fn.DataTable=t(40);var gn=function(){var e=bn(),a=r.a.useState("asc"),t=Object(H.a)(a,2),n=(t[0],t[1],r.a.useState("calories")),l=Object(H.a)(n,2),s=(l[0],l[1],r.a.useState([])),i=Object(H.a)(s,2),o=i[0],m=(i[1],r.a.useState(0)),d=Object(H.a)(m,2),u=d[0],p=(d[1],r.a.useState(!1)),h=Object(H.a)(p,2),E=(h[0],h[1],r.a.useState(10)),b=Object(H.a)(E,2),f=b[0],v=(b[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=N[0],w=N[1],O=r.a.useState(!1),S=Object(H.a)(O,2),j=S[0],T=S[1],x=r.a.useState(0),M=Object(H.a)(x,2),D=M[0],A=M[1],R=r.a.useState({}),L=Object(H.a)(R,2),I=(L[0],L[1]),F=r.a.useState([]),U=Object(H.a)(F,2),G=(U[0],U[1],r.a.useState(!1)),z=Object(H.a)(G,2),V=z[0],q=z[1],W=Object(B.k)();function Y(e){T(!1)}return window.table=fn("#role_table"),0===C&&w(C+1),r.a.useEffect((function(){fn.fn.dataTable.isDataTable("#role_table")&&(fn("#role_table").DataTable().destroy(),q(!0))}),[]),r.a.useEffect((function(){V&&fn.fn.dataTable.isDataTable("#role_table")?JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_):(q(!0),function(){var e=ie+"groups?format=datatables",a=[{bVisible:!1,aTargets:[0]},{targets:2,orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",null,r.a.createElement(Ta.a,{variant:"primary"},a?"Permissions":"No Permission"," ")),e)}},{targets:3,searchable:!1,orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",null,r.a.createElement("a",{style:{cursor:"pointer"},className:"btn btn-sm btn-clean btn-icon btn-icon-sm",onClick:function(){return W.push("/admin/role-permission/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})),"\xa0\xa0",r.a.createElement("a",{title:"Delete",onClick:function(e){return a="delete",A(n),I(a),void T(!0);var a},className:"btn btn-sm btn-clean btn-icon btn-icon-sm"},r.a.createElement("i",{className:"flaticon2-trash"}))),e)}}];fn("#role_table").DataTable({responsive:{details:{renderer:fn.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,ajax:{url:e,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n           <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[1,"desc"]],columnDefs:a})}())}),[_]),Math.min(f,_.length-u*f),r.a.createElement("div",{className:e.root},r.a.createElement(We.a,{className:e.paper},r.a.createElement(En,{numSelected:o.length}),r.a.createElement("div",{className:e.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon-security"})),r.a.createElement("h3",{className:"kt-portlet__head-title"},"Roles & Permissions")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/role-permission/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record")))))),r.a.createElement("div",{className:"kt-portlet__body"},r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){fn("#role_table").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))),r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"role_table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"permissions"},"Permissions"),r.a.createElement("th",{"data-data":"actions"},"Actions")))))))))),r.a.createElement(xa.a,{show:j,onHide:Y},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){ge("groups/"+_[D].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==D}));y(a),T(!1),vn()}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:Y},"No"))))};function _n(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}var yn=t(36);yn.DataTable=t(40);var kn=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params.group_id;return t.state={table:null,validated:!1,group:{id:n},contenttypes:[]},t.handleChange=t.handleChange.bind(Object(at.a)(t)),t.parseRowData=t.parseRowData.bind(Object(at.a)(t)),t.createDataArray=t.createDataArray.bind(Object(at.a)(t)),t.loadDatatable=t.loadDatatable.bind(Object(at.a)(t)),t.getContenttypes(null),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"componentDidMount",value:function(){this.getGroup(this.state.group.id)}},{key:"componentDidUpdate",value:function(){this.loadDatatable()}},{key:"getGroup",value:function(e){var a=this;be("groups/"+e+"/").then((function(e){a.setState({group:e.data}),a.props.setGroup(e.data)}))}},{key:"getContenttypes",value:function(e){var a=this,t={};null!=e&&(t=function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?_n(Object(t),!0).forEach((function(a){Object(b.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_n(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},t,{},e)),be("contenttypes",t).then((function(e){a.setState({contenttypes:e.data})}))}},{key:"loadDatatable",value:function(){var e=this;yn.fn.dataTable.isDataTable("#role_perm_table")?(this.state.table.clear(),this.state.table.rows.add(e.parseRowData(this.state.contenttypes)),this.state.table.draw()):(this.state.table=yn("#role_perm_table"),this.state.table=this.state.table.DataTable({responsive:!0,data:e.parseRowData(this.state.contenttypes),dom:"<'row'<'col-sm-12'tr>>\n           <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,language:{lengthMenu:"Display _MENU_"},order:[[1,"asc"]],columnDefs:[{bVisible:!1,aTargets:[0]},{targets:-1,orderable:!1,createdCell:function(a,t,n,l,s){c.a.render(r.a.createElement(wt.a,{checked:t.checked,color:"primary",value:t.permission_id,onChange:function(n){return e.handleChange(n,t,l,s,a)},inputProps:{"aria-label":"secondary checkbox"}}),a)}},{targets:-2,orderable:!1,createdCell:function(a,t,n,l,s){c.a.render(r.a.createElement(wt.a,{checked:t.checked,value:t.permission_id,onChange:function(n){return e.handleChange(n,t,l,s,a)},color:"primary",inputProps:{"aria-label":"default checkbox"}}),a)}},{targets:-3,orderable:!1,createdCell:function(a,t,n,l,s){c.a.render(r.a.createElement(wt.a,{color:"primary",checked:t.checked,value:t.permission_id,onChange:function(n){return e.handleChange(n,t,l,s,a)},inputProps:{"aria-label":"secondary checkbox"}}),a)}},{targets:-4,orderable:!1,createdCell:function(a,t,n,l,s){c.a.render(r.a.createElement(wt.a,{color:"primary",checked:t.checked,value:t.permission_id,onChange:function(n){return e.handleChange(n,t,l,s,a)},inputProps:{"aria-label":"secondary checkbox"}}),a)}}]}))}},{key:"contactChanged",value:function(e,a){var t,n=this.state.user;n.contact[a]=e.id,this.setState((t={},Object(b.a)(t,a,e),Object(b.a)(t,"user",n),t))}},{key:"permissionChanged",value:function(e,a){var t,n=this.state.user;for(var r in n.user_permissions=[],e)n.user_permissions.push(e[r].value);this.setState((t={},Object(b.a)(t,a,e),Object(b.a)(t,"user",n),t))}},{key:"handleChange",value:function(e,a,t,n,r){var l=this.state.group;a.checked?l.permissions.splice(l.permissions.indexOf(a.permission_id),1):l.permissions.push(a.permission_id),this.setState({group:l});var c={permissions:l.permissions};fe("groups/"+this.state.group.id+"/",c).then((function(e){}))}},{key:"parseRowData",value:function(e){var a=this,t=[];return e.forEach((function(e,n){t.push(a.createDataArray(e.id,e.model.charAt(0).toUpperCase()+e.model.slice(1),e.permission_set))})),t}},{key:"createDataArray",value:function(e,a,t){var n=[e,a];for(var r in t){var l={content_type_id:e,permission_id:t[r].id};this.state.group&&this.state.group.permissions&&this.state.group.permissions.indexOf(t[r].id)>-1?l.checked=!0:l.checked=!1,n.push(l)}return n}},{key:"handleSearch",value:function(e){this.getContenttypes({search:e.target.value})}},{key:"render",value:function(){var e=this,a=this.state;a.validated,a.group;return r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(a){return e.handleSearch(a)},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"})))))))))}}]),a}(r.a.Component),Nn=r.a.createElement(P.Link,{to:"/admin/role-permission",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),Cn=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1,group:{}},t.sendError=t.sendError.bind(Object(at.a)(t)),t.setGroup=t.setGroup.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"setGroup",value:function(e){this.setState({group:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.group?"Role : "+this.state.group.name:"",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},Nn))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(kn,{data:this.props,setGroup:this.setGroup,sendError:this.sendError}),r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"role_perm_table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Id"),r.a.createElement("th",null,"Module"),r.a.createElement("th",null,"Create"),r.a.createElement("th",null,"Edit"),r.a.createElement("th",null,"Delete"),r.a.createElement("th",null,"View"))))))))))}}]),a}(r.a.Component),wn=Object(B.o)(Cn);t(1372);var On=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),Sn=function(e){On(),e.numSelected;return r.a.createElement("div",null)},jn=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"}}})),Tn=t(36);function xn(e){Tn("#accesslog").DataTable().ajax.reload(null,!1)}function Mn(e){var a=jn(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),c=Object(H.a)(l,2),s=(c[0],c[1],r.a.useState([])),i=Object(H.a)(s,2),o=i[0],m=(i[1],r.a.useState(0)),d=Object(H.a)(m,2),u=d[0],p=(d[1],r.a.useState(!1)),h=Object(H.a)(p,2),E=(h[0],h[1],r.a.useState(10)),b=Object(H.a)(E,2),f=b[0],v=(b[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=N[0],w=N[1],O=r.a.useState(!1),S=Object(H.a)(O,2),j=S[0],T=S[1],x=r.a.useState(0),M=Object(H.a)(x,2),D=M[0],A=(M[1],r.a.useState({})),R=Object(H.a)(A,2),L=R[0],I=(R[1],r.a.useState([])),F=Object(H.a)(I,2),U=(F[0],F[1],r.a.useState(!1)),G=Object(H.a)(U,2),P=G[0],z=G[1];Object(B.k)();function V(e){T(!1)}window.table=Tn("#accesslog"),0===C&&w(C+1),r.a.useEffect((function(){Tn.fn.dataTable.isDataTable("#accesslog")&&(Tn("#accesslog").DataTable().destroy(),z(!0))}),[]),r.a.useEffect((function(){P&&Tn.fn.dataTable.isDataTable("#accesslog")?JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_):(z(!0),function(){var a=ie+"accesslogs?format=datatables";Tn("#accesslog").DataTable({responsive:{details:{renderer:Tn.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("accesslogs",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){a.payload=JSON.parse(a.payload),a.user?e[t].user__first_name=a.user.first_name+" "+a.user.last_name:e[t].user__first_name=" ",a.payload?e[t].ip_address=a.payload.REMOTE_ADDR:e[t].ip_address=" ",a.payload?e[t].payload=a.payload.REQUEST_METHOD:e[t].payload=" ",e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n           <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[4,"desc"]],columnDefs:[{aTargets:[0,1,2],searchable:!1}]}),Tn("#accesslog").on("page.dt",(function(){Pa(Tn("#accesslog"),"accesslogs",e)}))}())}),[_]);Math.min(f,_.length-u*f);return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement(Sn,{numSelected:o.length}),r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon-security"})),r.a.createElement("h3",{className:"kt-portlet__head-title"},"Access Logs"))),r.a.createElement("div",{className:"kt-portlet__body"},r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){Tn("#accesslog").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))),r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"accesslog"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"user_id"},"User Id"),r.a.createElement("th",{"data-data":"user__first_name"},"User"),r.a.createElement("th",{"data-data":"ip_address"},"IP Address"),r.a.createElement("th",{"data-data":"payload"},"Method"),r.a.createElement("th",{"data-data":"created_at"},"Date")))))))))),r.a.createElement(xa.a,{show:j,onHide:V},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"danger",onClick:function(e){if("status"==L){var a={is_active:1===_[D].is_active?0:1};fe("users/"+_[D].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==D}));y([].concat(Object(ha.a)(a),[e.data])),T(!1),xn()}))}else"delete"==L&&ge("users/"+_[D].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==D}));y(a),T(!1),xn()}))}},"Yes"),r.a.createElement(Ma.a,{variant:"success",onClick:V},"No"))))}Tn.DataTable=t(40);var Dn=t(541),An="settingsActiveTab",Rn={success:fa.a,warning:va.a,error:ga.a,info:_a.a},Ln=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function In(e){var a=Ln(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=Rn[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}function Fn(){var e=this,a=localStorage.getItem(An),t=Object(n.useState)(a?+a:0),l=Object(H.a)(t,2),c=l[0],s=l[1],i=Object(n.useState)(!1),o=Object(H.a)(i,2),m=o[0],d=(o[1],Object(n.useState)({paddingRight:"2.5rem"})),u=Object(H.a)(d,2),p=u[0],h=(u[1],Object(n.useState)(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],Object(n.useState)({paddingRight:"2.5rem"})),f=Object(H.a)(b,2),v=(f[0],f[1],Object(n.useState)(0)),g=Object(H.a)(v,2),_=g[0],y=g[1],k=Object(n.useState)(0),N=Object(H.a)(k,2),C=N[0],w=N[1],O=Object(n.useState)(0),S=Object(H.a)(O,2),j=S[0],T=S[1],x=Object(n.useState)(0),M=Object(H.a)(x,2),D=M[0],A=M[1],R=r.a.useState(!1),L=Object(H.a)(R,2),I=L[0],F=L[1],U=r.a.useState("Changes applied successfully!"),G=Object(H.a)(U,2),P=G[0],z=G[1],V={settings:localStorage.getItem("settings")?JSON.parse(localStorage.getItem("settings")):{api:{enable:!1,access_key_id:"",secret_key_id:""},site:{title:"",deactivate_days:"90"},payments:{enable:!1}}};r.a.useEffect((function(){be("settings").then((function(e){e.data.map((function(e,a){"first_notify"===e.key&&y(e.value),"second_notify"===e.key&&w(e.value),"third_notify"===e.key&&T(e.value),"expired_notify"===e.key&&A(e.value)}))}))}),[]);var B=function(e,a){F(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{initialValues:V,onSubmit:function(a){localStorage.setItem("settings",JSON.stringify(Object(W.get)(a,"settings"))),fe("settings/bulk_update",{first_notify:_,second_notify:C,third_notify:j,expired_notify:D}).then((function(e){F(!0),z(e.data.message)})).catch((function(a){e.props.sendError(a.response.data)}))},onReset:function(){}},(function(e){var a=e.values,t=(e.handleReset,e.handleSubmit),n=e.handleChange;e.handleBlur;return r.a.createElement("div",{className:"kt-form kt-form--label-right"},r.a.createElement(Z.a,null,r.a.createElement(Z.d,{toolbar:r.a.createElement(Z.e,null,r.a.createElement(Y.a,{component:"div",className:"settings-tabs",value:c,onChange:function(e,a){s(a),localStorage.setItem(An,a)}},r.a.createElement(J.a,{label:"General Settings"})))}),0===c&&r.a.createElement(Z.b,null,r.a.createElement("div",{className:"kt-section kt-margin-t-30"},r.a.createElement("div",{className:"kt-section__body"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-4 col-md-12"},r.a.createElement(Dn.a,{label:"Site Title",margin:"normal",onChange:n,name:"settings.site.title",variant:"outlined",value:Object(W.get)(a,"settings.site.title")}),r.a.createElement(K.a,null,"Set site title"))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-4 col-md-12"},r.a.createElement(Dn.a,{label:"First Notification (days)",margin:"normal",onChange:function(e){return y(e.target.value)},name:"settings.site.deactivate_days",variant:"outlined",value:_}),r.a.createElement(K.a,null,"First notification for assets expiration."))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-4 col-md-12"},r.a.createElement(Dn.a,{label:"Second Notification (days)",margin:"normal",onChange:function(e){return w(e.target.value)},name:"settings.site.deactivate_days",variant:"outlined",value:C}),r.a.createElement(K.a,null,"Second notification for assets expiration."))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-4 col-md-12"},r.a.createElement(Dn.a,{label:"Third Notification (days)",margin:"normal",onChange:function(e){return T(e.target.value)},name:"settings.site.deactivate_days",variant:"outlined",value:j}),r.a.createElement(K.a,null,"Third notification for assets expiration."))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-4 col-md-12"},r.a.createElement(Dn.a,{label:"Auto deactivate listings (days)",margin:"normal",onChange:function(e){return A(e.target.value)},name:"settings.site.deactivate_days",variant:"outlined",value:D}),r.a.createElement(K.a,null,"Set number of days to auto deactivate listings.")))))),r.a.createElement(Z.c,null,r.a.createElement("div",{className:"kt-padding-30 text-center"},r.a.createElement("button",{type:"button",onClick:function(){return t(a)},style:p,className:"btn btn-primary btn-elevate kt-login__btn-primary ".concat(Object(Q.a)({"kt-spinner kt-spinner--right kt-spinner--md kt-spinner--light":m}))},r.a.createElement("i",{className:"la la-send"})," Submit")))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:I,autoHideDuration:16e5,onClose:B},r.a.createElement(In,{onClose:B,variant:"success",message:P})))})))}var Un=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).clearForm=function(e){document.getElementById(e).reset(),t.setState({selectedFile:null,previewFile:null})};var n=t.props.data.match.params.type;return t.state={type:n,configuration:{type:n,is_active:0},validated:!1,action:""},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"handleChange",value:function(e){var a=this.state.configuration,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({configuration:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),ve("configuration",this.state.configuration).then((function(e){a.setState({configuration:e.data}),a.props.data.history.push("save_new"==a.state.action?a.clearForm("aircraft-configuration-form"):"/admin/aircraft/configuration")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.configuration);return r.a.createElement(mt.a,{noValidate:!0,id:"aircraft-configuration-form",onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"configuration",name:"name",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/aircraft/configuration",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Gn=function(e){function a(e){var t;Object(Qa.a)(this,a),t=Object($a.a)(this,Object(et.a)(a).call(this,e));var n=e.match.params.type;return t.state={errors:{},showError:!1},t.state.type=n,t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Aircraft Configuration",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/aircraft/configuration",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Un,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Pn=Object(B.o)(Gn),zn=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params.configuration_id;return t.state={validated:!1,configuration:{},type:"aircraft"},t.getConfiguration(n),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getConfiguration",value:function(e){var a=this;be("configuration/"+e+"/").then((function(e){delete e.data.type,a.setState({configuration:e.data})}))}},{key:"handleChange",value:function(e){var a=this.state.configuration,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({configuration:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),fe("configuration/"+this.state.configuration.id+"/",this.state.configuration).then((function(e){delete e.data.type,a.setState({configuration:e.data}),a.props.data.history.push("/admin/"+a.state.type+"/configuration")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.configuration);return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"configuration",name:"name",defaultValue:t?t.name:"",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/"+this.state.type+"/configuration",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Vn=r.a.createElement(P.Link,{to:"/admin/aircraft/configuration",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),Hn=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1,type:e.match.params.type},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:" Configuration",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},Vn))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(zn,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Bn=Object(B.o)(Hn),qn=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),Wn={success:fa.a,warning:va.a,error:ga.a,info:_a.a},Yn=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function Jn(e){var a=Yn(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=Wn[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var Kn=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),Xn=function(e){var a=Kn(),t=e.setMessageType,n=e.setMessage,l=e.setOpen,c=e.exportSpinner,s=e.setExpSpin,i=e.csvData,o=e.setCsvData,m=e.numSelected,d=e.selected,u=e.setSelected,p=e.setSelectedMany,h=e.setRowsData,E=e.rows,f=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,m>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon2-start-up"})),m>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},m," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"Aircraft Configurations")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},m>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(d.length){var a={ids:d};ge("configuration/"+d[0]+"/",a).then((function(e){for(var a in E)d.indexOf(E[a].id)>-1&&delete E[a];h(E),d.length=0,u(d),p(!1);var t=[];t.push(1),f(t),$n()}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/aircraft/configuration/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:qn,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){s(""),be("configuration",{records:"all"}).then((function(e){var a=["job_title","company"];s("d-none");var t=e.data.map((function(e,t){return a.map((function(a){e[a]=e[a]?e[a].name:e[a]})),e}));o(t),document.getElementById("configuration-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+c})),r.a.createElement(Ha.CSVLink,{data:i,filename:"configurations.csv",className:"d-none",id:"configuration-csv-btn",target:"_blank"})),r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement(St.a,{inputId:"configuration-csv-reader",cssClass:"kt-nav__link-text",cssInputClass:"d-none",label:"Import",onFileLoaded:function(e){return _e(e,"AbConfigurations").then((function(e){e.data.success?t("success"):t("error"),n(e.data.message),l(!0),$n()}))}})))))))))))))},Qn=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),Zn=t(36);function $n(){Zn("#aircraft_configuration").DataTable().ajax.reload(null,!1)}Zn.DataTable=t(40);var er=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function ar(e){var a=Qn(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState([]),te=Object(H.a)(ae,2),ne=te[0],re=te[1],le=r.a.useState(!1),ce=Object(H.a)(le,2),se=ce[0],oe=ce[1],me=r.a.useState("d-none"),de=Object(H.a)(me,2),ue=de[0],pe=de[1],he=r.a.useState("success"),be=Object(H.a)(he,2),ve=be[0],_e=be[1],ye=r.a.useState({create:Ee("add_abconfigurations"),edit:Ee("change_abconfigurations"),delete:Ee("delete_abconfigurations"),view:Ee("view_abconfigurations")}),ke=Object(H.a)(ye,2),Ne=ke[0],Ce=(ke[1],Object(B.k)());function we(e){S(!1)}function Oe(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){Zn.fn.dataTable.isDataTable("#aircraft_configuration")&&(Zn("#aircraft_configuration").DataTable().destroy(),oe(!0))}),[]),r.a.useEffect((function(){se&&Zn.fn.dataTable.isDataTable("#aircraft_configuration")?JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_):(oe(!0),function(){var a=ie+"configuration?format=datatables",t=[{bVisible:!1,aTargets:[1]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:je(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),Zn("#aircraft_configuration").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:je(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{onClick:function(){return Ce.push("/admin/aircraft/configuration/"+t.id)}},a),e)}},{targets:3,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return Oe(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(Ne.create||Ne.edit)&&t.push({targets:4,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:er}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},Ne.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return Ce.push("/admin/aircraft/configuration/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",Ne.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return Oe(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});Zn("#aircraft_configuration").DataTable({responsive:{details:{renderer:Zn.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("configuration",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n           <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[3,"desc"]],columnDefs:t}),Zn("#aircraft_configuration").on("page.dt",(function(){Pa(Zn("#aircraft_configuration"),"configuration",e)}))}())}),[_]);var Se=function(e,a){K(!1)},je=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(Xn,{setMessageType:_e,setMessage:$,setOpen:K,exportSpinner:ue,setExpSpin:pe,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,csvData:ne,setCsvData:re}),r.a.createElement("div",{className:"kt-portlet__body"},Ne.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){Zn("#aircraft_configuration").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",Ne.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"aircraft_configuration"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),$n()},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:we},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("configuration/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),K(!0);var t=1===e.data.is_active?"activated":"deactivated";_e("success"),$("Record successfully "+t)}))}else"delete"==R&&ge("configuration/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),$n(),K(!0),_e("success"),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:we},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:1500,onClose:Se},r.a.createElement(Jn,{onClose:Se,variant:ve,message:Z})))}var tr=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,r=n.configuration_id,l=n.type;return t.txt_weight={fontWeight:500},t.handleModalShow=t.handleModalShow.bind(Object(at.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.confirm=t.confirm.bind(Object(at.a)(t)),t.state={type:l,configuration:{},action:"",showModal:!1,created_at:"",updated_at:"",is_active:""},t.getConfiguration(r),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getConfiguration",value:function(e){var a=this;be("configuration/"+e+"/").then((function(e){delete e.data.type,a.setState({created_at:e.data.created_at?(new Intl.DateTimeFormat).format(new Date(e.data.created_at)):"",updated_at:e.data.updated_at?(new Intl.DateTimeFormat).format(new Date(e.data.updated_at)):""}),a.props.setTitle(e.data.name),a.setState({configuration:e.data})}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.configuration;n[a]=e,this.setState({configuration:n}),fe("configuration/"+this.state.configuration.id+"/",this.state.configuration).then((function(e){t.setState({configuration:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalShow",value:function(e,a){var t=e.target.value;"status"===a&&(t=parseInt(t),this.setState({is_active:1===t?0:1})),this.setState({action:a}),this.setState({showModal:!0})}},{key:"handleModalClose",value:function(){this.setState({showModal:!1})}},{key:"confirm",value:function(){var e=this;"status"===this.state.action&&(this.state.configuration.is_active=this.state.is_active,fe("configuration/"+this.state.configuration.id+"/",this.state.configuration).then((function(a){delete a.data.type,e.setState({configuration:a.data}),e.setState({showModal:!1})})).catch((function(a){e.props.sendError(a.response.data),e.setState({showModal:!1})})))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.configuration);return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Name"),r.a.createElement("div",null,t.name?t.name:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Created"),r.a.createElement("div",null,this.state.created_at?this.state.created_at:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Modified"),r.a.createElement("div",null,this.state.updated_at?this.state.updated_at:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Status"),r.a.createElement("div",null,r.a.createElement("span",{onClick:function(a){return e.handleModalShow(a,"status")},className:1===this.state.configuration.is_active?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===t.is_active?"defaultChecked":"",value:1===t.is_active?"1":"0",name:"is_active"}),r.a.createElement("span",null))))))))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:this.confirm},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:this.handleModalClose},"No"))))}}]),a}(r.a.Component),nr=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).setMainTitle=function(e){t.setState({title:e})};e.match.params.type;return t.state={errors:{},showError:!1,title:"Aircraft Configuration"},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.title,jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/aircraft/configuration",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/aircraft/configuration/"+this.props.match.params.configuration_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(tr,{data:this.props,sendError:this.sendError,setTitle:this.setMainTitle}))))))}}]),a}(r.a.Component),rr=Object(B.o)(nr),lr=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),cr={success:fa.a,warning:va.a,error:ga.a,info:_a.a},sr=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function ir(e){var a=sr(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=cr[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var or=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),mr=function(e){var a=or(),t=e.setMessageType,n=e.setMessage,l=e.setOpen,c=e.exportSpinner,s=e.setExpSpin,i=e.csvData,o=e.setCsvData,m=e.numSelected,d=e.type,u=e.selected,p=e.setSelected,h=e.setSelectedMany,E=e.setRowsData,f=e.rows,v=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,m>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},!d||"event"!==d&&"news"!==d?r.a.createElement("i",{className:"kt-font-brand flaticon2-start-up"}):r.a.createElement("i",{className:"kt-font-brand flaticon2-open-box"})),m>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},m," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},d.charAt(0).toUpperCase()+d.slice(1)," Categories")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},m>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(u.length){var a={ids:u};ge("category/"+u[0]+"/",a).then((function(e){for(var a in f)u.indexOf(f[a].id)>-1&&delete f[a];E(f),u.length=0,p(u),h(!1);var t=[];t.push(1),v(t),pr(d)}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/"+d+"/category/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:lr,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){s(""),be("category",{records:"all",type:d}).then((function(e){s("d-none"),o(e.data),document.getElementById("category-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+c})),r.a.createElement(Ha.CSVLink,{data:i,filename:"categories.csv",className:"d-none",id:"category-csv-btn",target:"_blank"})),r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement(St.a,{inputId:"category-csv-reader",cssClass:"kt-nav__link-text",cssInputClass:"d-none",label:"Import",onFileLoaded:function(e){return _e(e,"AbCategories").then((function(e){e.data.success?t("success"):t("error"),n(e.data.message),l(!0),pr()}))}}))))))))))))},dr=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),ur=t(36);function pr(e){ur("#"+e+"_category").DataTable().ajax.reload(null,!1)}ur.DataTable=t(40);var hr=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function Er(e){var a=dr(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState([]),te=Object(H.a)(ae,2),ne=te[0],re=te[1],le=r.a.useState(!1),ce=Object(H.a)(le,2),se=ce[0],oe=ce[1],me=r.a.useState("d-none"),de=Object(H.a)(me,2),ue=de[0],pe=de[1],he=r.a.useState("success"),be=Object(H.a)(he,2),ve=be[0],_e=be[1],ye=r.a.useState({create:Ee("add_abcategories"),edit:Ee("change_abcategories"),delete:Ee("delete_abcategories"),view:Ee("view_abcategories")}),ke=Object(H.a)(ye,2),Ne=ke[0],Ce=(ke[1],Object(B.k)()),we="aircraft";function Oe(e){S(!1)}function Se(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){e.location&&console.log(e.location)}),[e.location]),r.a.useEffect((function(){ur.fn.dataTable.isDataTable("#"+we+"_category")&&(ur("#"+we+"_category").DataTable().destroy(),oe(!0));return function(){y([]),ur("#"+we+"_category").DataTable().destroy(!0),oe(!0)}}),[]),r.a.useEffect((function(){if(se&&ur.fn.dataTable.isDataTable("#"+we+"_category"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{oe(!0);try{!function(){var a=ie+"category?type="+we+"&format=datatables",t=[{bVisible:!1,aTargets:[1]},{bVisible:!1,aTargets:[5]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:Te(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),ur("#aircraft").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:Te(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return Ce.push("/admin/"+we+"/category/"+t.id)}},a),e)}},{targets:3,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return Se(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(Ne.create||Ne.edit)&&t.push({targets:4,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:hr}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},Ne.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return Ce.push("/admin/"+we+"/category/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",Ne.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return Se(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});ur("#"+we+"_category").DataTable({responsive:{details:{renderer:ur.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,aoSearchCols:[null,null,null,null,null,{sSearch:we}],displayStart:za(we+"_category",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n     <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[4,"desc"]],columnDefs:t}),ur("#"+we+"_category").on("page.dt",(function(){Pa(ur("#"+we+"_category"),we+"_category",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var je=function(e,a){K(!1)},Te=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(mr,{setMessageType:_e,setMessage:$,setOpen:K,exportSpinner:ue,setExpSpin:pe,csvData:ne,setCsvData:re,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,type:we}),r.a.createElement("div",{className:"kt-portlet__body"},Ne.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){ur("#"+we+"_category").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",Ne.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:we+"_category"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),pr(we)},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions"),r.a.createElement("th",{"data-data":"type",className:"d-none"},"Type")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:Oe},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("category/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),pr(we),K(!0);var t=1===e.data.is_active?"activated":"deactivated";_e("success"),$("Record successfully "+t)}))}else"delete"==R&&ge("category/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),pr(we),K(!0),_e("success"),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:Oe},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:1500,onClose:je},r.a.createElement(ir,{onClose:je,variant:ve,message:Z})))}var br=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),fr={success:fa.a,warning:va.a,error:ga.a,info:_a.a},vr=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function gr(e){var a=vr(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=fr[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var _r=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),yr=function(e){var a=_r(),t=e.setMessageType,n=e.setMessage,l=e.setOpen,c=e.exportSpinner,s=e.setExpSpin,i=e.csvData,o=e.setCsvData,m=e.numSelected,d=e.type,u=e.selected,p=e.setSelected,h=e.setSelectedMany,E=e.setRowsData,f=e.rows,v=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,m>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon2-start-up"})),m>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},m," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},d.charAt(0).toUpperCase()+d.slice(1)," Manufacturers")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},m>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(u.length){var a={ids:u};ge("manufacturer/"+u[0]+"/",a).then((function(e){for(var a in f)u.indexOf(f[a].id)>-1&&delete f[a];E(f),u.length=0,p(u),h(!1);var t=[];t.push(1),v(t),Cr(d)}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/"+d+"/manufacturer/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:br,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){s(""),be("manufacturer",{records:"all",type:d}).then((function(e){var a=["country"];s("d-none");var t=e.data.map((function(e,t){return a.map((function(a){e[a]=e[a]?e[a].name:e[a],e.categories=e.categories?e.categories.map((function(e){return e.name})).join():null})),e}));o(t),document.getElementById("manufacturer-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+c})),r.a.createElement(Ha.CSVLink,{data:i,filename:"manufacturers.csv",className:"d-none",id:"manufacturer-csv-btn",target:"_blank"})),r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement(St.a,{inputId:"category-csv-reader",cssClass:"kt-nav__link-text",cssInputClass:"d-none",label:"Import",onFileLoaded:function(e){return _e(e,"AbManufacturers").then((function(e){e.data.success?t("success"):t("error"),n(e.data.message),l(!0),Cr()}))}})))))))))))))},kr=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),Nr=t(36);function Cr(e){Nr("#"+e+"_manufacturer").DataTable().ajax.reload(null,!1)}Nr.DataTable=t(40);var wr=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function Or(e){var a=kr(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ee=r.a.useState([]),ae=Object(H.a)(ee,2),te=ae[0],ne=ae[1],re=r.a.useState(!1),le=Object(H.a)(re,2),ce=le[0],se=le[1],oe=r.a.useState("d-none"),me=Object(H.a)(oe,2),de=me[0],ue=me[1],pe=r.a.useState("success"),he=Object(H.a)(pe,2),be=he[0],ve=he[1],_e=r.a.useState({create:Ee("add_abmanufacturers"),edit:Ee("change_abmanufacturers"),delete:Ee("delete_abmanufacturers"),view:Ee("view_abmanufacturers")}),ye=Object(H.a)(_e,2),ke=ye[0],Ne=(ye[1],Object(B.k)()),Ce="aircraft";function we(e){S(!1)}function Oe(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){Nr.fn.dataTable.isDataTable("#"+Ce+"_manufacturer")&&(Nr("#"+Ce+"_manufacturer").DataTable().destroy(),se(!0));return function(){y([]),Nr("#"+Ce+"_manufacturer").DataTable().destroy(!0),se(!0)}}),[]),r.a.useEffect((function(){if(ce&&Nr.fn.dataTable.isDataTable("#"+Ce+"_manufacturer"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{se(!0);try{!function(){var a=ie+"manufacturer?type="+Ce+"&format=datatables",t=[{bVisible:!1,aTargets:[1]},{bVisible:!1,aTargets:[6]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:je(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),Nr("#"+Ce+"_manufacturer").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:je(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return Ne.push("/admin/"+Ce+"/manufacturer/"+t.id)}},a),e)}},{targets:4,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return Oe(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(ke.create||ke.edit)&&t.push({targets:5,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:wr}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},ke.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return Ne.push("/admin/"+Ce+"/manufacturer/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",ke.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return Oe(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});Nr("#"+Ce+"_manufacturer").DataTable({responsive:{details:{renderer:Nr.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,aoSearchCols:[null,null,null,null,null,null,{sSearch:Ce}],displayStart:za(Ce+"_manufacturer",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){if(e[t].categories__name="",Array.isArray(a.categories)&&a.categories.length>0){var n="";a.categories.forEach((function(e,a){n+=e.name+", "})),e[t].categories__name=n.slice(0,-2)}e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n     <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[4,"desc"]],columnDefs:t}),Nr("#"+Ce+"_manufacturer").on("page.dt",(function(){Pa(Nr("#"+Ce+"_manufacturer"),Ce+"_manufacturer",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var Se=function(e,a){K(!1)},je=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(yr,{setMessageType:ve,setMessage:$,setOpen:K,exportSpinner:de,setExpSpin:ue,csvData:te,setCsvData:ne,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,type:Ce}),r.a.createElement("div",{className:"kt-portlet__body"},r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){Nr("#"+Ce+"_manufacturer").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))),r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:Ce+"_manufacturer"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),Cr(Ce)},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"Id"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"categories__name"},"Category"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions"),r.a.createElement("th",{"data-data":"type",className:"d-none"},"Type")))))))))),r.a.createElement(xa.a,{show:O,onHide:we},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("manufacturer/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),Cr(Ce),K(!0);var t=1===e.data.is_active?"activated":"deactivated";ve("success"),$("Record successfully "+t)}))}else"delete"==R&&ge("manufacturer/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),Cr(Ce),K(!0),ve("success"),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:we},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:1500,onClose:Se},r.a.createElement(gr,{onClose:Se,variant:be,message:Z})))}var Sr=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),jr={success:fa.a,warning:va.a,error:ga.a,info:_a.a},Tr=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function xr(e){var a=Tr(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=jr[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var Mr=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),Dr=function(e){var a=Mr(),t=e.setMessageType,n=e.setMessage,l=e.setOpen,c=e.exportSpinner,s=e.setExpSpin,i=e.csvData,o=e.setCsvData,m=e.numSelected,d=e.type,u=e.selected,p=e.setSelected,h=e.setSelectedMany,E=e.setRowsData,f=e.rows,v=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,m>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon2-start-up"})),m>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},m," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},d.charAt(0).toUpperCase()+d.slice(1)," Models")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},m>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(u.length){var a={ids:u};ge("model/"+u[0]+"/",a).then((function(e){for(var a in f)u.indexOf(f[a].id)>-1&&delete f[a];E(f),u.length=0,p(u),h(!1);var t=[];t.push(1),v(t),Lr(d)}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/"+d+"/model/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:Sr,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){s(""),be("model",{records:"all",type:d}).then((function(e){var a=["_type"];s("d-none");var t=e.data.map((function(e,t){return a.map((function(a){e[a]=e[a]?e[a].name:e[a]})),delete e.type_0,e}));o(t),document.getElementById("model-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+c})),r.a.createElement(Ha.CSVLink,{data:i,filename:"models.csv",className:"d-none",id:"model-csv-btn",target:"_blank"})),r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement(St.a,{inputId:"category-csv-reader",cssClass:"kt-nav__link-text",cssInputClass:"d-none",label:"Import",onFileLoaded:function(e){return _e(e,"AbModels").then((function(e){e.data.success?t("success"):t("error"),n(e.data.message),l(!0),Lr()}))}})))))))))))))},Ar=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),Rr=t(36);function Lr(e){Rr("#"+e+"_models").DataTable().ajax.reload(null,!1)}Rr.DataTable=t(40);var Ir=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function Fr(e){var a=Ar(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState([]),te=Object(H.a)(ae,2),ne=te[0],re=te[1],le=r.a.useState(!1),ce=Object(H.a)(le,2),se=ce[0],oe=ce[1],me=r.a.useState("d-none"),de=Object(H.a)(me,2),ue=de[0],pe=de[1],he=r.a.useState("success"),be=Object(H.a)(he,2),ve=be[0],_e=be[1],ye=r.a.useState({create:Ee("add_abmodels"),edit:Ee("change_abmodels"),delete:Ee("delete_abmodels"),view:Ee("view_abmodels")}),ke=Object(H.a)(ye,2),Ne=ke[0],Ce=(ke[1],Object(B.k)()),we="aircraft";function Oe(e){S(!1)}function Se(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){Rr.fn.dataTable.isDataTable("#"+we+"_models")&&(Rr("#"+we+"_models").DataTable().destroy(),oe(!0));return function(){y([]),Rr("#"+we+"_models").DataTable().destroy(!0),oe(!0)}}),[]),r.a.useEffect((function(){if(se&&Rr.fn.dataTable.isDataTable("#"+we+"_models"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{oe(!0);try{!function(){var a=ie+"model?type="+we+"&format=datatables",t=[{bVisible:!1,aTargets:[1]},{bVisible:!1,aTargets:[6]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:Te(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i),Object(ha.a)(U).push(1),Rr("#"+we+"_models").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:Te(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return Ce.push("/admin/"+we+"/model/"+t.id)}},a),e)}},{targets:4,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return Se(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(Ne.create||Ne.edit)&&t.push({targets:5,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:Ir}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},Ne.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return Ce.push("/admin/"+we+"/model/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",Ne.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return Se(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});Rr("#"+we+"_models").DataTable({responsive:{details:{renderer:Rr.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,aoSearchCols:[null,null,null,null,null,null,{sSearch:we}],displayStart:za(we+"_model",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){e[t].type_0__name=a._type.name,e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n     <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[4,"desc"]],columnDefs:t}),Rr("#"+we+"_models").on("page.dt",(function(){Pa(Rr("#"+we+"_models"),we+"_model",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var je=function(e,a){K(!1)},Te=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(Dr,{setMessageType:_e,setMessage:$,setOpen:K,exportSpinner:ue,setExpSpin:pe,csvData:ne,setCsvData:re,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,type:we}),r.a.createElement("div",{className:"kt-portlet__body"},Ne.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){Rr("#"+we+"_models").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",Ne.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:we+"_models"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),Lr(we)},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"type_0__name"},"Type"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions"),r.a.createElement("th",{"data-data":"type",className:"d-none"},"Type")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:Oe},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("model/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),Lr(we),K(!0);var t=1===e.data.is_active?"activated":"deactivated";_e("success"),$("Record successfully "+t)}))}else"delete"==R&&ge("model/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),Lr(we),K(!0),_e("success"),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:Oe},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:1500,onClose:je},r.a.createElement(xr,{onClose:je,variant:ve,message:Z})))}var Ur=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),Gr={success:fa.a,warning:va.a,error:ga.a,info:_a.a},Pr=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function zr(e){var a=Pr(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=Gr[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var Vr=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),Hr=function(e){var a=Vr(),t=e.setMessageType,n=e.setMessage,l=e.setOpen,c=e.exportSpinner,s=e.setExpSpin,i=e.csvData,o=e.setCsvData,m=e.numSelected,d=e.type,u=e.selected,p=e.setSelected,h=e.setSelectedMany,E=e.setRowsData,f=e.rows,v=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,m>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon2-start-up"})),m>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},m," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},d.charAt(0).toUpperCase()+d.slice(1)," Types")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},m>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(u.length){var a={ids:u};ge("type/"+u[0]+"/",a).then((function(e){for(var a in f)u.indexOf(f[a].id)>-1&&delete f[a];E(f),u.length=0,p(u),h(!1);var t=[];t.push(1),v(t),Wr(d)}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/"+d+"/type/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:Ur,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){s(""),be("type",{records:"all",type:d}).then((function(e){var a=["manufacturer"];s("d-none");var t=e.data.map((function(e,t){return a.map((function(a){e[a]=e[a]?e[a].name:e[a]})),e}));o(t),document.getElementById("type-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+c})),r.a.createElement(Ha.CSVLink,{data:i,filename:"types.csv",className:"d-none",id:"type-csv-btn",target:"_blank"})),r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement(St.a,{inputId:"category-csv-reader",cssClass:"kt-nav__link-text",cssInputClass:"d-none",label:"Import",onFileLoaded:function(e){return _e(e,"AbTypes").then((function(e){e.data.success?t("success"):t("error"),n(e.data.message),l(!0),Wr()}))}})))))))))))))},Br=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),qr=t(36);function Wr(e){qr("#"+e+"_type").DataTable().ajax.reload(null,!1)}qr.DataTable=t(40);var Yr=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function Jr(e){var a=Br(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState([]),te=Object(H.a)(ae,2),ne=te[0],re=te[1],le=r.a.useState(!1),ce=Object(H.a)(le,2),se=ce[0],oe=ce[1],me=r.a.useState("d-none"),de=Object(H.a)(me,2),ue=de[0],pe=de[1],he=r.a.useState("success"),be=Object(H.a)(he,2),ve=be[0],_e=be[1],ye=r.a.useState({create:Ee("add_abtypes"),edit:Ee("change_abtypes"),delete:Ee("delete_abtypes"),view:Ee("view_abtypes")}),ke=Object(H.a)(ye,2),Ne=ke[0],Ce=(ke[1],Object(B.k)()),we="aircraft";function Oe(e){S(!1)}function Se(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){qr.fn.dataTable.isDataTable("#"+we+"_type")&&(qr("#"+we+"_type").DataTable().destroy(),oe(!0));return function(){y([]),qr("#"+we+"_type").DataTable().destroy(!0),oe(!0)}}),[]),r.a.useEffect((function(){if(se&&qr.fn.dataTable.isDataTable("#"+we+"_type"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{oe(!0);try{!function(){var a=ie+"type?type="+we+"&format=datatables",t=[{bVisible:!1,aTargets:[1]},{bVisible:!1,aTargets:[6]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:Te(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i),Object(ha.a)(U).push(1),qr("#"+we+"_type").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:Te(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return Ce.push("/admin/"+we+"/type/"+t.id)}},a),e)}},{targets:4,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return Se(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(Ne.create||Ne.edit)&&t.push({targets:5,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:Yr}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},Ne.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return Ce.push("/admin/"+we+"/type/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",Ne.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return Se(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});qr("#"+we+"_type").DataTable({responsive:{details:{renderer:qr.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za(we+"_type",e),aoSearchCols:[null,null,null,null,null,null,{sSearch:we}],ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){a.manufacturer?e[t].manufacturer__name=a.manufacturer.name:e[t].manufacturer__name="",e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n     <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[4,"desc"]],columnDefs:t}),qr("#"+we+"_type").on("page.dt",(function(){Pa(qr("#"+we+"_type"),we+"_type",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var je=function(e,a){K(!1)},Te=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(Hr,{setMessageType:_e,setMessage:$,setOpen:K,exportSpinner:ue,setExpSpin:pe,csvData:ne,setCsvData:re,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,type:we}),r.a.createElement("div",{className:"kt-portlet__body"},Ne.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){qr("#"+we+"_type").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",Ne.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:we+"_type"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),Wr(we)},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"manufacturer__name"},"Manufacturer"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions"),r.a.createElement("th",{"data-data":"type",className:"d-none"},"Type")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:Oe},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("type/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),Wr(we),K(!0);var t=1===e.data.is_active?"activated":"deactivated";_e("success"),$("Record successfully "+t)}))}else"delete"==R&&ge("type/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),Wr(we),K(!0),_e("success"),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:Oe},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:1500,onClose:je},r.a.createElement(zr,{onClose:je,variant:ve,message:Z})))}var Kr=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),Xr={success:fa.a,warning:va.a,error:ga.a,info:_a.a},Qr=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function Zr(e){var a=Qr(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=Xr[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var $r=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),el=function(e){var a=$r(),t=e.setMessageType,n=e.setMessage,l=e.setOpen,c=e.exportSpinner,s=e.setExpSpin,i=e.csvData,o=e.setCsvData,m=e.numSelected,d=e.type,u=e.selected,p=e.setSelected,h=e.setSelectedMany,E=e.setRowsData,f=e.rows,v=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,m>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},!d||"event"!==d&&"news"!==d?r.a.createElement("i",{className:"kt-font-brand flaticon2-start-up"}):r.a.createElement("i",{className:"kt-font-brand flaticon2-open-box"})),m>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},m," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},d.charAt(0).toUpperCase()+d.slice(1)," Categories")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},m>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(u.length){var a={ids:u};ge("category/"+u[0]+"/",a).then((function(e){for(var a in f)u.indexOf(f[a].id)>-1&&delete f[a];E(f),u.length=0,p(u),h(!1);var t=[];t.push(1),v(t),nl(d)}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/"+d+"/category/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:Kr,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){s(""),be("category",{records:"all",type:d}).then((function(e){s("d-none"),o(e.data),document.getElementById("category-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+c})),r.a.createElement(Ha.CSVLink,{data:i,filename:"categories.csv",className:"d-none",id:"category-csv-btn",target:"_blank"})),r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement(St.a,{inputId:"category-csv-reader",cssClass:"kt-nav__link-text",cssInputClass:"d-none",label:"Import",onFileLoaded:function(e){return _e(e,"AbCategories").then((function(e){e.data.success?t("success"):t("error"),n(e.data.message),l(!0),nl()}))}}))))))))))))},al=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),tl=t(36);function nl(e){tl("#"+e+"_category").DataTable().ajax.reload(null,!1)}tl.DataTable=t(40);var rl=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function ll(e){var a=al(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState([]),te=Object(H.a)(ae,2),ne=te[0],re=te[1],le=r.a.useState(!1),ce=Object(H.a)(le,2),se=ce[0],oe=ce[1],me=r.a.useState("d-none"),de=Object(H.a)(me,2),ue=de[0],pe=de[1],he=r.a.useState("success"),be=Object(H.a)(he,2),ve=be[0],_e=be[1],ye=r.a.useState({create:Ee("add_abcategories"),edit:Ee("change_abcategories"),delete:Ee("delete_abcategories"),view:Ee("view_abcategories")}),ke=Object(H.a)(ye,2),Ne=ke[0],Ce=(ke[1],Object(B.k)()),we="engine";function Oe(e){S(!1)}function Se(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){e.location&&console.log(e.location)}),[e.location]),r.a.useEffect((function(){tl.fn.dataTable.isDataTable("#"+we+"_category")&&(tl("#"+we+"_category").DataTable().destroy(),oe(!0));return function(){y([]),tl("#"+we+"_category").DataTable().destroy(!0),oe(!0)}}),[]),r.a.useEffect((function(){if(se&&tl.fn.dataTable.isDataTable("#"+we+"_category"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{oe(!0);try{!function(){var a=ie+"category?type="+we+"&format=datatables",t=[{bVisible:!1,aTargets:[1]},{bVisible:!1,aTargets:[5]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:Te(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),tl("#"+we+"_category").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:Te(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return Ce.push("/admin/"+we+"/category/"+t.id)}},a),e)}},{targets:3,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return Se(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(Ne.create||Ne.edit)&&t.push({targets:4,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:rl}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},Ne.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return Ce.push("/admin/"+we+"/category/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",Ne.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return Se(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});tl("#"+we+"_category").DataTable({responsive:{details:{renderer:tl.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,aoSearchCols:[null,null,null,null,null,{sSearch:we}],displayStart:za(we+"_category",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n     <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[4,"desc"]],columnDefs:t}),tl("#"+we+"_category").on("page.dt",(function(){Pa(tl("#"+we+"_category"),we+"_category",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var je=function(e,a){K(!1)},Te=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(el,{setMessageType:_e,setMessage:$,setOpen:K,exportSpinner:ue,setExpSpin:pe,csvData:ne,setCsvData:re,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,type:we}),r.a.createElement("div",{className:"kt-portlet__body"},Ne.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){tl("#"+we+"_category").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",Ne.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:we+"_category"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),nl(we)},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions"),r.a.createElement("th",{"data-data":"type",className:"d-none"},"Type")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:Oe},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("category/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),nl(we),K(!0);var t=1===e.data.is_active?"activated":"deactivated";_e("success"),$("Record successfully "+t)}))}else"delete"==R&&ge("category/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),nl(we),K(!0),_e("success"),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:Oe},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:1500,onClose:je},r.a.createElement(Zr,{onClose:je,variant:ve,message:Z})))}var cl=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),sl={success:fa.a,warning:va.a,error:ga.a,info:_a.a},il=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function ol(e){var a=il(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=sl[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var ml=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),dl=function(e){var a=ml(),t=e.setMessageType,n=e.setMessage,l=e.setOpen,c=e.exportSpinner,s=e.setExpSpin,i=e.csvData,o=e.setCsvData,m=e.numSelected,d=e.type,u=e.selected,p=e.setSelected,h=e.setSelectedMany,E=e.setRowsData,f=e.rows,v=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,m>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon2-start-up"})),m>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},m," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},d.charAt(0).toUpperCase()+d.slice(1)," Manufacturers")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},m>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(u.length){var a={ids:u};ge("manufacturer/"+u[0]+"/",a).then((function(e){for(var a in f)u.indexOf(f[a].id)>-1&&delete f[a];E(f),u.length=0,p(u),h(!1);var t=[];t.push(1),v(t),hl(d)}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/"+d+"/manufacturer/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:cl,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){s(""),be("manufacturer",{records:"all",type:d}).then((function(e){var a=["country"];s("d-none");var t=e.data.map((function(e,t){return a.map((function(a){e[a]=e[a]?e[a].name:e[a],e.categories=e.categories?e.categories.map((function(e){return e.name})).join():null})),e}));o(t),document.getElementById("manufacturer-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+c})),r.a.createElement(Ha.CSVLink,{data:i,filename:"manufacturers.csv",className:"d-none",id:"manufacturer-csv-btn",target:"_blank"})),r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement(St.a,{inputId:"category-csv-reader",cssClass:"kt-nav__link-text",cssInputClass:"d-none",label:"Import",onFileLoaded:function(e){return _e(e,"AbManufacturers").then((function(e){e.data.success?t("success"):t("error"),n(e.data.message),l(!0),hl()}))}})))))))))))))},ul=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),pl=t(36);function hl(e){pl("#"+e+"_manufacturer").DataTable().ajax.reload(null,!1)}pl.DataTable=t(40);var El=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function bl(e){var a=ul(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ee=r.a.useState([]),ae=Object(H.a)(ee,2),te=ae[0],ne=ae[1],re=r.a.useState(!1),le=Object(H.a)(re,2),ce=le[0],se=le[1],oe=r.a.useState("d-none"),me=Object(H.a)(oe,2),de=me[0],ue=me[1],pe=r.a.useState("success"),he=Object(H.a)(pe,2),be=he[0],ve=he[1],_e=r.a.useState({create:Ee("add_abmanufacturers"),edit:Ee("change_abmanufacturers"),delete:Ee("delete_abmanufacturers"),view:Ee("view_abmanufacturers")}),ye=Object(H.a)(_e,2),ke=ye[0],Ne=(ye[1],Object(B.k)()),Ce="engine";function we(e){S(!1)}function Oe(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){pl.fn.dataTable.isDataTable("#"+Ce+"_manufacturer")&&(pl("#"+Ce+"_manufacturer").DataTable().destroy(),se(!0));return function(){y([]),pl("#"+Ce+"_manufacturer").DataTable().destroy(!0),se(!0)}}),[]),r.a.useEffect((function(){if(ce&&pl.fn.dataTable.isDataTable("#"+Ce+"_manufacturer"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{se(!0);try{!function(){var a=ie+"manufacturer?type="+Ce+"&format=datatables",t=[{bVisible:!1,aTargets:[1]},{bVisible:!1,aTargets:[6]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:je(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),pl("#"+Ce+"_manufacturer").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:je(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return Ne.push("/admin/"+Ce+"/manufacturer/"+t.id)}},a),e)}},{targets:4,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return Oe(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(ke.create||ke.edit)&&t.push({targets:5,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:El}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},ke.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return Ne.push("/admin/"+Ce+"/manufacturer/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",ke.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return Oe(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});pl("#"+Ce+"_manufacturer").DataTable({responsive:{details:{renderer:pl.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,aoSearchCols:[null,null,null,null,null,null,{sSearch:Ce}],displayStart:za(Ce+"_manufacturer",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){if(e[t].categories__name="",Array.isArray(a.categories)&&a.categories.length>0){var n="";a.categories.forEach((function(e,a){n+=e.name+", "})),e[t].categories__name=n.slice(0,-2)}e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n     <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[4,"desc"]],columnDefs:t}),pl("#"+Ce+"_manufacturer").on("page.dt",(function(){Pa(pl("#"+Ce+"_manufacturer"),Ce+"_manufacturer",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var Se=function(e,a){K(!1)},je=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(dl,{setMessageType:ve,setMessage:$,setOpen:K,exportSpinner:de,setExpSpin:ue,csvData:te,setCsvData:ne,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,type:Ce}),r.a.createElement("div",{className:"kt-portlet__body"},r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){pl("#"+Ce+"_manufacturer").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))),r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:Ce+"_manufacturer"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),hl(Ce)},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"Id"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"categories__name"},"Category"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions"),r.a.createElement("th",{"data-data":"type",className:"d-none"},"Type")))))))))),r.a.createElement(xa.a,{show:O,onHide:we},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("manufacturer/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),hl(Ce),K(!0);var t=1===e.data.is_active?"activated":"deactivated";ve("success"),$("Record successfully "+t)}))}else"delete"==R&&ge("manufacturer/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),hl(Ce),K(!0),ve("success"),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:we},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:1500,onClose:Se},r.a.createElement(ol,{onClose:Se,variant:be,message:Z})))}var fl=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),vl={success:fa.a,warning:va.a,error:ga.a,info:_a.a},gl=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function _l(e){var a=gl(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=vl[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var yl=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),kl=function(e){var a=yl(),t=e.setMessageType,n=e.setMessage,l=e.setOpen,c=e.exportSpinner,s=e.setExpSpin,i=e.csvData,o=e.setCsvData,m=e.numSelected,d=e.type,u=e.selected,p=e.setSelected,h=e.setSelectedMany,E=e.setRowsData,f=e.rows,v=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,m>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon2-start-up"})),m>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},m," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},d.charAt(0).toUpperCase()+d.slice(1)," Models")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},m>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(u.length){var a={ids:u};ge("model/"+u[0]+"/",a).then((function(e){for(var a in f)u.indexOf(f[a].id)>-1&&delete f[a];E(f),u.length=0,p(u),h(!1);var t=[];t.push(1),v(t),wl(d)}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/"+d+"/model/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:fl,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){s(""),be("model",{records:"all",type:d}).then((function(e){var a=["_type"];s("d-none");var t=e.data.map((function(e,t){return a.map((function(a){e[a]=e[a]?e[a].name:e[a]})),delete e.type_0,e}));o(t),document.getElementById("model-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+c})),r.a.createElement(Ha.CSVLink,{data:i,filename:"models.csv",className:"d-none",id:"model-csv-btn",target:"_blank"})),r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement(St.a,{inputId:"category-csv-reader",cssClass:"kt-nav__link-text",cssInputClass:"d-none",label:"Import",onFileLoaded:function(e){return _e(e,"AbModels").then((function(e){e.data.success?t("success"):t("error"),n(e.data.message),l(!0),wl()}))}})))))))))))))},Nl=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),Cl=t(36);function wl(e){Cl("#"+e+"_models").DataTable().ajax.reload(null,!1)}Cl.DataTable=t(40);var Ol=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function Sl(e){var a=Nl(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState([]),te=Object(H.a)(ae,2),ne=te[0],re=te[1],le=r.a.useState(!1),ce=Object(H.a)(le,2),se=ce[0],oe=ce[1],me=r.a.useState("d-none"),de=Object(H.a)(me,2),ue=de[0],pe=de[1],he=r.a.useState("success"),be=Object(H.a)(he,2),ve=be[0],_e=be[1],ye=r.a.useState({create:Ee("add_abmodels"),edit:Ee("change_abmodels"),delete:Ee("delete_abmodels"),view:Ee("view_abmodels")}),ke=Object(H.a)(ye,2),Ne=ke[0],Ce=(ke[1],Object(B.k)()),we="engine";function Oe(e){S(!1)}function Se(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){Cl.fn.dataTable.isDataTable("#"+we+"_models")&&(Cl("#"+we+"_models").DataTable().destroy(),oe(!0));return function(){y([]),Cl("#"+we+"_models").DataTable().destroy(!0),oe(!0)}}),[]),r.a.useEffect((function(){if(se&&Cl.fn.dataTable.isDataTable("#"+we+"_models"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{oe(!0);try{!function(){var a=ie+"model?type="+we+"&format=datatables",t=[{bVisible:!1,aTargets:[1]},{bVisible:!1,aTargets:[6]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:Te(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i),Object(ha.a)(U).push(1),Cl("#"+we+"_models").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:Te(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return Ce.push("/admin/"+we+"/model/"+t.id)}},a),e)}},{targets:4,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return Se(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(Ne.create||Ne.edit)&&t.push({targets:5,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:Ol}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},Ne.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return Ce.push("/admin/"+we+"/model/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",Ne.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return Se(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});Cl("#"+we+"_models").DataTable({responsive:{details:{renderer:Cl.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,aoSearchCols:[null,null,null,null,null,null,{sSearch:we}],displayStart:za(we+"_model",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){e[t].type_0__name=a._type.name,e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n     <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[4,"desc"]],columnDefs:t}),Cl("#"+we+"_models").on("page.dt",(function(){Pa(Cl("#"+we+"_models"),we+"_model",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var je=function(e,a){K(!1)},Te=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(kl,{setMessageType:_e,setMessage:$,setOpen:K,exportSpinner:ue,setExpSpin:pe,csvData:ne,setCsvData:re,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,type:we}),r.a.createElement("div",{className:"kt-portlet__body"},Ne.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){Cl("#"+we+"_models").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",Ne.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:we+"_models"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),wl(we)},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"type_0__name"},"Type"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions"),r.a.createElement("th",{"data-data":"type",className:"d-none"},"Type")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:Oe},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("model/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),wl(we),K(!0);var t=1===e.data.is_active?"activated":"deactivated";_e("success"),$("Record successfully "+t)}))}else"delete"==R&&ge("model/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),wl(we),K(!0),_e("success"),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:Oe},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:1500,onClose:je},r.a.createElement(_l,{onClose:je,variant:ve,message:Z})))}var jl=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),Tl={success:fa.a,warning:va.a,error:ga.a,info:_a.a},xl=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function Ml(e){var a=xl(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=Tl[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var Dl=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),Al=function(e){var a=Dl(),t=e.setMessageType,n=e.setMessage,l=e.setOpen,c=e.exportSpinner,s=e.setExpSpin,i=e.csvData,o=e.setCsvData,m=e.numSelected,d=e.type,u=e.selected,p=e.setSelected,h=e.setSelectedMany,E=e.setRowsData,f=e.rows,v=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,m>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon2-start-up"})),m>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},m," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},d.charAt(0).toUpperCase()+d.slice(1)," Types")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},m>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(u.length){var a={ids:u};ge("type/"+u[0]+"/",a).then((function(e){for(var a in f)u.indexOf(f[a].id)>-1&&delete f[a];E(f),u.length=0,p(u),h(!1);var t=[];t.push(1),v(t),Il(d)}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/"+d+"/type/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:jl,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){s(""),be("type",{records:"all",type:d}).then((function(e){var a=["manufacturer"];s("d-none");var t=e.data.map((function(e,t){return a.map((function(a){e[a]=e[a]?e[a].name:e[a]})),e}));o(t),document.getElementById("type-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+c})),r.a.createElement(Ha.CSVLink,{data:i,filename:"types.csv",className:"d-none",id:"type-csv-btn",target:"_blank"})),r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement(St.a,{inputId:"category-csv-reader",cssClass:"kt-nav__link-text",cssInputClass:"d-none",label:"Import",onFileLoaded:function(e){return _e(e,"AbTypes").then((function(e){e.data.success?t("success"):t("error"),n(e.data.message),l(!0),Il()}))}})))))))))))))},Rl=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),Ll=t(36);function Il(e){Ll("#"+e+"_type").DataTable().ajax.reload(null,!1)}Ll.DataTable=t(40);var Fl=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function Ul(e){var a=Rl(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState([]),te=Object(H.a)(ae,2),ne=te[0],re=te[1],le=r.a.useState(!1),ce=Object(H.a)(le,2),se=ce[0],oe=ce[1],me=r.a.useState("d-none"),de=Object(H.a)(me,2),ue=de[0],pe=de[1],he=r.a.useState("success"),be=Object(H.a)(he,2),ve=be[0],_e=be[1],ye=r.a.useState({create:Ee("add_abtypes"),edit:Ee("change_abtypes"),delete:Ee("delete_abtypes"),view:Ee("view_abtypes")}),ke=Object(H.a)(ye,2),Ne=ke[0],Ce=(ke[1],Object(B.k)()),we="engine";function Oe(e){S(!1)}function Se(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){Ll.fn.dataTable.isDataTable("#"+we+"_type")&&(Ll("#"+we+"_type").DataTable().destroy(),oe(!0));return function(){y([]),Ll("#"+we+"_type").DataTable().destroy(!0),oe(!0)}}),[]),r.a.useEffect((function(){if(se&&Ll.fn.dataTable.isDataTable("#"+we+"_type"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{oe(!0);try{!function(){var a=ie+"type?type="+we+"&format=datatables",t=[{bVisible:!1,aTargets:[1]},{bVisible:!1,aTargets:[6]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:Te(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i),Object(ha.a)(U).push(1),Ll("#"+we+"_type").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:Te(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return Ce.push("/admin/"+we+"/type/"+t.id)}},a),e)}},{targets:4,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return Se(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(Ne.create||Ne.edit)&&t.push({targets:5,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:Fl}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},Ne.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return Ce.push("/admin/"+we+"/type/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",Ne.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return Se(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});Ll("#"+we+"_type").DataTable({responsive:{details:{renderer:Ll.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za(we+"_type",e),aoSearchCols:[null,null,null,null,null,null,{sSearch:we}],ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){a.manufacturer?e[t].manufacturer__name=a.manufacturer.name:e[t].manufacturer__name="",e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n     <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[4,"desc"]],columnDefs:t}),Ll("#"+we+"_type").on("page.dt",(function(){Pa(Ll("#"+we+"_type"),we+"_type",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var je=function(e,a){K(!1)},Te=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(Al,{setMessageType:_e,setMessage:$,setOpen:K,exportSpinner:ue,setExpSpin:pe,csvData:ne,setCsvData:re,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,type:we}),r.a.createElement("div",{className:"kt-portlet__body"},Ne.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){Ll("#"+we+"_type").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",Ne.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:we+"_type"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),Il(we)},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"manufacturer__name"},"Manufacturer"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions"),r.a.createElement("th",{"data-data":"type",className:"d-none"},"Type")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:Oe},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("type/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),Il(we),K(!0);var t=1===e.data.is_active?"activated":"deactivated";_e("success"),$("Record successfully "+t)}))}else"delete"==R&&ge("type/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),Il(we),K(!0),_e("success"),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:Oe},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:1500,onClose:je},r.a.createElement(Ml,{onClose:je,variant:ve,message:Z})))}var Gl=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),Pl={success:fa.a,warning:va.a,error:ga.a,info:_a.a},zl=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function Vl(e){var a=zl(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=Pl[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var Hl=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),Bl=function(e){var a=Hl(),t=e.setMessageType,n=e.setMessage,l=e.setOpen,c=e.exportSpinner,s=e.setExpSpin,i=e.csvData,o=e.setCsvData,m=e.numSelected,d=e.type,u=e.selected,p=e.setSelected,h=e.setSelectedMany,E=e.setRowsData,f=e.rows,v=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,m>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},!d||"event"!==d&&"news"!==d?r.a.createElement("i",{className:"kt-font-brand flaticon2-start-up"}):r.a.createElement("i",{className:"kt-font-brand flaticon2-open-box"})),m>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},m," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},d.charAt(0).toUpperCase()+d.slice(1)," Categories")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},m>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(u.length){var a={ids:u};ge("category/"+u[0]+"/",a).then((function(e){for(var a in f)u.indexOf(f[a].id)>-1&&delete f[a];E(f),u.length=0,p(u),h(!1);var t=[];t.push(1),v(t),Yl(d)}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/"+d+"/category/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:Gl,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){s(""),be("category",{records:"all",type:d}).then((function(e){s("d-none"),o(e.data),document.getElementById("category-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+c})),r.a.createElement(Ha.CSVLink,{data:i,filename:"categories.csv",className:"d-none",id:"category-csv-btn",target:"_blank"})),r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement(St.a,{inputId:"category-csv-reader",cssClass:"kt-nav__link-text",cssInputClass:"d-none",label:"Import",onFileLoaded:function(e){return _e(e,"AbCategories").then((function(e){e.data.success?t("success"):t("error"),n(e.data.message),l(!0),Yl()}))}}))))))))))))},ql=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),Wl=t(36);function Yl(e){Wl("#"+e+"_category").DataTable().ajax.reload(null,!1)}Wl.DataTable=t(40);var Jl=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function Kl(e){var a=ql(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState([]),te=Object(H.a)(ae,2),ne=te[0],re=te[1],le=r.a.useState(!1),ce=Object(H.a)(le,2),se=ce[0],oe=ce[1],me=r.a.useState("d-none"),de=Object(H.a)(me,2),ue=de[0],pe=de[1],he=r.a.useState("success"),be=Object(H.a)(he,2),ve=be[0],_e=be[1],ye=r.a.useState({create:Ee("add_abcategories"),edit:Ee("change_abcategories"),delete:Ee("delete_abcategories"),view:Ee("view_abcategories")}),ke=Object(H.a)(ye,2),Ne=ke[0],Ce=(ke[1],Object(B.k)()),we="apu";function Oe(e){S(!1)}function Se(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){e.location&&console.log(e.location)}),[e.location]),r.a.useEffect((function(){Wl.fn.dataTable.isDataTable("#"+we+"_category")&&(Wl("#"+we+"_category").DataTable().destroy(),oe(!0));return function(){y([]),Wl("#"+we+"_category").DataTable().destroy(!0),oe(!0)}}),[]),r.a.useEffect((function(){if(se&&Wl.fn.dataTable.isDataTable("#"+we+"_category"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{oe(!0);try{!function(){var a=ie+"category?type="+we+"&format=datatables",t=[{bVisible:!1,aTargets:[1]},{bVisible:!1,aTargets:[5]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:Te(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),Wl("#"+we+"_category").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:Te(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return Ce.push("/admin/"+we+"/category/"+t.id)}},a),e)}},{targets:3,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return Se(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(Ne.create||Ne.edit)&&t.push({targets:4,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:Jl}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},Ne.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return Ce.push("/admin/"+we+"/category/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",Ne.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return Se(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});Wl("#"+we+"_category").DataTable({responsive:{details:{renderer:Wl.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,aoSearchCols:[null,null,null,null,null,{sSearch:we}],displayStart:za(we+"_category",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n     <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[4,"desc"]],columnDefs:t}),Wl("#"+we+"_category").on("page.dt",(function(){Pa(Wl("#"+we+"_category"),we+"_category",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var je=function(e,a){K(!1)},Te=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(Bl,{setMessageType:_e,setMessage:$,setOpen:K,exportSpinner:ue,setExpSpin:pe,csvData:ne,setCsvData:re,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,type:we}),r.a.createElement("div",{className:"kt-portlet__body"},Ne.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){Wl("#"+we+"_category").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",Ne.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:we+"_category"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),Yl(we)},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions"),r.a.createElement("th",{"data-data":"type",className:"d-none"},"Type")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:Oe},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("category/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),Yl(we),K(!0);var t=1===e.data.is_active?"activated":"deactivated";_e("success"),$("Record successfully "+t)}))}else"delete"==R&&ge("category/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),Yl(we),K(!0),_e("success"),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:Oe},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:1500,onClose:je},r.a.createElement(Vl,{onClose:je,variant:ve,message:Z})))}var Xl=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),Ql={success:fa.a,warning:va.a,error:ga.a,info:_a.a},Zl=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function $l(e){var a=Zl(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=Ql[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var ec=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),ac=function(e){var a=ec(),t=e.setMessageType,n=e.setMessage,l=e.setOpen,c=e.exportSpinner,s=e.setExpSpin,i=e.csvData,o=e.setCsvData,m=e.numSelected,d=e.type,u=e.selected,p=e.setSelected,h=e.setSelectedMany,E=e.setRowsData,f=e.rows,v=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,m>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon2-start-up"})),m>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},m," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},d.charAt(0).toUpperCase()+d.slice(1)," Manufacturers")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},m>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(u.length){var a={ids:u};ge("manufacturer/"+u[0]+"/",a).then((function(e){for(var a in f)u.indexOf(f[a].id)>-1&&delete f[a];E(f),u.length=0,p(u),h(!1);var t=[];t.push(1),v(t),rc(d)}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/"+d+"/manufacturer/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:Xl,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){s(""),be("manufacturer",{records:"all",type:d}).then((function(e){var a=["country"];s("d-none");var t=e.data.map((function(e,t){return a.map((function(a){e[a]=e[a]?e[a].name:e[a],e.categories=e.categories?e.categories.map((function(e){return e.name})).join():null})),e}));o(t),document.getElementById("manufacturer-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+c})),r.a.createElement(Ha.CSVLink,{data:i,filename:"manufacturers.csv",className:"d-none",id:"manufacturer-csv-btn",target:"_blank"})),r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement(St.a,{inputId:"category-csv-reader",cssClass:"kt-nav__link-text",cssInputClass:"d-none",label:"Import",onFileLoaded:function(e){return _e(e,"AbManufacturers").then((function(e){e.data.success?t("success"):t("error"),n(e.data.message),l(!0),rc()}))}})))))))))))))},tc=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),nc=t(36);function rc(e){nc("#"+e+"_manufacturer").DataTable().ajax.reload(null,!1)}nc.DataTable=t(40);var lc=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function cc(e){var a=tc(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ee=r.a.useState([]),ae=Object(H.a)(ee,2),te=ae[0],ne=ae[1],re=r.a.useState(!1),le=Object(H.a)(re,2),ce=le[0],se=le[1],oe=r.a.useState("d-none"),me=Object(H.a)(oe,2),de=me[0],ue=me[1],pe=r.a.useState("success"),he=Object(H.a)(pe,2),be=he[0],ve=he[1],_e=r.a.useState({create:Ee("add_abmanufacturers"),edit:Ee("change_abmanufacturers"),delete:Ee("delete_abmanufacturers"),view:Ee("view_abmanufacturers")}),ye=Object(H.a)(_e,2),ke=ye[0],Ne=(ye[1],Object(B.k)()),Ce="apu";function we(e){S(!1)}function Oe(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){nc.fn.dataTable.isDataTable("#"+Ce+"_manufacturer")&&(nc("#"+Ce+"_manufacturer").DataTable().destroy(),se(!0));return function(){y([]),nc("#"+Ce+"_manufacturer").DataTable().destroy(!0),se(!0)}}),[]),r.a.useEffect((function(){if(ce&&nc.fn.dataTable.isDataTable("#"+Ce+"_manufacturer"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{se(!0);try{!function(){var a=ie+"manufacturer?type="+Ce+"&format=datatables",t=[{bVisible:!1,aTargets:[1]},{bVisible:!1,aTargets:[6]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:je(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),nc("#"+Ce+"_manufacturer").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:je(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return Ne.push("/admin/"+Ce+"/manufacturer/"+t.id)}},a),e)}},{targets:4,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return Oe(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(ke.create||ke.edit)&&t.push({targets:5,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:lc}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},ke.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return Ne.push("/admin/"+Ce+"/manufacturer/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",ke.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return Oe(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});nc("#"+Ce+"_manufacturer").DataTable({responsive:{details:{renderer:nc.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,aoSearchCols:[null,null,null,null,null,null,{sSearch:Ce}],displayStart:za(Ce+"_manufacturer",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){if(e[t].categories__name="",Array.isArray(a.categories)&&a.categories.length>0){var n="";a.categories.forEach((function(e,a){n+=e.name+", "})),e[t].categories__name=n.slice(0,-2)}e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n     <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[4,"desc"]],columnDefs:t}),nc("#"+Ce+"_manufacturer").on("page.dt",(function(){Pa(nc("#"+Ce+"_manufacturer"),Ce+"_manufacturer",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var Se=function(e,a){K(!1)},je=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(ac,{setMessageType:ve,setMessage:$,setOpen:K,exportSpinner:de,setExpSpin:ue,csvData:te,setCsvData:ne,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,type:Ce}),r.a.createElement("div",{className:"kt-portlet__body"},r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){nc("#"+Ce+"_manufacturer").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))),r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:Ce+"_manufacturer"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),rc(Ce)},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"Id"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"categories__name"},"Category"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions"),r.a.createElement("th",{"data-data":"type",className:"d-none"},"Type")))))))))),r.a.createElement(xa.a,{show:O,onHide:we},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("manufacturer/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),rc(Ce),K(!0);var t=1===e.data.is_active?"activated":"deactivated";ve("success"),$("Record successfully "+t)}))}else"delete"==R&&ge("manufacturer/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),rc(Ce),K(!0),ve("success"),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:we},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:1500,onClose:Se},r.a.createElement($l,{onClose:Se,variant:be,message:Z})))}var sc=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),ic={success:fa.a,warning:va.a,error:ga.a,info:_a.a},oc=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function mc(e){var a=oc(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=ic[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var dc=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),uc=function(e){var a=dc(),t=e.setMessageType,n=e.setMessage,l=e.setOpen,c=e.exportSpinner,s=e.setExpSpin,i=e.csvData,o=e.setCsvData,m=e.numSelected,d=e.type,u=e.selected,p=e.setSelected,h=e.setSelectedMany,E=e.setRowsData,f=e.rows,v=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,m>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon2-start-up"})),m>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},m," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},d.charAt(0).toUpperCase()+d.slice(1)," Models")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},m>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(u.length){var a={ids:u};ge("model/"+u[0]+"/",a).then((function(e){for(var a in f)u.indexOf(f[a].id)>-1&&delete f[a];E(f),u.length=0,p(u),h(!1);var t=[];t.push(1),v(t),Ec(d)}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/"+d+"/model/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:sc,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){s(""),be("model",{records:"all",type:d}).then((function(e){var a=["_type"];s("d-none");var t=e.data.map((function(e,t){return a.map((function(a){e[a]=e[a]?e[a].name:e[a]})),delete e.type_0,e}));o(t),document.getElementById("model-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+c})),r.a.createElement(Ha.CSVLink,{data:i,filename:"models.csv",className:"d-none",id:"model-csv-btn",target:"_blank"})),r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement(St.a,{inputId:"category-csv-reader",cssClass:"kt-nav__link-text",cssInputClass:"d-none",label:"Import",onFileLoaded:function(e){return _e(e,"AbModels").then((function(e){e.data.success?t("success"):t("error"),n(e.data.message),l(!0),Ec()}))}})))))))))))))},pc=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),hc=t(36);function Ec(e){hc("#"+e+"_models").DataTable().ajax.reload(null,!1)}hc.DataTable=t(40);var bc=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function fc(e){var a=pc(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState([]),te=Object(H.a)(ae,2),ne=te[0],re=te[1],le=r.a.useState(!1),ce=Object(H.a)(le,2),se=ce[0],oe=ce[1],me=r.a.useState("d-none"),de=Object(H.a)(me,2),ue=de[0],pe=de[1],he=r.a.useState("success"),be=Object(H.a)(he,2),ve=be[0],_e=be[1],ye=r.a.useState({create:Ee("add_abmodels"),edit:Ee("change_abmodels"),delete:Ee("delete_abmodels"),view:Ee("view_abmodels")}),ke=Object(H.a)(ye,2),Ne=ke[0],Ce=(ke[1],Object(B.k)()),we="apu";function Oe(e){S(!1)}function Se(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){hc.fn.dataTable.isDataTable("#"+we+"_models")&&(hc("#"+we+"_models").DataTable().destroy(),oe(!0));return function(){y([]),hc("#"+we+"_models").DataTable().destroy(!0),oe(!0)}}),[]),r.a.useEffect((function(){if(se&&hc.fn.dataTable.isDataTable("#"+we+"_models"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{oe(!0);try{!function(){var a=ie+"model?type="+we+"&format=datatables",t=[{bVisible:!1,aTargets:[1]},{bVisible:!1,aTargets:[6]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:Te(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i),Object(ha.a)(U).push(1),hc("#"+we+"_models").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:Te(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return Ce.push("/admin/"+we+"/model/"+t.id)}},a),e)}},{targets:4,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return Se(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(Ne.create||Ne.edit)&&t.push({targets:5,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:bc}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},Ne.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return Ce.push("/admin/"+we+"/model/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",Ne.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return Se(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});hc("#"+we+"_models").DataTable({responsive:{details:{renderer:hc.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,aoSearchCols:[null,null,null,null,null,null,{sSearch:we}],displayStart:za(we+"_model",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){e[t].type_0__name=a._type.name,e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n     <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[4,"desc"]],columnDefs:t}),hc("#"+we+"_models").on("page.dt",(function(){Pa(hc("#"+we+"_models"),we+"_model",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var je=function(e,a){K(!1)},Te=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(uc,{setMessageType:_e,setMessage:$,setOpen:K,exportSpinner:ue,setExpSpin:pe,csvData:ne,setCsvData:re,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,type:we}),r.a.createElement("div",{className:"kt-portlet__body"},Ne.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){hc("#"+we+"_models").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",Ne.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:we+"_models"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),Ec(we)},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"type_0__name"},"Type"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions"),r.a.createElement("th",{"data-data":"type",className:"d-none"},"Type")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:Oe},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("model/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),Ec(we),K(!0);var t=1===e.data.is_active?"activated":"deactivated";_e("success"),$("Record successfully "+t)}))}else"delete"==R&&ge("model/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),Ec(we),K(!0),_e("success"),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:Oe},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:1500,onClose:je},r.a.createElement(mc,{onClose:je,variant:ve,message:Z})))}var vc=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),gc={success:fa.a,warning:va.a,error:ga.a,info:_a.a},_c=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function yc(e){var a=_c(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=gc[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var kc=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),Nc=function(e){var a=kc(),t=e.setMessageType,n=e.setMessage,l=e.setOpen,c=e.exportSpinner,s=e.setExpSpin,i=e.csvData,o=e.setCsvData,m=e.numSelected,d=e.type,u=e.selected,p=e.setSelected,h=e.setSelectedMany,E=e.setRowsData,f=e.rows,v=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,m>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon2-start-up"})),m>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},m," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},d.charAt(0).toUpperCase()+d.slice(1)," Types")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},m>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(u.length){var a={ids:u};ge("type/"+u[0]+"/",a).then((function(e){for(var a in f)u.indexOf(f[a].id)>-1&&delete f[a];E(f),u.length=0,p(u),h(!1);var t=[];t.push(1),v(t),Oc(d)}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/"+d+"/type/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:vc,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){s(""),be("type",{records:"all",type:d}).then((function(e){var a=["manufacturer"];s("d-none");var t=e.data.map((function(e,t){return a.map((function(a){e[a]=e[a]?e[a].name:e[a]})),e}));o(t),document.getElementById("type-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+c})),r.a.createElement(Ha.CSVLink,{data:i,filename:"types.csv",className:"d-none",id:"type-csv-btn",target:"_blank"})),r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement(St.a,{inputId:"category-csv-reader",cssClass:"kt-nav__link-text",cssInputClass:"d-none",label:"Import",onFileLoaded:function(e){return _e(e,"AbTypes").then((function(e){e.data.success?t("success"):t("error"),n(e.data.message),l(!0),Oc()}))}})))))))))))))},Cc=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),wc=t(36);function Oc(e){wc("#"+e+"_type").DataTable().ajax.reload(null,!1)}wc.DataTable=t(40);var Sc=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function jc(e){var a=Cc(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState([]),te=Object(H.a)(ae,2),ne=te[0],re=te[1],le=r.a.useState(!1),ce=Object(H.a)(le,2),se=ce[0],oe=ce[1],me=r.a.useState("d-none"),de=Object(H.a)(me,2),ue=de[0],pe=de[1],he=r.a.useState("success"),be=Object(H.a)(he,2),ve=be[0],_e=be[1],ye=r.a.useState({create:Ee("add_abtypes"),edit:Ee("change_abtypes"),delete:Ee("delete_abtypes"),view:Ee("view_abtypes")}),ke=Object(H.a)(ye,2),Ne=ke[0],Ce=(ke[1],Object(B.k)()),we="apu";function Oe(e){S(!1)}function Se(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){wc.fn.dataTable.isDataTable("#"+we+"_type")&&(wc("#"+we+"_type").DataTable().destroy(),oe(!0));return function(){y([]),wc("#"+we+"_type").DataTable().destroy(!0),oe(!0)}}),[]),r.a.useEffect((function(){if(se&&wc.fn.dataTable.isDataTable("#"+we+"_type"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{oe(!0);try{!function(){var a=ie+"type?type="+we+"&format=datatables",t=[{bVisible:!1,aTargets:[1]},{bVisible:!1,aTargets:[6]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:Te(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i),Object(ha.a)(U).push(1),wc("#"+we+"_type").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:Te(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return Ce.push("/admin/"+we+"/type/"+t.id)}},a),e)}},{targets:4,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return Se(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(Ne.create||Ne.edit)&&t.push({targets:5,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:Sc}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},Ne.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return Ce.push("/admin/"+we+"/type/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",Ne.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return Se(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});wc("#"+we+"_type").DataTable({responsive:{details:{renderer:wc.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za(we+"_type",e),aoSearchCols:[null,null,null,null,null,null,{sSearch:we}],ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){a.manufacturer?e[t].manufacturer__name=a.manufacturer.name:e[t].manufacturer__name="",e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n     <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[4,"desc"]],columnDefs:t}),wc("#"+we+"_type").on("page.dt",(function(){Pa(wc("#"+we+"_type"),we+"_type",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var je=function(e,a){K(!1)},Te=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(Nc,{setMessageType:_e,setMessage:$,setOpen:K,exportSpinner:ue,setExpSpin:pe,csvData:ne,setCsvData:re,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,type:we}),r.a.createElement("div",{className:"kt-portlet__body"},Ne.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){wc("#"+we+"_type").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",Ne.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:we+"_type"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),Oc(we)},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"manufacturer__name"},"Manufacturer"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions"),r.a.createElement("th",{"data-data":"type",className:"d-none"},"Type")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:Oe},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("type/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),Oc(we),K(!0);var t=1===e.data.is_active?"activated":"deactivated";_e("success"),$("Record successfully "+t)}))}else"delete"==R&&ge("type/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),Oc(we),K(!0),_e("success"),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:Oe},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:1500,onClose:je},r.a.createElement(yc,{onClose:je,variant:ve,message:Z})))}var Tc=t(248),xc=t(1356),Mc=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).fileChangedHandler=function(e){var a=t.state.category,n=e.target.files[0];if(t.setState({previewFile:URL.createObjectURL(n)}),void 0!=n)if(n.size_c=n.size/1024,n.size_c/1024>2)n.size_c=(n.size_c/1024).toFixed(2)+" MB",n.error="Error: File is too big",a.file={},t.setState({selectedFile:n});else{n.error=null,n.size_c=n.size_c.toFixed(2)+" KB";var r=new FileReader;r.readAsDataURL(n),r.onloadend=function(){a.file=r.result,t.setState({selectedFile:n,category:a})}}},t.handleFileRemove=function(e){var a=t.state.category;a.file={},t.setState({selectedFile:null,category:a}),document.getElementById("category-image-upload").value=""},t.clearForm=function(e){t.props.data.history.replace("/admin/"+t.state.type+"/category"),t.props.data.history.replace("/admin/"+t.state.type+"/category/create")};var n=t.props.data.match.params.type;return t.state={type:n,category:{type:n,is_active:0,file:{}},validated:!1,action:"",selectedFile:null,previewFile:null},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"handleChange",value:function(e){var a=this.state.category,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({category:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),this.state.selectedFile||delete this.state.category.file,ve("category",this.state.category).then((function(e){a.setState({category:e.data}),"save_new"==a.state.action?a.clearForm(a.state.type+"-category-form"):a.props.data.history.push("/admin/"+a.state.type+"/category")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.type,n=a.category,l=a.selectedFile;return r.a.createElement(mt.a,{noValidate:!0,id:t+"-category-form",onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"category",name:"name",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Description"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"5",model:"category",name:"description",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement("input",{accept:"image/*",style:{display:"none"},type:"file",id:"category-image-upload",name:"image",onChange:this.fileChangedHandler}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"category-image-upload"},r.a.createElement(Tc.a,{variant:"outlined",color:"inherit",component:"span"},"Select Image",r.a.createElement(xc.a,{style:{marginLeft:"5px"}}))),r.a.createElement("div",{className:"form-group form-group-last row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"dropzone dropzone-multi",id:"kt_dropzone_5"},r.a.createElement("div",{className:"dropzone-items",style:{display:l?"block":"none"}},r.a.createElement("div",{className:"dropzone-item"},r.a.createElement("div",{className:"dropzone-file"},this.state.previewFile&&r.a.createElement("div",{style:{"max-width":"250px"}},r.a.createElement("img",{style:{width:"100%"},src:this.state.previewFile})),r.a.createElement("div",{className:"dropzone-filename",title:"some_image_file_name.jpg"},r.a.createElement("span",{"data-dz-name":!0},l?l.name:"No file selected")," ",r.a.createElement("strong",null,"(",r.a.createElement("span",{"data-dz-size":!0},l&&l.size_c?l.size_c:""),")")),r.a.createElement("div",{className:"dropzone-error","data-dz-errormessage":!0},l&&l.error?l.error:"")),r.a.createElement("div",{className:"dropzone-toolbar"},r.a.createElement("span",{onClick:function(a){return e.handleFileRemove(a)},className:"dropzone-delete","data-dz-remove":!0},r.a.createElement("i",{className:"flaticon2-cross"})))))),r.a.createElement("span",{className:"form-text text-muted"},"Max file size is 2MB."))))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===n.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/"+this.state.type+"/category",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Dc=function(e){function a(e){var t;Object(Qa.a)(this,a),t=Object($a.a)(this,Object(et.a)(a).call(this,e));var n=e.match.params.type;return t.state={errors:{},showError:!1},t.state.type=n,t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return console.log("skdfjsklad"),r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.type.charAt(0).toUpperCase()+this.state.type.slice(1)+" Category",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/"+this.state.type+"/category",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Mc,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Ac=Object(B.o)(Dc),Rc=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).fileChangedHandler=function(e){var a=e.target.files[0];if(t.setState({previewFile:URL.createObjectURL(a)}),void 0!=a){a.name_c=a.name;var n=t.state.category;if(a.size_c=a.size/1024,a.size_c/1024>2)a.size_c=(a.size_c/1024).toFixed(2)+" MB",a.error="Error: File is too big",n.file={},t.setState({selectedFile:a});else{a.error=null,a.size_c=a.size_c.toFixed(2)+" KB";var r=new FileReader;r.readAsDataURL(a),r.onloadend=function(){n.file=r.result,t.setState({selectedFile:a,category:n})}}}},t.handleFileRemove=function(e){var a=t.state.category;delete a.file,t.setState({selectedFile:null,category:a,previewFile:null}),document.getElementById("category-image-upload").value=""};var n=t.props.data.match.params,r=n.category_id,l=n.type;return t.state={validated:!1,category:{},type:l,selectedFile:null,previewFile:null},t.getCategory(r),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getCategory",value:function(e){var a=this;be("category/"+e+"/").then((function(e){delete e.data.type,a.setState({category:e.data,previewFile:e.data.media?oe+e.data.media.original_file_name:null}),a.setSelectfile()}))}},{key:"handleChange",value:function(e){var a=this.state.category,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({category:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),fe("category/"+this.state.category.id+"/",this.state.category).then((function(e){delete e.data.type,a.setState({category:e.data}),a.props.data.history.push("/admin/"+a.state.type+"/category")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"setSelectfile",value:function(){if(this.state.category.media){var e={},a=this.state.category.media.original_file_name.split("/");e.name_c=a[a.length-1],this.setState({selectedFile:e})}}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.category),n=a.selectedFile;return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"category",name:"name",defaultValue:t?t.name:"",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Description"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"3",required:!0,placeholder:"",model:"category",name:"description",defaultValue:t?t.description:"",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement("input",{accept:"image/*",style:{display:"none"},type:"file",id:"category-image-upload",name:"image",onChange:this.fileChangedHandler}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"category-image-upload"},r.a.createElement(Tc.a,{variant:"outlined",color:"inherit",component:"span"},"Select Image",r.a.createElement(xc.a,{style:{marginLeft:"5px"}}))),r.a.createElement("div",{className:"form-group form-group-last row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"dropzone dropzone-multi",id:"kt_dropzone_5"},r.a.createElement("div",{className:"dropzone-items",style:{display:n?"block":"none"}},r.a.createElement("div",{className:"dropzone-item"},r.a.createElement("div",{className:"dropzone-file"},this.state.previewFile&&r.a.createElement("div",{style:{"max-width":"250px"}},r.a.createElement("img",{style:{width:"100%"},src:this.state.previewFile})),r.a.createElement("div",{className:"dropzone-filename",title:"some_image_file_name.jpg"},r.a.createElement("span",{"data-dz-name":!0},n?n.name_c:"No file selected")," ",r.a.createElement("strong",null,n&&n.size_c?"("+n.size_c+")":"")),r.a.createElement("div",{className:"dropzone-error","data-dz-errormessage":!0},n&&n.error?n.error:"")),r.a.createElement("div",{className:"dropzone-toolbar"},r.a.createElement("span",{onClick:function(a){return e.handleFileRemove(a)},className:"dropzone-delete","data-dz-remove":!0},r.a.createElement("i",{className:"flaticon2-cross"})))))),r.a.createElement("span",{className:"form-text text-muted"},"Max file size is 2MB."))))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/"+this.state.type+"/category",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Lc=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1,type:e.match.params.type},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this,a=r.a.createElement(P.Link,{to:"/admin/"+this.state.type+"/category",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.type.charAt(0).toUpperCase()+this.state.type.slice(1)+" Category",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},a))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Rc,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Ic=Object(B.o)(Lc);r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),fa.a,va.a,ga.a,_a.a,Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}}));var Fc=t(36);Fc.DataTable=t(40);r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));var Uc=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,r=n.category_id,l=n.type;return t.txt_weight={fontWeight:500},t.handleModalShow=t.handleModalShow.bind(Object(at.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.confirm=t.confirm.bind(Object(at.a)(t)),t.state={type:l,category:{},action:"",showModal:!1,created_at:"",updated_at:"",image:null,is_active:""},t.getCategory(r),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getCategory",value:function(e){var a=this;be("category/"+e+"/").then((function(e){delete e.data.type,a.setState({created_at:e.data.created_at?(new Intl.DateTimeFormat).format(new Date(e.data.created_at)):"",updated_at:e.data.updated_at?(new Intl.DateTimeFormat).format(new Date(e.data.updated_at)):"",image:e.data.media?e.data.media.original_file_name:null}),a.props.setTitle(e.data.name),a.setState({category:e.data})}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.category;n[a]=e,this.setState({category:n}),fe("category/"+this.state.category.id+"/",this.state.category).then((function(e){t.setState({category:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalShow",value:function(e,a){var t=e.target.value;"status"===a&&(t=parseInt(t),this.setState({is_active:1===t?0:1})),this.setState({action:a}),this.setState({showModal:!0})}},{key:"handleModalClose",value:function(){this.setState({showModal:!1})}},{key:"confirm",value:function(){var e=this;"status"===this.state.action&&(this.state.category.is_active=this.state.is_active,fe("category/"+this.state.category.id+"/",this.state.category).then((function(a){delete a.data.type,e.setState({category:a.data}),e.setState({showModal:!1})})).catch((function(a){e.props.sendError(a.response.data),e.setState({showModal:!1})})))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.category);return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Name"),r.a.createElement("div",null,t.name?t.name:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Description"),r.a.createElement("div",null,t.description?t.description:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Created"),r.a.createElement("div",null,this.state.created_at?this.state.created_at:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Modified"),r.a.createElement("div",null,this.state.updated_at?this.state.updated_at:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Status"),r.a.createElement("div",null,r.a.createElement("span",{onClick:function(a){return e.handleModalShow(a,"status")},className:1===this.state.category.is_active?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===t.is_active?"defaultChecked":"",value:1===t.is_active?"1":"0",name:"is_active"}),r.a.createElement("span",null)))))))),r.a.createElement(ut.a,{item:!0,xs:12,md:3},r.a.createElement("img",{style:{maxHeight:"220px",maxWidth:"200px"},src:this.state.image?oe+this.state.image:oe+"dummy_image.svg"}))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"danger",onClick:this.confirm},"Yes"),r.a.createElement(Ma.a,{variant:"success",onClick:this.handleModalClose},"No"))))}}]),a}(r.a.Component),Gc=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).setMainTitle=function(e){t.setState({title:e})};var n=e.match.params.type;return t.state={errors:{},showError:!1,title:n.charAt(0).toUpperCase()+n.slice(1)+" Category"},t.state.type=n,t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.title,jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/"+this.state.type+"/category",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/"+this.props.match.params.type+"/category/"+this.props.match.params.category_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Uc,{data:this.props,sendError:this.sendError,setTitle:this.setMainTitle}))))))}}]),a}(r.a.Component),Pc=Object(B.o)(Gc),zc=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),Vc={success:fa.a,warning:va.a,error:ga.a,info:_a.a},Hc=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function Bc(e){var a=Hc(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=Vc[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var qc=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),Wc=function(e){var a=qc(),t=e.exportSpinner,n=e.setExpSpin,l=e.csvData,c=e.setCsvData,s=e.numSelected,i=(e.type,e.selected),o=e.setSelected,m=e.setSelectedMany,d=e.setRowsData,u=e.rows,p=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,s>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon-diagram"})),s>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},s," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"Enquiries")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},s>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(i.length){var a={ids:i};ge("contactqueries/"+i[0]+"/",a).then((function(e){for(var a in u)i.indexOf(u[a].id)>-1&&delete u[a];d(u),i.length=0,o(i),m(!1);var t=[];t.push(1),p(t),Kc()}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:zc,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){n(""),be("contactqueries",{records:"all"}).then((function(e){var a=["country"];n("d-none");var t=e.data.map((function(e,t){return a.map((function(a){e[a]=e[a]?e[a].name:e[a]})),e}));c(t),document.getElementById("contactqueries-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+t})),r.a.createElement(Ha.CSVLink,{data:l,filename:"contactqueries.csv",className:"d-none",id:"contactqueries-csv-btn",target:"_blank"})))))))))))},Yc=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),Jc=t(36);function Kc(e,a){Jc("#contactqueries").DataTable().ajax.reload(null,!1)}Jc.DataTable=t(40);r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function Xc(e){var a=Yc(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=(T[1],r.a.useState({})),D=Object(H.a)(M,2),A=D[0],R=(D[1],r.a.useState([])),L=Object(H.a)(R,2),I=L[0],F=L[1],U=r.a.useState(!1),G=Object(H.a)(U,2),P=G[0],z=G[1],V=r.a.useState(!1),q=Object(H.a)(V,2),W=q[0],Y=q[1],J=r.a.useState("Changes applied successfully!"),K=Object(H.a)(J,2),X=K[0],Q=K[1],Z=r.a.useState(!1),$=Object(H.a)(Z,2),ae=$[0],te=$[1],ne=r.a.useState("d-none"),re=Object(H.a)(ne,2),le=re[0],ce=re[1],se=r.a.useState([]),oe=Object(H.a)(se,2),me=oe[0],de=oe[1],ue=r.a.useState({edit:Ee("change_abcontactqueries"),delete:Ee("delete_abcontactqueries"),view:Ee("view_abcontactqueries")}),pe=Object(H.a)(ue,2),he=pe[0],be=(pe[1],Object(B.k)());function ve(e){S(!1)}r.a.useEffect((function(){Jc.fn.dataTable.isDataTable("#contactqueries")&&(Jc("#contactqueries").DataTable().destroy(),te(!0));return function(){y([]),Jc("#contactqueries").DataTable().destroy(!0),te(!0)}}),[]),r.a.useEffect((function(){if(ae&&Jc.fn.dataTable.isDataTable("#contactqueries"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{te(!0);try{!function(){var a=ie+"contactqueries?format=datatables",t=[{bVisible:!1,aTargets:[1]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:ye(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(I);o.push(1),F(o),Jc("#contactqueries").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:ye(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{onClick:function(){return be.push("/admin/contactqueries/"+t.id)}},a),e)}},{targets:4,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){var s="";c.a.render(r.a.createElement(mt.a.Control,{onChange:function(e){return function(e,a){var t=[];t=_.length?_:window.prevRows;var n={status:e.target.value};fe("contactqueries/"+t[a].id+"/",n).then((function(e){var n=t.filter((function(e,t){return t!==a}));y([].concat(Object(ha.a)(n),[e.data])),Q("Status successfully updated")}))}(e,n)},as:"select"},je.map((function(e,t){return s=e.value===a?"selected":"",r.a.createElement("option",{selected:s,key:t,value:e.value},e.label)}))),e)}}];Jc("#contactqueries").DataTable({responsive:{details:{renderer:Jc.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("contactqueries",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n           <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[4,"desc"]],columnDefs:t}),Jc("#contactqueries").on("page.dt",(function(){Pa(Jc("#contactqueries"),"contactqueries",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var _e=function(e,a){Y(!1)},ye=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(Wc,{exportSpinner:le,setExpSpin:ce,setTemp:F,setRowsData:y,rows:_,setSelectedMany:z,setSelected:d,selected:m,numSelected:m.length,csvData:me,setCsvData:de}),r.a.createElement("div",{className:"kt-portlet__body"},he.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){Jc("#contactqueries").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",he.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"contactqueries"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:P,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);z(!P),Kc()},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"enquiry_type"},"Enquiry Type"),r.a.createElement("th",{"data-data":"status"},"Status"),r.a.createElement("th",{"data-data":"created_at"},"Date")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:ve},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==A){var a={is_active:1===_[x].is_active?0:1};fe("contactqueries/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));console.log("reo",a),y([].concat(Object(ha.a)(a),[e.data])),S(!1),Kc(),Y(!0);var t=e.data.status;Q("Record successfully "+t)}))}else"delete"==A&&ge("contactqueries/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),Kc(),Y(!0),Q("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:ve},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:W,autoHideDuration:16e5,onClose:_e},r.a.createElement(Bc,{onClose:_e,variant:"success",message:X})))}var Qc=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,r=n.query_id,l=n.type;return t.txt_weight={fontWeight:500},t.handleModalShow=t.handleModalShow.bind(Object(at.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.confirm=t.confirm.bind(Object(at.a)(t)),t.state={type:l,query:{},action:"",showModal:!1,created_at:"",updated_at:"",image:null,is_published:""},t.getQuery(r),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getQuery",value:function(e){var a=this;be("contactqueries/"+e+"/").then((function(e){delete e.data.type,a.setState({created_at:(new Intl.DateTimeFormat).format(new Date(e.data.created_at)),updated_at:(new Intl.DateTimeFormat).format(new Date(e.data.updated_at)),image:e.data.media?e.data.media.original_file_name:null}),a.props.setTitle(e.data.name),a.setState({query:e.data})}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.query;n[a]=e,this.setState({query:n}),fe("contactqueries/"+this.state.query.id+"/",this.state.query).then((function(e){t.setState({query:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalShow",value:function(e,a){var t=e.target.value;"status"===a&&(t=parseInt(t),this.setState({is_published:1===t?0:1})),this.setState({action:a}),this.setState({showModal:!0})}},{key:"handleModalClose",value:function(){this.setState({showModal:!1})}},{key:"confirm",value:function(){var e=this;"status"===this.state.action&&(this.state.query.is_published=this.state.is_published,fe("contactqueries/"+this.state.query.id+"/",{is_published:this.state.is_published}).then((function(a){delete a.data.type,e.setState({query:a.data}),e.setState({showModal:!1})})).catch((function(a){e.props.sendError(a.response.data),e.setState({showModal:!1})})))}},{key:"render",value:function(){var e=this.state,a=(e.validated,e.query);return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Name"),r.a.createElement("div",null,a.name?a.name:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Email"),r.a.createElement("div",null,a.email?a.email:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Phone"),r.a.createElement("div",null,a.phone?a.phone:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Country"),r.a.createElement("div",null,a.country?a.country.name:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Enquiry Type"),r.a.createElement("div",null,a.enquiry_type?a.enquiry_type:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Status"),r.a.createElement("div",null,a.status?a.status:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date"),r.a.createElement("div",null,a.created_at?(new Intl.DateTimeFormat).format(new Date(a.created_at)):"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Message"),r.a.createElement("div",null,a.message?a.message:"---"))))),r.a.createElement(ut.a,{item:!0,xs:12,md:3},r.a.createElement("img",{style:{maxHeight:"220px",maxWidth:"200px"},src:this.state.image?oe+this.state.image:oe+"dummy_image.svg"}))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:this.confirm},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:this.handleModalClose},"No"))))}}]),a}(r.a.Component),Zc=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).setMainTitle=function(e){t.setState({title:e})};var n=e.match.params.type;return t.state={errors:{},showError:!1,title:"Enquery"},t.state.type=n,t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.title,jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/contactqueries",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/contactqueries/"+this.props.match.params.query_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Qc,{data:this.props,sendError:this.sendError,setTitle:this.setMainTitle}))))))}}]),a}(r.a.Component),$c=Object(B.o)(Zc),es=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).fileChangedHandler=function(e){var a=t.state.manufacturer,n=e.target.files[0];if(t.setState({previewFile:URL.createObjectURL(n)}),void 0!=n)if(n.size_c=n.size/1024,n.size_c/1024>2)n.size_c=(n.size_c/1024).toFixed(2)+" MB",n.error="Error: File is too big",a.file={},t.setState({selectedFile:n});else{n.error=null,n.size_c=n.size_c.toFixed(2)+" KB";var r=new FileReader;r.readAsDataURL(n),r.onloadend=function(){a.file=r.result,t.setState({selectedFile:n,manufacturer:a})}}},t.handleFileRemove=function(e){var a=t.state.manufacturer;a.file={},t.setState({selectedFile:null,manufacturer:a}),document.getElementById("manufacturer-image-upload").value=""},t.clearForm=function(e){t.props.data.history.replace("/admin/"+t.state.type+"/manufacturer"),t.props.data.history.replace("/admin/"+t.state.type+"/manufacturer/create")};var n=t.props.data.match.params.type;return t.state={type:n,initialOptions:[],manufacturer:{type:n,is_active:0},country:{value:""},countries:[],category:[],categories:[],selectedFile:null,validated:!1,action:"",modelsLoaded:!1},t.loadModels(),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"loadModels",value:function(){ve("abmodels",{models:{AbCategories:{type:this.state.type},AbCountries:{}}}).then(function(e){var a=function(a){e.data[a].map((function(t,n){e.data[a][n].label=t.name,e.data[a][n].value=t.id}))};for(var t in e.data)a(t);this.setState({categories:e.data.AbCategories,countries:e.data.AbCountries,modelsLoaded:!0})}.bind(this))}},{key:"selectCountry",value:function(e,a){var t,n=this.state.manufacturer;n.country=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"manufacturer",n),t))}},{key:"selectCategory",value:function(e,a){var t,n=this.state.manufacturer;for(var r in n.categories=[],e)n.categories.push(e[r].value);this.setState((t={},Object(b.a)(t,a,e),Object(b.a)(t,"manufacturer",n),t))}},{key:"handleChange",value:function(e){var a=this.state.manufacturer,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({manufacturer:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),ve("manufacturer",this.state.manufacturer).then((function(e){a.setState({manufacturer:e.data}),"save_new"==a.state.action?a.clearForm(a.state.type+"-manufacturer-form"):a.props.data.history.push("/admin/"+a.state.type+"/manufacturer")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.selectedFile,n=a.manufacturer,l=a.country,c=a.countries,s=a.category,i=a.initialOptions,o=a.modelsLoaded,m=a.categories;return console.log(m,s),r.a.createElement(mt.a,{noValidate:!0,id:this.state.type+"-manufacturer-form",onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"manufacturer",name:"name",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Established"),r.a.createElement(mt.a.Control,{type:"number",placeholder:"",model:"manufacturer",name:"established",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Country"),r.a.createElement(rn.a,{debounceTimeout:o?0:2e3,options:i,value:l.value?l:"select...",model:"countries",name:"country",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectCountry(a,"country")},loadOptions:function(e,a){return Pe(e,a,c,o)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Category *"),r.a.createElement(rn.a,{debounceTimeout:o?0:2e3,isMulti:!0,options:i,model:"categories",defaultValue:s,value:s||"select...",name:"categories",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectCategory(a,"category")},loadOptions:function(e,a){return Pe(e,a,m,o)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Description"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"5",model:"manufacturer",name:"description",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement("input",{accept:"image/*",style:{display:"none"},type:"file",id:"manufacturer-image-upload",name:"image",onChange:this.fileChangedHandler}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"manufacturer-image-upload"},r.a.createElement(Tc.a,{variant:"outlined",color:"inherit",component:"span"},"Select Image",r.a.createElement(xc.a,{style:{marginLeft:"5px"}}))),r.a.createElement("div",{className:"form-group form-group-last row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"dropzone dropzone-multi",id:"kt_dropzone_5"},r.a.createElement("div",{className:"dropzone-items",style:{display:t?"block":"none"}},r.a.createElement("div",{className:"dropzone-item"},r.a.createElement("div",{className:"dropzone-file"},this.state.previewFile&&r.a.createElement("div",{style:{"max-width":"250px"}},r.a.createElement("img",{style:{width:"100%"},src:this.state.previewFile})),r.a.createElement("div",{className:"dropzone-filename",title:"some_image_file_name.jpg"},r.a.createElement("span",{"data-dz-name":!0},t?t.name:"No file selected")," ",r.a.createElement("strong",null,"(",r.a.createElement("span",{"data-dz-size":!0},t&&t.size_c?t.size_c:""),")")),r.a.createElement("div",{className:"dropzone-error","data-dz-errormessage":!0},t&&t.error?t.error:"")),r.a.createElement("div",{className:"dropzone-toolbar"},r.a.createElement("span",{onClick:function(a){return e.handleFileRemove(a)},className:"dropzone-delete","data-dz-remove":!0},r.a.createElement("i",{className:"flaticon2-cross"})))))),r.a.createElement("span",{className:"form-text text-muted"},"Max file size is 2MB."))))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===n.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/"+this.state.type+"/manufacturer",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),as=function(e){function a(e){var t;Object(Qa.a)(this,a),t=Object($a.a)(this,Object(et.a)(a).call(this,e));var n=e.match.params.type;return t.state={errors:{},showError:!1},t.state.type=n,t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.type.charAt(0).toUpperCase()+this.state.type.slice(1)+" Manufacturer",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},console.log("type",this.state.type),r.a.createElement(P.Link,{to:"/admin/"+this.state.type+"/manufacturer",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(es,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),ts=Object(B.o)(as),ns=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).fileChangedHandler=function(e){var a=e.target.files[0];if(t.setState({previewFile:URL.createObjectURL(a)}),void 0!=a){a.name_c=a.name;var n=t.state.manufacturer;if(a.size_c=a.size/1024,a.size_c/1024>2)a.size_c=(a.size_c/1024).toFixed(2)+" MB",a.error="Error: File is too big",n.file={},t.setState({selectedFile:a});else{a.error=null,a.size_c=a.size_c.toFixed(2)+" KB";var r=new FileReader;r.readAsDataURL(a),r.onloadend=function(){n.file=r.result,t.setState({selectedFile:a,manufacturer:n})}}}},t.handleFileRemove=function(e){var a=t.state.manufacturer;delete a.file,t.setState({selectedFile:null,manufacturer:a,previewFile:null}),document.getElementById("manufacturer-image-upload").value=""};var n=t.props.data.match.params,r=n.manufacturer_id,l=n.type;return t.state={validated:!1,manufacturer:{id:r},type:l,countries:[],country:{},categories:[],selected_categories:[],selectedFile:null,previewFile:null,initialOptions:[],modelsLoaded:!1},t.getManufacturer(r),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getCountries",value:function(){be("countries",{is_active:1}).then(function(e){var a=e.data;for(var t in a)a[t].label=a[t].name,a[t].value=a[t].id;this.setState({countries:a}),this.getManufacturer(this.state.manufacturer.id)}.bind(this))}},{key:"getCategories",value:function(){be("category",{is_active:1,type:this.state.type}).then(function(e){var a=e.data;for(var t in a)a[t].label=a[t].name,a[t].value=a[t].id;this.setState({categories:a})}.bind(this))}},{key:"selectCountry",value:function(e,a){var t,n=this.state.manufacturer;n.country=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"manufacturer",n),t))}},{key:"selectCategory",value:function(e,a){var t,n=this.state.manufacturer;for(var r in n.categories=[],console.log(e),e)n.categories.push(e[r].id);this.setState((t={},Object(b.a)(t,a,e),Object(b.a)(t,"manufacturer",n),t))}},{key:"getManufacturer",value:function(e){var a=this;be("manufacturer/"+e+"/").then((function(e){delete e.data.type;var t=[],n=[];e.data.country.id,e.data.country.name;for(var r in a.setState({previewFile:e.data.media?oe+e.data.media.original_file_name:null}),e.data.categories)t.push({id:e.data.categories[r].id,label:e.data.categories[r].name}),n.push(t[r].id);e.data.categories=n,a.setState({manufacturer:e.data,selected_categories:t}),a.setSelectfile(),a.loadModels()}))}},{key:"loadModels",value:function(){var e=this.state.manufacturer,a={AbCategories:{type:this.state.type},AbCountries:{}},t={AbCountries:["country"]};ve("abmodels",{models:a}).then(function(a){var n={},r=function(r){a.data[r].map((function(l,c){a.data[r][c].label=l.name,a.data[r][c].value=l.id,Object.keys(t).map((function(a,c){t[a].map((function(t,c){r===a&&null!==e[t]&&void 0!==e[t].id&&e[t].id===l.id&&(n[t]=l)}))}))}))};for(var l in a.data)r(l);n.countries=a.data.AbCountries,n.categories=a.data.AbCategories,n.modelsLoaded=!0,this.setState(n)}.bind(this))}},{key:"handleChange",value:function(e){var a=this.state.manufacturer,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({manufacturer:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),this.checkDataFormat(),fe("manufacturer/"+this.state.manufacturer.id+"/",this.state.manufacturer).then((function(e){delete e.data.type,a.setState({manufacturer:e.data}),a.props.data.history.push("/admin/"+a.state.type+"/manufacturer")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"checkDataFormat",value:function(){var e=this,a=this.state.manufacturer;["country"].map((function(t,n){a[t]=e.state[t].value})),this.setState({manufacturer:a})}},{key:"setSelectfile",value:function(){if(this.state.manufacturer.media){var e={},a=this.state.manufacturer.media.original_file_name.split("/");e.name_c=a[a.length-1],this.setState({selectedFile:e})}}},{key:"render",value:function(){var e=this,a=this.state,t=a.modelsLoaded,n=a.initialOptions,l=a.manufacturer,c=a.countries,s=a.categories,i=a.selected_categories,o=a.country,m=a.selectedFile;return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"manufacturer",name:"name",defaultValue:l?l.name:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Established"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"manufacturer",name:"established",defaultValue:l?l.established:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Country"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,options:n,model:"countries",value:o.value?o:"select...",name:"country",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectCountry(a,"country")},loadOptions:function(e,a){return Pe(e,a,c,t)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Category *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,isMulti:!0,options:n,model:"categories",value:i||"select...",name:"category",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectCategory(a,"selected_categories")},loadOptions:function(e,a){return Pe(e,a,s,t)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Description"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"3",required:!0,placeholder:"",model:"manufacturer",name:"description",defaultValue:l?l.description:"",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement("input",{accept:"image/*",style:{display:"none"},type:"file",id:"manufacturer-image-upload",name:"image",onChange:this.fileChangedHandler}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"manufacturer-image-upload"},r.a.createElement(Tc.a,{variant:"outlined",color:"inherit",component:"span"},"Select Image",r.a.createElement(xc.a,{style:{marginLeft:"5px"}}))),r.a.createElement("div",{className:"form-group form-group-last row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"dropzone dropzone-multi",id:"kt_dropzone_5"},r.a.createElement("div",{className:"dropzone-items",style:{display:m?"block":"none"}},r.a.createElement("div",{className:"dropzone-item"},r.a.createElement("div",{className:"dropzone-file"},this.state.previewFile&&r.a.createElement("div",{style:{"max-width":"250px"}},r.a.createElement("img",{style:{width:"100%"},src:this.state.previewFile})),r.a.createElement("div",{className:"dropzone-filename",title:"some_image_file_name.jpg"},r.a.createElement("span",{"data-dz-name":!0},m?m.name_c:"No file selected"),r.a.createElement("strong",null,m&&m.size_c?"("+m.size_c+")":"")),r.a.createElement("div",{className:"dropzone-error","data-dz-errormessage":!0},m&&m.error?m.error:"")),r.a.createElement("div",{className:"dropzone-toolbar"},r.a.createElement("span",{onClick:function(a){return e.handleFileRemove(a)},className:"dropzone-delete","data-dz-remove":!0},r.a.createElement("i",{className:"flaticon2-cross"})))))),r.a.createElement("span",{className:"form-text text-muted"},"Max file size is 2MB."))))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===l.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/"+this.state.type+"/manufacturer",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),rs=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1,type:e.match.params.type},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this,a=r.a.createElement(P.Link,{to:"/admin/"+this.state.type+"/manufacturer",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.type.charAt(0).toUpperCase()+this.state.type.slice(1)+" Manufacturer",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},a))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(ns,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),ls=Object(B.o)(rs);r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),fa.a,va.a,ga.a,_a.a,Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}}));var cs=t(36);cs.DataTable=t(40);r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));var ss=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,r=n.manufacturer_id,l=n.type;return t.txt_weight={fontWeight:500},t.handleModalShow=t.handleModalShow.bind(Object(at.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.confirm=t.confirm.bind(Object(at.a)(t)),t.state={type:l,manufacturer:{id:r},action:"",showModal:!1,created_at:"",updated_at:"",image:null,is_active:""},t.getManufacturer(r),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getManufacturer",value:function(e){var a=this;be("manufacturer/"+e+"/").then((function(e){delete e.data.type;var t=[];for(var n in e.data.categories)t.push(e.data.categories[n].name+", ");e.data.categories=t,e.data.country=e.data.country.name,a.setState({created_at:e.data.created_at?(new Intl.DateTimeFormat).format(new Date(e.data.created_at)):"",updated_at:e.data.updated_at?(new Intl.DateTimeFormat).format(new Date(e.data.updated_at)):"",image:e.data.media?e.data.media.original_file_name:null,manufacturer:e.data,selected_categories:t})}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.manufacturer;n[a]=e,this.setState({manufacturer:n}),fe("manufacturer/"+this.state.manufacturer.id+"/",this.state.manufacturer).then((function(e){t.setState({manufacturer:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalShow",value:function(e,a){var t=e.target.value;"status"===a&&(t=parseInt(t),this.setState({is_active:1===t?0:1})),this.setState({action:a}),this.setState({showModal:!0})}},{key:"handleModalClose",value:function(){this.setState({showModal:!1})}},{key:"confirm",value:function(){var e=this;"status"===this.state.action&&(this.state.manufacturer.is_active=this.state.is_active,fe("manufacturer/"+this.state.manufacturer.id+"/",this.state.manufacturer).then((function(a){delete a.data.type,e.setState({manufacturer:a.data}),e.setState({showModal:!1})})).catch((function(a){e.props.sendError(a.response.data),e.setState({showModal:!1})})))}},{key:"render",value:function(){var e=this,a=this.state.manufacturer;return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Name"),r.a.createElement("div",null,a.name?a.name:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Category"),r.a.createElement("div",null,a.categories?a.categories:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Established"),r.a.createElement("div",null,a.established?a.established:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Country"),r.a.createElement("div",null,a.country?a.country:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Created"),r.a.createElement("div",null,this.state.created_at?this.state.created_at:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Modified"),r.a.createElement("div",null,this.state.updated_at?this.state.updated_at:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Status"),r.a.createElement("div",null,r.a.createElement("span",{onClick:function(a){return e.handleModalShow(a,"status")},className:1===this.state.manufacturer.is_active?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a.is_active?"defaultChecked":"",value:1===a.is_active?"1":"0",name:"is_active"}),r.a.createElement("span",null)))))))),r.a.createElement(ut.a,{item:!0,xs:12,md:3},r.a.createElement("img",{style:{maxHeight:"220px",maxWidth:"200px"},src:this.state.image?oe+this.state.image:oe+"dummy_image.svg"}))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"danger",onClick:this.confirm},"Yes"),r.a.createElement(Ma.a,{variant:"success",onClick:this.handleModalClose},"No"))))}}]),a}(r.a.Component),is=function(e){function a(e){var t;Object(Qa.a)(this,a),t=Object($a.a)(this,Object(et.a)(a).call(this,e));var n=e.match.params.type;return t.state={errors:{},showError:!1},t.state.type=n,t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.type.charAt(0).toUpperCase()+this.state.type.slice(1)+" Manufacturer",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/"+this.state.type+"/manufacturer",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/"+this.props.match.params.type+"/manufacturer/"+this.props.match.params.manufacturer_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(ss,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),os=Object(B.o)(is);r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),fa.a,va.a,ga.a,_a.a,Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}}));var ms=t(36);ms.DataTable=t(40);r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));var ds=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).fileChangedHandler=function(e){var a=t.state.model,n=e.target.files[0];if(t.setState({previewFile:URL.createObjectURL(n)}),void 0!=n)if(n.size_c=n.size/1024,n.size_c/1024>2)n.size_c=(n.size_c/1024).toFixed(2)+" MB",n.error="Error: File is too big",a.file={},t.setState({selectedFile:n});else{n.error=null,n.size_c=n.size_c.toFixed(2)+" KB";var r=new FileReader;r.readAsDataURL(n),r.onloadend=function(){a.file=r.result,t.setState({selectedFile:n,model:a})}}},t.handleFileRemove=function(e){var a=t.state.model;a.file={},t.setState({selectedFile:null,model:a}),document.getElementById("model-image-upload").value=""},t.clearForm=function(e){t.props.data.history.replace("/admin/"+t.state.type+"/model"),t.props.data.history.replace("/admin/"+t.state.type+"/model/create")};var n=t.props.data.match.params.type;return t.state={type:n,model:{type:n,is_active:0},type_0:{value:""},types:[],selectedFile:null,previewFile:null,validated:!1,action:""},t.loadModels(),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"loadModels",value:function(){ve("abmodels",{models:{AbTypes:{type:this.state.type}}}).then(function(e){var a=function(a){e.data[a].map((function(t,n){e.data[a][n].label=t.name,e.data[a][n].value=t.id}))};for(var t in e.data)a(t);this.setState({types:e.data.AbTypes,modelsLoaded:!0})}.bind(this))}},{key:"selectType",value:function(e,a){var t,n=this.state.model;n.type_0=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"model",n),t))}},{key:"handleChange",value:function(e){var a=this.state.model,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({model:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),ve("model",this.state.model).then((function(e){a.setState({model:e.data}),"save_new"==a.state.action?a.clearForm(a.state.type+"-model-form"):a.props.data.history.push("/admin/"+a.state.type+"/model")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.model),n=a.type_0,l=a.types,c=a.selectedFile,s=a.initialOptions,i=a.modelsLoaded;return r.a.createElement(mt.a,{noValidate:!0,id:this.state.type+"-model-form",onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"model",name:"name",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Type *"),r.a.createElement(rn.a,{options:s,value:n.value?n:"select...",model:"type",name:"type",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectType(a,"type_0")},loadOptions:function(e,a){return Pe(e,a,l,i)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Description"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"5",model:"model",name:"description",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement("input",{accept:"image/*",style:{display:"none"},type:"file",id:"model-image-upload",name:"image",onChange:this.fileChangedHandler}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"model-image-upload"},r.a.createElement(Tc.a,{variant:"outlined",color:"inherit",component:"span"},"Select Image",r.a.createElement(xc.a,{style:{marginLeft:"5px"}}))),r.a.createElement("div",{className:"form-group form-group-last row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"dropzone dropzone-multi",id:"kt_dropzone_5"},r.a.createElement("div",{className:"dropzone-items",style:{display:c?"block":"none"}},r.a.createElement("div",{className:"dropzone-item"},r.a.createElement("div",{className:"dropzone-file"},this.state.previewFile&&r.a.createElement("div",{style:{"max-width":"250px"}},r.a.createElement("img",{style:{width:"100%"},src:this.state.previewFile})),r.a.createElement("div",{className:"dropzone-filename",title:"some_image_file_name.jpg"},r.a.createElement("span",{"data-dz-name":!0},c?c.name:"No file selected")," ",r.a.createElement("strong",null,"(",r.a.createElement("span",{"data-dz-size":!0},c&&c.size_c?c.size_c:""),")")),r.a.createElement("div",{className:"dropzone-error","data-dz-errormessage":!0},c&&c.error?c.error:"")),r.a.createElement("div",{className:"dropzone-toolbar"},r.a.createElement("span",{onClick:function(a){return e.handleFileRemove(a)},className:"dropzone-delete","data-dz-remove":!0},r.a.createElement("i",{className:"flaticon2-cross"})))))),r.a.createElement("span",{className:"form-text text-muted"},"Max file size is 2MB."))))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/"+this.state.type+"/model",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),us=function(e){function a(e){var t;Object(Qa.a)(this,a),t=Object($a.a)(this,Object(et.a)(a).call(this,e));var n=e.match.params.type;return t.state={errors:{},showError:!1},t.state.type=n,t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.type.charAt(0).toUpperCase()+this.state.type.slice(1)+" Model",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/"+this.state.type+"/model",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(ds,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),ps=Object(B.o)(us),hs=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).fileChangedHandler=function(e){var a=e.target.files[0];if(t.setState({previewFile:URL.createObjectURL(a)}),void 0!=a){a.name_c=a.name;var n=t.state.model;if(a.size_c=a.size/1024,a.size_c/1024>2)a.size_c=(a.size_c/1024).toFixed(2)+" MB",a.error="Error: File is too big",n.file={},t.setState({selectedFile:a});else{a.error=null,a.size_c=a.size_c.toFixed(2)+" KB";var r=new FileReader;r.readAsDataURL(a),r.onloadend=function(){n.file=r.result,t.setState({selectedFile:a,model:n})}}}},t.handleFileRemove=function(e){var a=t.state.model;delete a.file,t.setState({selectedFile:null,model:a,previewFile:null}),document.getElementById("model-image-upload").value=""};var n=t.props.data.match.params,r=n.model_id,l=n.type;return t.state={validated:!1,model:{id:r},type:l,types:[],selectedType:{},selectedFile:null,previewFile:null,initialOptions:[],modelsLoaded:!1},t.getModel(r),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getTypes",value:function(){be("type",{is_active:1,type:this.state.type,records:"all"}).then(function(e){var a=e.data;for(var t in a)a[t].label=a[t].name,a[t].value=a[t].id;this.setState({types:a}),this.getModel(this.state.model.id)}.bind(this))}},{key:"selectType",value:function(e,a){var t,n=this.state.model;n.type_0=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"model",n),t))}},{key:"getModel",value:function(e){var a=this;be("model/"+e+"/").then((function(e){delete e.data.type;a.state.types.map((function(a){a.id===e.data.type_0&&{id:a.id,label:a.name}})),e.data.selectedType=e.data._type,a.setState({model:e.data,previewFile:e.data.media?oe+e.data.media.original_file_name:null}),a.setSelectfile(),a.loadModels()}))}},{key:"loadModels",value:function(){var e=this.state.model,a={AbTypes:{type:this.state.type}},t={AbTypes:["selectedType"]};ve("abmodels",{models:a}).then(function(a){var n={},r=function(r){a.data[r].map((function(l,c){a.data[r][c].label=l.name,a.data[r][c].value=l.id,Object.keys(t).map((function(a,c){t[a].map((function(t,c){r===a&&null!==e[t]&&void 0!==e[t].id&&e[t].id===l.id&&(n[t]=l)}))}))}))};for(var l in a.data)r(l);n.types=a.data.AbTypes,n.modelsLoaded=!0,this.setState(n)}.bind(this))}},{key:"handleChange",value:function(e){var a=this.state.model,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({model:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),fe("model/"+this.state.model.id+"/",this.state.model).then((function(e){delete e.data.type,a.setState({model:e.data}),a.props.data.history.push("/admin/"+a.state.type+"/model")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"setSelectfile",value:function(){if(this.state.model.media){var e={},a=this.state.model.media.original_file_name.split("/");e.name_c=a[a.length-1],this.setState({selectedFile:e})}}},{key:"render",value:function(){var e=this,a=this.state,t=a.initialOptions,n=a.modelsLoaded,l=(a.validated,a.model),c=a.types,s=a.selectedType,i=a.selectedFile;return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"model",name:"name",defaultValue:l?l.name:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Type *"),r.a.createElement(rn.a,{options:t,model:"type",value:s.value?s:"select...",name:"type",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectType(a,"selectedType")},loadOptions:function(e,a){return Pe(e,a,c,n)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Description"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"3",required:!0,placeholder:"",model:"model",name:"description",defaultValue:l?l.description:"",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement("input",{accept:"image/*",style:{display:"none"},type:"file",id:"model-image-upload",name:"image",onChange:this.fileChangedHandler}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"model-image-upload"},r.a.createElement(Tc.a,{variant:"outlined",color:"inherit",component:"span"},"Select Image",r.a.createElement(xc.a,{style:{marginLeft:"5px"}}))),r.a.createElement("div",{className:"form-group form-group-last row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"dropzone dropzone-multi",id:"kt_dropzone_5"},r.a.createElement("div",{className:"dropzone-items",style:{display:i?"block":"none"}},r.a.createElement("div",{className:"dropzone-item"},r.a.createElement("div",{className:"dropzone-file"},this.state.previewFile&&r.a.createElement("div",{style:{"max-width":"250px"}},r.a.createElement("img",{style:{width:"100%"},src:this.state.previewFile})),r.a.createElement("div",{className:"dropzone-filename",title:"some_image_file_name.jpg"},r.a.createElement("span",{"data-dz-name":!0},i?i.name_c:"No file selected"),r.a.createElement("strong",null,i&&i.size_c?"("+i.size_c+")":"")),r.a.createElement("div",{className:"dropzone-error","data-dz-errormessage":!0},i&&i.error?i.error:"")),r.a.createElement("div",{className:"dropzone-toolbar"},r.a.createElement("span",{onClick:function(a){return e.handleFileRemove(a)},className:"dropzone-delete","data-dz-remove":!0},r.a.createElement("i",{className:"flaticon2-cross"})))))),r.a.createElement("span",{className:"form-text text-muted"},"Max file size is 2MB."))))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===l.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/"+this.state.type+"/model",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Es=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1,type:e.match.params.type},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this,a=r.a.createElement(P.Link,{to:"/admin/"+this.state.type+"/model",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.type.charAt(0).toUpperCase()+this.state.type.slice(1)+" Model",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},a))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(hs,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),bs=Object(B.o)(Es),fs=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,r=n.model_id,l=n.type;return t.txt_weight={fontWeight:500},t.handleModalShow=t.handleModalShow.bind(Object(at.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.confirm=t.confirm.bind(Object(at.a)(t)),t.state={type:l,model:{id:r},action:"",showModal:!1,created_at:"",updated_at:"",image:null,is_active:""},t.getModel(r),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getModel",value:function(e){var a=this;be("model/"+e+"/").then((function(e){delete e.data.type;var t=e.data._type.name;e.data._type=e.data._type.id,a.setState({created_at:e.data.created_at?(new Intl.DateTimeFormat).format(new Date(e.data.created_at)):"",updated_at:e.data.updated_at?(new Intl.DateTimeFormat).format(new Date(e.data.updated_at)):"",image:e.data.media?e.data.media.original_file_name:null,model:e.data,selected_type:t})}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.model;n[a]=e,this.setState({model:n}),fe("model/"+this.state.model.id+"/",this.state.model).then((function(e){t.setState({model:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalShow",value:function(e,a){var t=e.target.value;"status"===a&&(t=parseInt(t),this.setState({is_active:1===t?0:1})),this.setState({action:a}),this.setState({showModal:!0})}},{key:"handleModalClose",value:function(){this.setState({showModal:!1})}},{key:"confirm",value:function(){var e=this;"status"===this.state.action&&(this.state.model.is_active=this.state.is_active,fe("model/"+this.state.model.id+"/",this.state.model).then((function(a){delete a.data.type,e.setState({model:a.data}),e.setState({showModal:!1})})).catch((function(a){e.props.sendError(a.response.data),e.setState({showModal:!1})})))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.model),n=a.selected_type;return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Name"),r.a.createElement("div",null,t.name?t.name:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Type"),r.a.createElement("div",null,n||"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Created"),r.a.createElement("div",null,this.state.created_at?this.state.created_at:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Modified"),r.a.createElement("div",null,this.state.updated_at?this.state.updated_at:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Status"),r.a.createElement("div",null,r.a.createElement("span",{onClick:function(a){return e.handleModalShow(a,"status")},className:1===this.state.model.is_active?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===t.is_active?"defaultChecked":"",value:1===t.is_active?"1":"0",name:"is_active"}),r.a.createElement("span",null)))))))),r.a.createElement(ut.a,{item:!0,xs:12,md:3},r.a.createElement("img",{style:{maxHeight:"220px",maxWidth:"200px"},src:this.state.image?oe+this.state.image:oe+"dummy_image.svg"}))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"danger",onClick:this.confirm},"Yes"),r.a.createElement(Ma.a,{variant:"success",onClick:this.handleModalClose},"No"))))}}]),a}(r.a.Component),vs=function(e){function a(e){var t;Object(Qa.a)(this,a),t=Object($a.a)(this,Object(et.a)(a).call(this,e));var n=e.match.params.type;return t.state={errors:{},showError:!1},t.state.type=n,t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.type.charAt(0).toUpperCase()+this.state.type.slice(1)+" Model",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/"+this.state.type+"/model",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/"+this.props.match.params.type+"/model/"+this.props.match.params.model_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(fs,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),gs=Object(B.o)(vs),_s=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),ys={success:fa.a,warning:va.a,error:ga.a,info:_a.a},ks=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function Ns(e){var a=ks(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=ys[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var Cs=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),ws=function(e){var a=Cs(),t=e.exportSpinner,n=e.setExpSpin,l=e.csvData,c=e.setCsvData,s=e.numSelected,i=(e.type,e.selected),o=e.setSelected,m=e.setSelectedMany,d=e.setRowsData,u=e.rows,p=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,s>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon-diagram"})),s>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},s," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"Sales & Invoices")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},s>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(i.length){var a={ids:i};ge("paymenthistories/"+i[0]+"/",a).then((function(e){for(var a in u)i.indexOf(u[a].transaction_id)>-1&&delete u[a];d(u),i.length=0,o(i),m(!1);var t=[];t.push(1),p(t),js()}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:_s,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){n(""),be("paymenthistories",{records:"all"}).then((function(e){n("d-none");var a=e.data.map((function(e,a){return delete e.user,e}));c(a),document.getElementById("paymenthistories-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+t})),r.a.createElement(Ha.CSVLink,{data:l,filename:"paymenthistories.csv",className:"d-none",id:"paymenthistories-csv-btn",target:"_blank"})))))))))))},Os=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),Ss=t(36);function js(e,a){Ss("#paymenthistories").DataTable().ajax.reload(null,!1)}Ss.DataTable=t(40);var Ts=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function xs(e){var a=Os(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=(T[1],r.a.useState({})),D=Object(H.a)(M,2),A=D[0],R=(D[1],r.a.useState([])),L=Object(H.a)(R,2),I=L[0],F=L[1],U=r.a.useState(!1),G=Object(H.a)(U,2),P=G[0],z=G[1],V=r.a.useState(!1),q=Object(H.a)(V,2),W=q[0],Y=q[1],J=r.a.useState("Changes applied successfully!"),K=Object(H.a)(J,2),X=K[0],Q=K[1],Z=r.a.useState(!1),$=Object(H.a)(Z,2),ae=$[0],te=$[1],ne=r.a.useState([]),re=Object(H.a)(ne,2),le=re[0],ce=re[1],se=r.a.useState("d-none"),oe=Object(H.a)(se,2),me=oe[0],de=oe[1],ue=r.a.useState({edit:Ee("change_abpaymenthistories"),delete:Ee("delete_abpaymenthistories"),view:Ee("view_abpaymenthistories")}),pe=Object(H.a)(ue,2),he=pe[0],be=(pe[1],Object(B.k)());function ve(e){S(!1)}r.a.useEffect((function(){Ss.fn.dataTable.isDataTable("#paymenthistories")&&(Ss("#paymenthistories").DataTable().destroy(),te(!0));return function(){y([]),Ss("#paymenthistories").DataTable().destroy(!0),te(!0)}}),[]),r.a.useEffect((function(){if(ae&&Ss.fn.dataTable.isDataTable("#paymenthistories"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{te(!0);try{!function(){var e=ie+"paymenthistories?format=datatables",a=[{bVisible:!1,aTargets:[1,2]},{targets:0,searchable:!1,width:"30px",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:ye(t.transaction_id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(I);o.push(1),F(o),Ss("#paymenthistories").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:ye(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.transaction_id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:3,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{target:"_blank",style:{cursor:"pointer"},onClick:function(){return be.push("/admin/invoices/"+t.transaction_id)}},a),e)}},{targets:4,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{style:{cursor:"pointer"},target:"_blank",href:"contacts/"+t.id},a),e)}},{targets:8,searchable:!1,orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:Ts}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},he.view?r.a.createElement(Ve.a.Item,{onClick:function(){return be.push("/admin/invoices/"+t.transaction_id)}},r.a.createElement("i",{className:"flaticon2-list-3"})," View "):"")),e)}}];Ss("#paymenthistories").DataTable({responsive:{details:{renderer:Ss.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,ajax:{url:e,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){a.user?e[t].user__id=a.user.name:e[t].user__id="",e[t].status=a.status?"Success":"Failed",e[t].download="Download PDF",e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n           <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[6,"desc"]],columnDefs:a})}()}catch(e){console.log("ignore - dt destroy")}}}),[_]);var _e=function(e,a){Y(!1)},ye=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(ws,{exportSpinner:me,setExpSpin:de,setTemp:F,setRowsData:y,rows:_,setSelectedMany:z,setSelected:d,selected:m,numSelected:m.length,csvData:le,setCsvData:ce}),r.a.createElement("div",{className:"kt-portlet__body"},he.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){Ss("#paymenthistories").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",he.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"paymenthistories"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:P,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.transaction_id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);z(!P),js()},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"user__id"},"User ID"),r.a.createElement("th",{"data-data":"transaction_id"},"Transaction ID"),r.a.createElement("th",{"data-data":"customer_name"},"Name"),r.a.createElement("th",{"data-data":"transaction_amount"},"Amount"),r.a.createElement("th",{"data-data":"trans_date"},"Date"),r.a.createElement("th",{"data-data":"status"},"Status"),r.a.createElement("th",{"data-data":"download"},"Actions")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:ve},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==A){var a={is_active:1===_[x].is_active?0:1};fe("paymenthistories/"+_[x].transaction_id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),js(),Y(!0);var t=1===e.data.is_active?"activated":"deactivated";Q("Record successfully "+t)}))}else"delete"==A&&ge("paymenthistories/"+_[x].transaction_id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),js(),Y(!0),Q("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:ve},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:W,autoHideDuration:16e5,onClose:_e},r.a.createElement(Ns,{onClose:_e,variant:"success",message:X})))}t(1184);var Ms=t(361),Ds=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={invoice:{credits:[]}},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"componentDidUpdate",value:function(e){Object.keys(e.stateData.invoice).length||this.setState({invoice:this.props.stateData.invoice})}},{key:"render",value:function(){var e=this.state.invoice;return r.a.createElement("div",{className:"kt-invoice-2"},r.a.createElement("div",{className:"kt-invoice__head"},r.a.createElement("div",{className:"kt-invoice__container"},r.a.createElement("div",{className:"kt-invoice__brand"},r.a.createElement("h1",{className:"kt-invoice__title"},"INVOICE"),r.a.createElement("div",{href:"#",className:"kt-invoice__logo"},r.a.createElement("a",{href:"#"},r.a.createElement("img",{style:{width:"180px",height:"32px"},src:"/static/media/logos/airbook.jpg"})),r.a.createElement("span",{className:"kt-invoice__desc"},r.a.createElement("span",null,"Dubai World Central Headquarters Aviation City,"),r.a.createElement("span",null," Dubai South"),r.a.createElement("span",null,"P.O. Box 712430 Dubai, "),r.a.createElement("span",null,"United Arab Emirates")))),r.a.createElement("div",{className:"kt-invoice__items"},r.a.createElement("div",{className:"kt-invoice__item"},r.a.createElement("span",{className:"kt-invoice__subtitle"},"Name"),r.a.createElement("span",{className:"kt-invoice__text"},e.customer_name)),r.a.createElement("div",{className:"kt-invoice__item"},r.a.createElement("span",{className:"kt-invoice__subtitle"},"DATA"),r.a.createElement("span",{className:"kt-invoice__text"},e.trans_date)),r.a.createElement("div",{className:"kt-invoice__item"},r.a.createElement("span",{className:"kt-invoice__subtitle"},"INVOICE NO."),r.a.createElement("span",{className:"kt-invoice__text"},e.transaction_id)),r.a.createElement("div",{className:"kt-invoice__item"},r.a.createElement("span",{className:"kt-invoice__subtitle"},"INVOICE TO."),r.a.createElement("span",{className:"kt-invoice__text"},e.customer_email))))),r.a.createElement("div",{className:"kt-invoice__body"},r.a.createElement("div",{className:"kt-invoice__container"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Asset"),r.a.createElement("th",null,"Credits"),r.a.createElement("th",null,"Unit Price"),r.a.createElement("th",null,"Total"))),r.a.createElement("tbody",null,e.credits.map((function(e){if(0!=e.quantity)return r.a.createElement("tr",null,r.a.createElement("td",null,e.type),r.a.createElement("td",null,e.quantity),r.a.createElement("td",null,e.unit_price),r.a.createElement("td",null,e.unit_price*e.quantity))}))))))),r.a.createElement("div",{className:"kt-invoice__footer"},r.a.createElement("div",{className:"kt-invoice__container"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table text-right"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",null,"TOTAL AMOUNT"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",{className:"kt-font-danger kt-font-xl kt-font-boldest"},e.transaction_amount," USD"))))))))}}]),a}(r.a.Component),As=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={title:"Invoice",invoice:{},credits:{aircraft:0,engine:0,apu:0}};var n=t.props.match.params.invoice_id;return t.getInvoice(n),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getInvoice",value:function(e){var a=this;be("paymenthistories/"+e+"/").then((function(e){var t=e.data;t.trans_date=(new Intl.DateTimeFormat).format(new Date(t.trans_date)),a.setState({invoice:e.data})}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Invoice detail for customer "+this.state.invoice.customer_name,jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/invoices",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{onClick:function(){return Object(Ms.print)("airbook-invoice","invoice-template")},className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-download"}),"Download")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Ms.Preview,{id:"invoice-template"},r.a.createElement(Ds,{data:this.props,stateData:this.state})))))))}}]),a}(r.a.Component),Rs=Object(B.o)(As);r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),fa.a,va.a,ga.a,_a.a,Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}}));var Ls=t(36);Ls.DataTable=t(40);r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));var Is=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).fileChangedHandler=function(e){var a=t.state.types,n=e.target.files[0];if(t.setState({previewFile:URL.createObjectURL(n)}),void 0!=n)if(n.size_c=n.size/1024,n.size_c/1024>2)n.size_c=(n.size_c/1024).toFixed(2)+" MB",n.error="Error: File is too big",a.file={},t.setState({selectedFile:n});else{n.error=null,n.size_c=n.size_c.toFixed(2)+" KB";var r=new FileReader;r.readAsDataURL(n),r.onloadend=function(){a.file=r.result,t.setState({selectedFile:n,types:a})}}},t.handleFileRemove=function(e){var a=t.state.types;a.file={},t.setState({selectedFile:null,types:a}),document.getElementById("types-image-upload").value=""},t.clearForm=function(e){t.props.data.history.replace("/admin/"+t.state.type+"/type"),t.props.data.history.replace("/admin/"+t.state.type+"/type/create")};var n=t.props.data.match.params.type;return t.state={type:n,types:{type:n,is_active:0},manufacturer:{value:""},manufacturers:[],selectedFile:null,previewFile:null,validated:!1,action:"",initialOptions:[],modelsLoaded:!1},t.loadModels(),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"loadModels",value:function(){ve("abmodels",{models:{AbManufacturers:{type:this.state.type}}}).then(function(e){var a=function(a){e.data[a].map((function(t,n){e.data[a][n].label=t.name,e.data[a][n].value=t.id}))};for(var t in e.data)a(t);this.setState({manufacturers:e.data.AbManufacturers,modelsLoaded:!0})}.bind(this))}},{key:"selectManufacturer",value:function(e,a){var t,n=this.state.types;n.manufacturer=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"types",n),t))}},{key:"handleChange",value:function(e){var a=this.state.types,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),"manufacturer"===e.target.getAttribute("model")&&(a.manufacturer=n),a[t]=n,this.setState({types:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),ve("type",this.state.types).then((function(e){a.setState({types:e.data}),"save_new"==a.state.action?a.clearForm(a.state.type+"-model-form"):a.props.data.history.push("/admin/"+a.state.type+"/type")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.selectedFile,n=a.types,l=a.manufacturer,c=a.manufacturers,s=a.initialOptions,i=a.modelsLoaded;return r.a.createElement(mt.a,{noValidate:!0,id:this.state.type+"-model-form",onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"types",name:"name",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Manufacturer *"),r.a.createElement(rn.a,{options:s,value:l.value?l:"select...",model:"manufacturer",name:"manufacturer",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectManufacturer(a,"manufacturer")},loadOptions:function(e,a){return Pe(e,a,c,i)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Description"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"5",model:"types",name:"description",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement("input",{accept:"image/*",style:{display:"none"},type:"file",id:"types-image-upload",name:"image",onChange:this.fileChangedHandler}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"types-image-upload"},r.a.createElement(Tc.a,{variant:"outlined",color:"inherit",component:"span"},"Select Image",r.a.createElement(xc.a,{style:{marginLeft:"5px"}}))),r.a.createElement("div",{className:"form-group form-group-last row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"dropzone dropzone-multi",id:"kt_dropzone_5"},r.a.createElement("div",{className:"dropzone-items",style:{display:t?"block":"none"}},r.a.createElement("div",{className:"dropzone-item"},r.a.createElement("div",{className:"dropzone-file"},this.state.previewFile&&r.a.createElement("div",{style:{"max-width":"250px"}},r.a.createElement("img",{style:{width:"100%"},src:this.state.previewFile})),r.a.createElement("div",{className:"dropzone-filename",title:"some_image_file_name.jpg"},r.a.createElement("span",{"data-dz-name":!0},t?t.name:"No file selected")," ",r.a.createElement("strong",null,"(",r.a.createElement("span",{"data-dz-size":!0},t&&t.size_c?t.size_c:""),")")),r.a.createElement("div",{className:"dropzone-error","data-dz-errormessage":!0},t&&t.error?t.error:"")),r.a.createElement("div",{className:"dropzone-toolbar"},r.a.createElement("span",{onClick:function(a){return e.handleFileRemove(a)},className:"dropzone-delete","data-dz-remove":!0},r.a.createElement("i",{className:"flaticon2-cross"})))))),r.a.createElement("span",{className:"form-text text-muted"},"Max file size is 2MB."))))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===n.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/"+this.state.type+"/type",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Fs=function(e){function a(e){var t;Object(Qa.a)(this,a),t=Object($a.a)(this,Object(et.a)(a).call(this,e));var n=e.match.params.type;return t.state={errors:{},showError:!1},t.state.type=n,t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.type.charAt(0).toUpperCase()+this.state.type.slice(1)+" Type",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/"+this.state.type+"/type",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Is,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Us=Object(B.o)(Fs),Gs=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).fileChangedHandler=function(e){var a=e.target.files[0];if(t.setState({previewFile:URL.createObjectURL(a)}),void 0!=a){a.name_c=a.name;var n=t.state.types;if(a.size_c=a.size/1024,a.size_c/1024>2)a.size_c=(a.size_c/1024).toFixed(2)+" MB",a.error="Error: File is too big",n.file={},t.setState({selectedFile:a});else{a.error=null,a.size_c=a.size_c.toFixed(2)+" KB";var r=new FileReader;r.readAsDataURL(a),r.onloadend=function(){n.file=r.result,t.setState({selectedFile:a,types:n})}}}},t.handleFileRemove=function(e){var a=t.state.types;delete a.file,t.setState({selectedFile:null,types:a,previewFile:null}),document.getElementById("types-image-upload").value=""};var n=t.props.data.match.params,r=n.type_id,l=n.type;return t.state={validated:!1,types:{id:r},type:l,manufacturers:[],manufacturer:{},selectedFile:null,previewFile:null,initialOptions:[],modelsLoaded:!1},t.getType(r),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getManufacturers",value:function(){be("manufacturer",{is_active:1,type:this.state.type,records:"all"}).then(function(e){var a=e.data;for(var t in a)a[t].label=a[t].name,a[t].value=a[t].id;this.setState({manufacturers:a}),this.getType(this.state.types.id)}.bind(this))}},{key:"loadModels",value:function(){var e=this.state.types,a={AbManufacturers:{type:this.state.type}},t={AbManufacturers:["manufacturer"]};ve("abmodels",{models:a}).then(function(a){var n={},r=function(r){a.data[r].map((function(l,c){a.data[r][c].label=l.name,a.data[r][c].value=l.id,Object.keys(t).map((function(a,c){t[a].map((function(t,c){r===a&&null!==e[t]&&void 0!==e[t].id&&e[t].id===l.id&&(n[t]=l)}))}))}))};for(var l in a.data)r(l);n.manufacturers=a.data.AbManufacturers,n.modelsLoaded=!0,this.setState(n)}.bind(this))}},{key:"selectManufacturer",value:function(e,a){var t,n=this.state.types;n.manufacturer=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"types",n),t))}},{key:"getType",value:function(e){var a=this;be("type/"+e+"/").then((function(e){delete e.data.type,a.setState({types:e.data,previewFile:e.data.media?oe+e.data.media.original_file_name:null}),a.setSelectfile(),a.loadModels()}))}},{key:"handleChange",value:function(e){var a=this.state.types,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({types:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0});var t=this.state.types;t.manufacturer=this.state.manufacturer.value,fe("type/"+this.state.types.id+"/",t).then((function(e){delete e.data.type,a.setState({types:e.data}),a.props.data.history.push("/admin/"+a.state.type+"/type")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"setSelectfile",value:function(){if(this.state.types.media){var e={},a=this.state.types.media.original_file_name.split("/");e.name_c=a[a.length-1],this.setState({selectedFile:e})}}},{key:"render",value:function(){var e=this,a=this.state,t=a.initialOptions,n=a.modelsLoaded,l=a.types,c=a.manufacturers,s=a.manufacturer,i=a.selectedFile;return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"types",name:"name",value:l?l.name:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Manufacturer *"),r.a.createElement(rn.a,{options:t,model:"manufacturer",value:s.value?s:"select...",name:"manufacturer",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectManufacturer(a,"manufacturer")},loadOptions:function(e,a){return Pe(e,a,c,n)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Description"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"3",required:!0,placeholder:"",model:"types",name:"description",value:l?l.description:"",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement("input",{accept:"image/*",style:{display:"none"},type:"file",id:"types-image-upload",name:"image",onChange:this.fileChangedHandler}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"types-image-upload"},r.a.createElement(Tc.a,{variant:"outlined",color:"inherit",component:"span"},"Select Image",r.a.createElement(xc.a,{style:{marginLeft:"5px"}}))),r.a.createElement("div",{className:"form-group form-group-last row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"dropzone dropzone-multi",id:"kt_dropzone_5"},r.a.createElement("div",{className:"dropzone-items",style:{display:i?"block":"none"}},r.a.createElement("div",{className:"dropzone-item"},r.a.createElement("div",{className:"dropzone-file"},this.state.previewFile&&r.a.createElement("div",{style:{"max-width":"250px"}},r.a.createElement("img",{style:{width:"100%"},src:this.state.previewFile})),r.a.createElement("div",{className:"dropzone-filename",title:"some_image_file_name.jpg"},r.a.createElement("span",{"data-dz-name":!0},i?i.name_c:"No file selected"),r.a.createElement("strong",null,i&&i.size_c?"("+i.size_c+")":"")),r.a.createElement("div",{className:"dropzone-error","data-dz-errormessage":!0},i&&i.error?i.error:"")),r.a.createElement("div",{className:"dropzone-toolbar"},r.a.createElement("span",{onClick:function(a){return e.handleFileRemove(a)},className:"dropzone-delete","data-dz-remove":!0},r.a.createElement("i",{className:"flaticon2-cross"})))))),r.a.createElement("span",{className:"form-text text-muted"},"Max file size is 2MB."))))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===l.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/"+this.state.type+"/type",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Ps=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1,type:e.match.params.type},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this,a=r.a.createElement(P.Link,{to:"/admin/"+this.state.type+"/type",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.type.charAt(0).toUpperCase()+this.state.type.slice(1)+" Types",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},a))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Gs,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),zs=Object(B.o)(Ps),Vs=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,r=n.type_id,l=n.type;return t.txt_weight={fontWeight:500},t.handleModalShow=t.handleModalShow.bind(Object(at.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.confirm=t.confirm.bind(Object(at.a)(t)),t.state={type:l,types:{},action:"",showModal:!1,created_at:"",updated_at:"",image:null,is_active:""},t.getTypes(r),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getTypes",value:function(e){var a=this;be("type/"+e+"/").then((function(e){delete e.data.type;var t=e.data.manufacturer.name;e.data.manufacturer=e.data.manufacturer.id,a.setState({created_at:e.data.created_at?(new Intl.DateTimeFormat).format(new Date(e.data.created_at)):"",updated_at:e.data.updated_at?(new Intl.DateTimeFormat).format(new Date(e.data.updated_at)):"",image:e.data.media?e.data.media.original_file_name:null,types:e.data,selected_manufacturer:t})}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.types;n[a]=e,this.setState({types:n}),fe("type/"+this.state.types.id+"/",this.state.types).then((function(e){t.setState({types:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalShow",value:function(e,a){var t=e.target.value;"status"===a&&(t=parseInt(t),this.setState({is_active:1===t?0:1})),this.setState({action:a}),this.setState({showModal:!0})}},{key:"handleModalClose",value:function(){this.setState({showModal:!1})}},{key:"confirm",value:function(){var e=this;"status"===this.state.action&&(this.state.types.is_active=this.state.is_active,fe("type/"+this.state.types.id+"/",this.state.types).then((function(a){delete a.data.type,e.setState({types:a.data}),e.setState({showModal:!1})})).catch((function(a){e.props.sendError(a.response.data),e.setState({showModal:!1})})))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.types),n=a.selected_manufacturer;return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Name"),r.a.createElement("div",null,t.name?t.name:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Manufacturer"),r.a.createElement("div",null,n||"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Created"),r.a.createElement("div",null,this.state.created_at?this.state.created_at:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Modified"),r.a.createElement("div",null,this.state.updated_at?this.state.updated_at:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Status"),r.a.createElement("div",null,r.a.createElement("span",{onClick:function(a){return e.handleModalShow(a,"status")},className:1===this.state.types.is_active?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===t.is_active?"defaultChecked":"",value:1===t.is_active?"1":"0",name:"is_active"}),r.a.createElement("span",null)))))))),r.a.createElement(ut.a,{item:!0,xs:12,md:3},r.a.createElement("img",{style:{maxHeight:"220px",maxWidth:"200px"},src:this.state.image?oe+this.state.image:oe+"dummy_image.svg"}))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"danger",onClick:this.confirm},"Yes"),r.a.createElement(Ma.a,{variant:"success",onClick:this.handleModalClose},"No"))))}}]),a}(r.a.Component),Hs=function(e){function a(e){var t;Object(Qa.a)(this,a),t=Object($a.a)(this,Object(et.a)(a).call(this,e));var n=e.match.params.type;return t.state={errors:{},showError:!1},t.state.type=n,t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.type.charAt(0).toUpperCase()+this.state.type.slice(1)+" Types",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/"+this.state.type+"/type",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/"+this.props.match.params.type+"/type/"+this.props.match.params.type_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Vs,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Bs=Object(B.o)(Hs),qs=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),Ws={success:fa.a,warning:va.a,error:ga.a,info:_a.a},Ys=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function Js(e){var a=Ys(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=Ws[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var Ks=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),Xs=function(e){var a=Ks(),t=e.setExpSpin,n=e.exportSpinner,l=e.setCsvData,c=e.setMessageType,s=e.setMessage,i=e.setOpen,o=e.numSelected,m=(e.type,e.selected),d=e.setSelected,u=e.setSelectedMany,p=e.setRowsData,h=e.rows,E=e.setTemp,f=e.csvData;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,o>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon-diagram"})),o>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},o," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"Subscribers")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},o>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(m.length){var a={ids:m};ge("subscribers/"+m[0]+"/",a).then((function(e){for(var a in h)m.indexOf(h[a].id)>-1&&delete h[a];p(h),m.length=0,d(m),u(!1);var t=[];t.push(1),E(t),$s()}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement(r.a.Fragment,null,r.a.createElement(P.Link,{to:"/admin/subscriber/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:qs,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){t(""),be("subscribers",{records:"all"}).then((function(e){var a=[];t("d-none");var n=e.data.map((function(e,t){return a.map((function(a){e[a]=e[a]?e[a].name:e[a]})),e}));l(n),document.getElementById("subscriber-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+n})),r.a.createElement(Ha.CSVLink,{data:f,className:"d-none",filename:"subscribers.csv",id:"subscriber-csv-btn",target:"_blank"})),r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement(St.a,{inputId:"subscriber-csv-reader",cssClass:"kt-nav__link-text",cssInputClass:"d-none",label:"Import",onFileLoaded:function(e){return _e(e,"AbSubscribers").then((function(e){e.data.success?c("success"):c("error"),s(e.data.message),i(!0),$s()}))}})))))))))))))},Qs=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),Zs=t(36);function $s(e,a){Zs("#subscribers").DataTable().ajax.reload(null,!1)}Zs.DataTable=t(40);var ei=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function ai(e){var a=Qs(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState([]),te=Object(H.a)(ae,2),ne=te[0],re=te[1],le=r.a.useState(!1),ce=Object(H.a)(le,2),se=ce[0],oe=ce[1],me=r.a.useState("success"),de=Object(H.a)(me,2),ue=de[0],pe=de[1],he=r.a.useState("d-none"),be=Object(H.a)(he,2),ve=be[0],_e=be[1],ye=r.a.useState({create:Ee("add_absubscribers"),edit:Ee("change_absubscribers"),delete:Ee("delete_absubscribers"),view:Ee("view_absubscribers")}),ke=Object(H.a)(ye,2),Ne=ke[0],Ce=(ke[1],Object(B.k)());function we(e){S(!1)}function Oe(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){Zs.fn.dataTable.isDataTable("#subscribers")&&(Zs("#subscribers").DataTable().destroy(),oe(!0));return function(){y([]),Zs("#subscribers").DataTable().destroy(!0),oe(!0)}}),[]),r.a.useEffect((function(){if(se&&Zs.fn.dataTable.isDataTable("#subscribers"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{oe(!0);try{!function(){var a=ie+"subscribers?format=datatables",t=[{bVisible:!1,aTargets:[1]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:je(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),Zs("#subscribers").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:je(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{onClick:function(){return Ce.push("/admin/subscriber/"+t.id)}},a),e)}},{targets:4,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return Oe(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(Ne.create||Ne.edit)&&t.push({targets:5,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:ei}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},Ne.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return Ce.push("/admin/subscriber/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",Ne.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return Oe(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});Zs("#subscribers").DataTable({responsive:{details:{renderer:Zs.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("subscribers",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n           <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[4,"desc"]],columnDefs:t}),Zs("#subscribers").on("page.dt",(function(){Pa(Zs("#subscribers"),"subscribers",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var Se=function(e,a){K(!1)},je=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(Xs,{setCsvData:re,setMessageType:pe,setMessage:$,setOpen:K,csvData:ne,exportSpinner:ve,setExpSpin:_e,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length}),r.a.createElement("div",{className:"kt-portlet__body"},Ne.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){Zs("#subscribers").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",Ne.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"subscribers"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),$s()},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"email"},"Email"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:we},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("subscribers/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),$s(),K(!0);var t=1===e.data.is_active?"activated":"deactivated";pe("success"),$("Record successfully "+t)}))}else"delete"==R&&ge("subscribers/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),$s(),K(!0),pe("success"),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:we},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:1500,onClose:Se},r.a.createElement(Js,{onClose:Se,variant:ue,message:Z})))}var ti=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).fileChangedHandler=function(e){t.setState({selectedFile:e.target.files[0]}),console.log(e.target.files[0])},t.clearForm=function(e){t.props.data.history.replace("/admin/subscriber"),t.props.data.history.replace("/admin/subscriber/create")};var n=t.props.data.match.params.type;return t.state={type:n,subscriber:{type:n,is_active:0},validated:!1,action:"",selectedFile:null},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"handleChange",value:function(e){var a=this.state.subscriber,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({subscriber:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),ve("subscribers",this.state.subscriber).then((function(e){a.setState({subscriber:e.data}),"save_new"==a.state.action?a.clearForm("create-subscriber-form"):a.props.data.history.push("/admin/subscriber")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"render",value:function(){var e=this,a=this.state.subscriber;return r.a.createElement(mt.a,{noValidate:!0,id:"create-subscriber-form",onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"subscriber",name:"name",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Email *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"subscriber",name:"email",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Comments"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"5",model:"subscriber",name:"comments",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===a.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/subscriber",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),ni=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:[],showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(Object.keys(e).length){for(var t in Object.keys(e)){var n=Object.keys(e)[t];if(!Array.isArray(e[n]))return this.sendError(e[n],a);for(var r in e[n])a.push(n.charAt(0).toUpperCase()+n.slice(1)+" : "+e[n][r])}this.setState({showError:!0})}this.setState({errors:a})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},this.state.errors.map((function(e,a){return r.a.createElement("li",{key:a},e)}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Subscriber",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/subscriber",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(ti,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),ri=Object(B.o)(ni),li=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).fileChangedHandler=function(e){t.setState({selectedFile:e.target.files[0]}),console.log(e.target.files[0])};var n=t.props.data.match.params,r=n.subscriber_id,l=n.type;return t.state={validated:!1,subscriber:{},type:l,selectedFile:null},t.getSubscriber(r),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getSubscriber",value:function(e){var a=this;be("subscribers/"+e+"/").then((function(e){delete e.data.type,a.setState({subscriber:e.data})}))}},{key:"handleChange",value:function(e){var a=this.state.subscriber,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({subscriber:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),fe("subscribers/"+this.state.subscriber.id+"/",this.state.subscriber).then((function(e){delete e.data.type,a.setState({subscriber:e.data}),a.props.data.history.push("/admin/subscriber")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.subscriber);return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"subscriber",name:"name",defaultValue:t?t.name:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Email *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"subscriber",name:"email",defaultValue:t?t.email:"",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Comments"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"3",required:!0,placeholder:"",model:"subscriber",name:"comments",defaultValue:t?t.comments:"",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/subscriber",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),ci=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:[],showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(Object.keys(e).length){for(var t in Object.keys(e)){var n=Object.keys(e)[t];if(!Array.isArray(e[n]))return this.sendError(e[n],a);for(var r in e[n])a.push(n.charAt(0).toUpperCase()+n.slice(1)+" : "+e[n][r])}this.setState({showError:!0})}this.setState({errors:a})}},{key:"render",value:function(){var e=r.a.createElement(P.Link,{to:"/admin/subscriber",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},this.state.errors.map((function(e,a){return r.a.createElement("li",{key:a},e)}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Subscriber",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},e))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(li,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),si=Object(B.o)(ci),ii=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,r=n.subscriber_id,l=n.type;return t.txt_weight={fontWeight:500},t.handleModalShow=t.handleModalShow.bind(Object(at.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.confirm=t.confirm.bind(Object(at.a)(t)),t.state={type:l,subscriber:{},action:"",showModal:!1,created_at:"",updated_at:"",is_active:""},t.getSubscriber(r),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getSubscriber",value:function(e){var a=this;be("subscribers/"+e+"/").then((function(e){delete e.data.type,a.setState({created_at:(new Intl.DateTimeFormat).format(new Date(e.data.created_at)),updated_at:(new Intl.DateTimeFormat).format(new Date(e.data.updated_at))}),a.props.setTitle(e.data.name),a.setState({subscriber:e.data})}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.subscriber;n[a]=e,this.setState({subscriber:n}),fe("subscribers/"+this.state.subscriber.id+"/",this.state.subscriber).then((function(e){t.setState({subscriber:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalShow",value:function(e,a){var t=e.target.value;"status"===a&&(t=parseInt(t),this.setState({is_active:1===t?0:1})),this.setState({action:a}),this.setState({showModal:!0})}},{key:"handleModalClose",value:function(){this.setState({showModal:!1})}},{key:"confirm",value:function(){var e=this;"status"===this.state.action&&(this.state.subscriber.is_active=this.state.is_active,fe("subscribers/"+this.state.subscriber.id+"/",this.state.subscriber).then((function(a){delete a.data.type,e.setState({subscriber:a.data}),e.setState({showModal:!1})})).catch((function(a){e.props.sendError(a.response.data),e.setState({showModal:!1})})))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.subscriber);return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Name"),r.a.createElement("div",null,t.name?t.name:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Email"),r.a.createElement("div",null,t.email?t.email:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Comments"),r.a.createElement("div",null,t.comments?t.comments:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Created"),r.a.createElement("div",null,this.state.created_at?this.state.created_at:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Modified"),r.a.createElement("div",null,this.state.updated_at?this.state.updated_at:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Status"),r.a.createElement("div",null,r.a.createElement("span",{onClick:function(a){return e.handleModalShow(a,"status")},className:1===this.state.subscriber.is_active?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===t.is_active?"defaultChecked":"",value:1===t.is_active?"1":"0",name:"is_active"}),r.a.createElement("span",null))))))))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:this.confirm},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:this.handleModalClose},"No"))))}}]),a}(r.a.Component),oi=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).setMainTitle=function(e){t.setState({title:e})};e.match.params.type;return t.state={errors:{},showError:!1,title:"Subscriber"},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.title,jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/subscriber",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/subscriber/"+this.props.match.params.subscriber_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(ii,{data:this.props,sendError:this.sendError,setTitle:this.setMainTitle}))))))}}]),a}(r.a.Component),mi=Object(B.o)(oi),di=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),ui={success:fa.a,warning:va.a,error:ga.a,info:_a.a},pi=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function hi(e){var a=pi(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=ui[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var Ei=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),bi=function(e){var a=Ei(),t=e.setMessageType,n=e.setMessage,l=e.setOpen,c=e.exportSpinner,s=e.setExpSpin,i=e.csvData,o=e.setCsvData,m=e.numSelected,d=e.selected,u=e.setSelected,p=e.setSelectedMany,h=e.setRowsData,E=e.rows,f=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,m>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon2-open-box"})),m>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},m," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"Cities")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},m>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(d.length){var a={ids:d};ge("cities/"+d[0]+"/",a).then((function(e){for(var a in E)d.indexOf(E[a].id)>-1&&delete E[a];h(E),d.length=0,u(d),p(!1);var t=[];t.push(1),f(t),gi()}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/cities/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:di,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){s(""),be("cities",{records:"all"}).then((function(e){var a=["state"];s("d-none");var t=e.data.map((function(e,t){return a.map((function(a){e[a]=e[a]?e[a].name:e[a]})),e}));o(t),document.getElementById("cities-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+c})),r.a.createElement(Ha.CSVLink,{data:i,filename:"cities.csv",className:"d-none",id:"cities-csv-btn",target:"_blank"})),r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement(St.a,{inputId:"cities-csv-reader",cssClass:"kt-nav__link-text",cssInputClass:"d-none",label:"Import",onFileLoaded:function(e){return _e(e,"AbCities").then((function(e){e.data.success?t("success"):t("error"),n(e.data.message),l(!0),gi()}))}}))))))))))))},fi=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),vi=t(36);function gi(){vi("#cities").DataTable().ajax.reload(null,!1)}vi.DataTable=t(40);var _i=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function yi(e){var a=fi(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState([]),te=Object(H.a)(ae,2),ne=te[0],re=te[1],le=r.a.useState(!1),ce=Object(H.a)(le,2),se=ce[0],oe=ce[1],me=r.a.useState("d-none"),de=Object(H.a)(me,2),ue=de[0],pe=de[1],he=r.a.useState("success"),be=Object(H.a)(he,2),ve=be[0],_e=be[1],ye=r.a.useState({create:Ee("add_abcities"),edit:Ee("change_abcities"),delete:Ee("delete_abcities"),view:Ee("view_abcities")}),ke=Object(H.a)(ye,2),Ne=ke[0],Ce=(ke[1],Object(B.k)());function we(e){S(!1)}function Oe(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){vi.fn.dataTable.isDataTable("#cities")&&(vi("#cities").DataTable().destroy(),oe(!0));return function(){y([]),vi("#cities").DataTable().destroy(!0),oe(!0)}}),[]),r.a.useEffect((function(){if(se&&vi.fn.dataTable.isDataTable("#cities"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{oe(!0);try{!function(){var a=ie+"cities?format=datatables",t=[{bVisible:!1,aTargets:[1]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:je(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),vi("#cities").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:je(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{onClick:function(){return Ce.push("/admin/cities/"+t.id)}},a),e)}},{targets:4,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return Oe(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(Ne.create||Ne.edit)&&t.push({targets:5,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:_i}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},Ne.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return Ce.push("/admin/cities/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",Ne.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return Oe(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});vi("#cities").DataTable({responsive:{details:{renderer:vi.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("cities",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){a.state?e[t].state__name=a.state.name:e[t].state__name="",e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n           <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[4,"desc"]],columnDefs:t}),vi("#cities").on("page.dt",(function(){Pa(vi("#cities"),"cities",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var Se=function(e,a){K(!1)},je=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(bi,{setMessageType:_e,setMessage:$,setOpen:K,exportSpinner:ue,setExpSpin:pe,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,csvData:ne,setCsvData:re}),r.a.createElement("div",{className:"kt-portlet__body"},Ne.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){vi("#cities").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",Ne.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"cities"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),gi()},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"state__name"},"State"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:we},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("cities/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),gi(),K(!0);var t=1===e.data.is_active?"activated":"deactivated";_e("success"),$("Record successfully "+t)}))}else"delete"==R&&ge("cities/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),gi(),K(!0),_e("success"),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:we},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:1500,onClose:Se},r.a.createElement(hi,{onClose:Se,variant:ve,message:Z})))}var ki=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).clearForm=function(e){t.props.data.history.replace("/admin/cities"),t.props.data.history.replace("/admin/cities/create")},t.state={city:{is_active:0},initialOptions:[],validated:!1,action:"",states:[],state:{value:""},fields:{},errorsf:{},modelsLoaded:!1},t.loadModels(),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"loadModels",value:function(){ve("abmodels",{models:{AbStates:{}}}).then(function(e){var a=function(a){e.data[a].map((function(t,n){e.data[a][n].label=t.name,e.data[a][n].value=t.id}))};for(var t in e.data)a(t);this.setState({states:e.data.AbStates,modelsLoaded:!0})}.bind(this))}},{key:"selectState",value:function(e,a){var t,n=this.state.city;n.state=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"city",n),t))}},{key:"handleChange",value:function(e){var a=this.state.city,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({city:a});var r=this.state.fields;r[t]=n,this.setState({fields:r})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.handleValidation()&&(this.setState({validated:!0}),ve("cities",this.state.city).then((function(e){a.setState({city:e.data}),"save_new"==a.state.action?a.clearForm("city_form"):a.props.data.history.push("/admin/cities")})).catch((function(e){a.props.sendError(e.response.data)})))}},{key:"handleValidation",value:function(){var e=this.state.fields,a={},t=!0,n=Object.keys({name:"name"});for(var r in n)"undefined"!==typeof e[n[r]]&&""!==e[n[r]]&&(e[n[r]].match(/^([a-z]+\s)*[a-z]+$/i)||(t=!1,a[n[r]]=["Only alphabets are allowed."]));return this.setState({errorsf:a},function(){this.props.sendError(this.state.errorsf)}.bind(this)),t}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.city),n=a.states,l=a.state,c=a.modelsLoaded,s=a.initialOptions;return r.a.createElement(mt.a,{noValidate:!0,id:"city_form",onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"cities",name:"name",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"State *"),r.a.createElement(rn.a,{required:!0,options:s,value:l.value?l:"select...",model:"states",name:"state",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectState(a,"state")},loadOptions:function(e,a){return Pe(e,a,n,c)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/cities",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Ni=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"City",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/cities",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(ki,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Ci=Object(B.o)(Ni),wi=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params.city_id;return t.state={validated:!1,city:{id:n},states:[],state:{},fields:{},errorsf:{},initialOptions:[],modelsLoaded:!1},t.getCity(n),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getCity",value:function(e){var a=this;be("cities/"+e+"/").then((function(e){delete e.data.city,a.setState({city:e.data}),a.loadModels()}))}},{key:"loadModels",value:function(){var e=this.state.city,a={AbStates:["state"]};ve("abmodels",{models:{AbStates:{}}}).then(function(t){var n={},r=function(r){t.data[r].map((function(l,c){t.data[r][c].label=l.name,t.data[r][c].value=l.id,Object.keys(a).map((function(t,c){a[t].map((function(a,c){r===t&&null!==e[a]&&void 0!==e[a].id&&e[a].id===l.id&&(n[a]=l)}))}))}))};for(var l in t.data)r(l);n.states=t.data.AbStates,n.modelsLoaded=!0,this.setState(n)}.bind(this))}},{key:"getStates",value:function(){be("states",{is_active:1,records:"all"}).then(function(e){var a=e.data;for(var t in a)a[t].label=a[t].name,a[t].value=a[t].id;this.setState({states:a}),this.getCity(this.state.city.id)}.bind(this))}},{key:"selectState",value:function(e,a){var t,n=this.state.city;n.state=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"city",n),t))}},{key:"handleChange",value:function(e){var a=this.state.city,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({city:a});var r=this.state.fields;r[t]=n,this.setState({fields:r})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;if(e.preventDefault(),e.stopPropagation(),this.handleValidation()){this.setState({validated:!0});var t=this.state.city;t.state=this.state.state.value,fe("cities/"+this.state.city.id+"/",t).then((function(e){a.setState({city:e.data}),a.props.data.history.push("/admin/cities")})).catch((function(e){a.props.sendError(e.response.data)}))}}},{key:"handleValidation",value:function(){var e=this.state.fields,a={},t=!0,n=Object.keys({name:"name"});for(var r in n)"undefined"!==typeof e[n[r]]&&""!==e[n[r]]&&(e[n[r]].match(/^([a-z]+\s)*[a-z]+$/i)||(t=!1,a[n[r]]=["Only alphabets are allowed."]));return this.setState({errorsf:a},function(){this.props.sendError(this.state.errorsf)}.bind(this)),t}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.city),n=a.states,l=a.state,c=a.initialOptions,s=a.modelsLoaded;return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"cities",name:"name",defaultValue:t?t.name:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"State *"),r.a.createElement(rn.a,{options:c,value:l.value?l:"select...",model:"states",name:"state",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectState(a,"state")},loadOptions:function(e,a){return Pe(e,a,n,s)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/cities",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Oi=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this,a=r.a.createElement(P.Link,{to:"/admin/cities",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"City",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},a))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(wi,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Si=Object(B.o)(Oi),ji=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,r=n.city_id,l=n.type;return t.txt_weight={fontWeight:500},t.handleModalShow=t.handleModalShow.bind(Object(at.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.confirm=t.confirm.bind(Object(at.a)(t)),t.state={type:l,city:{},action:"",showModal:!1,created_at:"",updated_at:"",is_active:""},t.getCity(r),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getCity",value:function(e){var a=this;be("cities/"+e+"/").then((function(e){delete e.data.type;var t=e.data.state.name;e.data.state=e.data.state.id,a.setState({created_at:e.data.created_at?(new Intl.DateTimeFormat).format(new Date(e.data.created_at)):"",updated_at:e.data.updated_at?(new Intl.DateTimeFormat).format(new Date(e.data.updated_at)):"",selected_state:t,city:e.data}),a.props.setTitle(e.data.name)}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.city;n[a]=e,this.setState({city:n}),fe("cities/"+this.state.city.id+"/",this.state.city).then((function(e){t.setState({city:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalShow",value:function(e,a){var t=e.target.value;"status"===a&&(t=parseInt(t),this.setState({is_active:1===t?0:1})),this.setState({action:a}),this.setState({showModal:!0})}},{key:"handleModalClose",value:function(){this.setState({showModal:!1})}},{key:"confirm",value:function(){var e=this;"status"===this.state.action&&(this.state.city.is_active=this.state.is_active,fe("cities/"+this.state.city.id+"/",this.state.city).then((function(a){delete a.data.type,e.setState({city:a.data}),e.setState({showModal:!1})})).catch((function(a){e.props.sendError(a.response.data),e.setState({showModal:!1})})))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.city),n=a.selected_state;return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Name"),r.a.createElement("div",null,t.name?t.name:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"State"),r.a.createElement("div",null,n||"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Created"),r.a.createElement("div",null,this.state.created_at?this.state.created_at:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Modified"),r.a.createElement("div",null,this.state.updated_at?this.state.updated_at:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Status"),r.a.createElement("div",null,r.a.createElement("span",{onClick:function(a){return e.handleModalShow(a,"status")},className:1===this.state.city.is_active?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===t.is_active?"defaultChecked":"",value:1===t.is_active?"1":"0",name:"is_active"}),r.a.createElement("span",null))))))))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:this.confirm},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:this.handleModalClose},"No"))))}}]),a}(r.a.Component),Ti=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).setMainTitle=function(e){t.setState({title:e})};e.match.params.type;return t.state={errors:{},showError:!1,title:"City"},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.title,jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/cities",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/cities/"+this.props.match.params.city_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(ji,{data:this.props,sendError:this.sendError,setTitle:this.setMainTitle}))))))}}]),a}(r.a.Component),xi=Object(B.o)(Ti),Mi=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),Di={success:fa.a,warning:va.a,error:ga.a,info:_a.a},Ai=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function Ri(e){var a=Ai(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=Di[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var Li=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),Ii=function(e){var a=Li(),t=e.exportSpinner,n=e.setExpSpin,l=e.csvData,c=e.setCsvData,s=e.numSelected,i=e.type,o=e.selected,m=e.setSelected,d=e.setSelectedMany,u=e.setRowsData,p=e.rows,h=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,s>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon-avatar"})),s>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},s," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"Contacts")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},s>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(o.length){var a={ids:o};ge("contacts/"+o[0]+"/",a).then((function(e){for(var a in p)o.indexOf(p[a].id)>-1&&delete p[a];u(p),o.length=0,m(o),d(!1);var t=[];t.push(1),h(t),Gi(i)}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/contacts/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:Mi,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){n(""),be("contacts",{records:"all"}).then((function(e){var a=["job_title","company"];n("d-none");var t=e.data.map((function(e,t){return a.map((function(a){e[a]=e[a]?e[a].name:e[a]})),e}));c(t),document.getElementById("contact-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+t})),r.a.createElement(Ha.CSVLink,{data:l,filename:"contacts.csv",className:"d-none",id:"contact-csv-btn",target:"_blank"})))))))))))},Fi=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),Ui=t(36);function Gi(e){Ui("#contact").DataTable().ajax.reload(null,!1)}Ui.DataTable=t(40);var Pi=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function zi(e){var a=Fi(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState([]),te=Object(H.a)(ae,2),ne=te[0],re=te[1],le=r.a.useState(!1),ce=Object(H.a)(le,2),se=ce[0],oe=ce[1],me=r.a.useState("d-none"),de=Object(H.a)(me,2),ue=de[0],pe=de[1],he=r.a.useState({create:Ee("add_abcontacts"),edit:Ee("change_abcontacts"),delete:Ee("delete_abcontacts"),view:Ee("view_abcontacts")}),be=Object(H.a)(he,2),ve=be[0],_e=(be[1],Object(B.k)()),ye=e.match.params.type;function ke(e){S(!1)}function Ne(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){Ui.fn.dataTable.isDataTable("#contact")&&(Ui("#contact").DataTable().destroy(),oe(!0));return function(){y([]),Ui("#contact").DataTable().destroy(!0),oe(!0)}}),[]),r.a.useEffect((function(){if(se&&Ui.fn.dataTable.isDataTable("#contact"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{oe(!0);try{!function(){var a=ie+"contacts?format=datatables",t=[{bVisible:!1,aTargets:[1]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:we(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),Ui("#contact").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:we(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){var s=t.first_name+" "+t.last_name,i=t.id+"-"+s.replace(/\s+/g,"-").toLowerCase();c.a.render(r.a.createElement("a",{target:"_blank",style:{cursor:"pointer"},href:"/contact/"+i+"/"},a),e)}},{targets:5,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return Ne(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(ve.create||ve.edit)&&t.push({targets:6,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:Pi}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},r.a.createElement(Ve.a.Item,{onClick:function(){return _e.push("/admin/contacts/"+t.id,"_blank")}},r.a.createElement("i",{className:"flaticon-eye"})," Views Details"),ve.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return _e.push("/admin/contacts/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",ve.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return Ne(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});Ui("#contact").DataTable({responsive:{details:{renderer:Ui.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("contacts",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){a.company?e[t].company__name=a.company.name:e[t].company__name="",a.job_title?e[t].job_title__name=a.job_title.name:e[t].job_title__name="",e[t].first_name=a.first_name+" "+a.last_name,e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n         <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[5,"desc"]],columnDefs:t}),Ui("#contact").on("page.dt",(function(){Pa(Ui("#contact"),"contacts",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var Ce=function(e,a){K(!1)},we=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(Ii,{exportSpinner:ue,setExpSpin:pe,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,type:ye,csvData:ne,setCsvData:re}),r.a.createElement("div",{className:"kt-portlet__body"},ve.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){Ui("#contact").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",ve.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"contact"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),Gi()},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"first_name"},"Name"),r.a.createElement("th",{"data-data":"job_title__name"},"Job Title"),r.a.createElement("th",{"data-data":"company__name"},"Company"),r.a.createElement("th",{"data-data":"is_published"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:ke},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_published:1===_[x].is_published?0:1};fe("contacts/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),Gi(),K(!0);var t=1===e.data.is_published?"activated":"deactivated";$("Record successfully "+t)}))}else"delete"==R&&ge("contacts/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),Gi(),K(!0),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:ke},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:16e5,onClose:Ce},r.a.createElement(Ri,{onClose:Ce,variant:"success",message:Z})))}var Vi=t(1290),Hi=t(46),Bi=t(75),qi=t(1357),Wi=t(539),Yi=t(1329);function Ji(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}var Ki=Object(Wi.a)({props:{MuiInput:{disableUnderline:!0},MuiTextField:{style:{display:"block"}},MuiInputBase:{style:{display:"block"},disableUnderline:!0,inputProps:{style:{display:"block",height:"calc(1.5em + 1.3rem + 2px)",padding:"0.65rem 1rem",fontSize:"1rem",fontWeight:"400",lineHeight:"1.5",color:"#495057",backgroundColor:"#fff",backgroundClip:"padding-box",border:"1px solid #e2e5ec",borderRadius:"4px",transition:"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out",boxSizing:"border-box"}}}}}),Xi=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).fileChangedHandler=function(e){var a=t.state.contact,n=e.target.files[0];if(t.setState({previewFile:URL.createObjectURL(n)}),void 0!=n)if(n.size_c=n.size/1024,n.size_c/1024>2)n.size_c=(n.size_c/1024).toFixed(2)+" MB",n.error="Error: File is too big",a.file={},t.setState({selectedFile:n});else{n.error=null,n.size_c=n.size_c.toFixed(2)+" KB";var r=new FileReader;r.readAsDataURL(n),r.onloadend=function(){a.file=r.result,t.setState({selectedFile:n,contact:a})}}},t.handleFileRemove=function(e){var a=t.state.contact;a.file={},t.setState({selectedFile:null,contact:a,previewFile:null}),document.getElementById("contact-image-upload").value=""},t.clearForm=function(e){t.props.data.history.replace("/admin/contacts"),t.props.data.history.replace("/admin/contacts/create")};var n=t.props.data.match.params.type;return t.state={validated:!1,contact:{},job_titles:[],departments:[],companies:[],countries:[],states:[],cities:[],action:"",selected_gender:{value:""},selected_job_title:{value:""},selected_department:{value:""},selected_company:{value:""},selected_country:{value:""},selected_state:{value:""},selected_city:{value:""},selected_religion:{value:""},selected_preferred_contact_method:{value:""},selected_title:{value:""},type:n,selectedFile:null,previewFile:null,modelsLoaded:!1},t.loadModels(),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"loadModels",value:function(){ve("abmodels",{models:{AbCompanies:{},AbTitles:{},AbDepartments:{},AbCountries:{}}}).then(function(e){var a=function(a){e.data[a].map((function(t,n){e.data[a][n].label=t.name,e.data[a][n].value=t.id}))};for(var t in e.data)a(t);this.setState({departments:e.data.AbDepartments,companies:e.data.AbCompanies,countries:e.data.AbCountries,job_titles:e.data.AbTitles,modelsLoaded:!0})}.bind(this))}},{key:"getDropdownsListing",value:function(){var e=this,a={company:"companies",department:"departments",job_title:"job_titles",country:"countries"},t=Object.keys(a),n=function(n){var r={is_active:1,records:"all"};"companies"===a[t[n]]&&(r=function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Ji(Object(t),!0).forEach((function(a){Object(b.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ji(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},r,{},{available:!0})),be(a[t[n]],r).then(function(e){var r,l=e.data,c={};for(var s in l)void 0!=this.state.contact[t[n]]&&l[s].id===this.state.contact[t[n]].id&&(c.label=l[s].name,c.value=l[s].id),l[s].label=l[s].name,l[s].value=l[s].id;this.setState((r={},Object(b.a)(r,a[t[n]],l),Object(b.a)(r,"selected_"+t[n],c),r))}.bind(e))};for(var r in t)n(r)}},{key:"handleChange",value:function(e,a){var t=this.state.contact;if("birthday"!==a)var n=e.target.name,r=e.target.value;else{n=a,r=le()(e).format("YYYY-MM-DD");this.setState({birthday:e})}"is_active"===n&&(r=parseInt(r)),t[n]=r,this.setState({contact:t})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),this.state.contact.department=this.state.selected_department.value,this.state.contact.company=this.state.selected_company.value,this.state.contact.country=this.state.selected_country.value,this.state.contact.state=this.state.selected_state.value,this.state.contact.city=this.state.selected_city.value,this.state.contact.job_title=this.state.selected_job_title.value,this.state.contact.religion=this.state.selected_religion.value,this.state.contact.gender=this.state.selected_gender.value,this.state.contact.preferred_contact_method=this.state.selected_preferred_contact_method.value,ve("contacts",this.state.contact).then((function(e){delete e.data.type,a.setState({contact:e.data}),"save_new"==a.state.action?a.clearForm("parts-form"):a.props.data.history.push("/admin/contacts")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"selectChange",value:function(e,a){var t,n=this.state.contact;if(n[a]=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,"selected_"+a,e||""),Object(b.a)(t,"contact",n),t)),["country","state"].indexOf(a)>-1&&e){var r="",l={},c="";"country"===a?(l={AbStates:{country_id:e.id}},r="state",c="states"):(l={AbCities:{state_id:e.id}},r="city",c="cities"),ve("abmodels",{models:l}).then(function(e){var a=this,t={},n=function(n){var l;e.data[n].map((function(r,l){e.data[n][l].label=r.name,e.data[n][l].value=r.id,void 0!=a.state.contact[c]&&r.id===a.state.contact[c].id&&(t=r)})),a.setState((l={},Object(b.a)(l,c,e.data[n]),Object(b.a)(l,"selected_"+r,t),l))};for(var l in e.data)n(l)}.bind(this))}}},{key:"render",value:function(){var e=this,a=this.state,t=a.modelsLoaded,n=a.birthday,l=a.contact,c=(a.job_titles,a.departments),s=a.selected_job_title,i=a.selected_religion,o=a.selected_department,m=a.selected_company,d=(a.companies,a.selected_country),u=a.selected_gender,p=a.selected_state,h=a.selected_title,E=a.selected_city,b=(a.countries,a.cities),f=a.states,v=a.selected_preferred_contact_method,g=a.selectedFile;return r.a.createElement(mt.a,{noValidate:!0,id:"create-contact-from",onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement("div",{className:"col-12"},r.a.createElement("h5",null,"Personal Information"),r.a.createElement("hr",null))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Title *"),r.a.createElement(nn.a,{value:h.value?h:"select...",model:"contact",name:"title",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"title")},options:Oe})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"First Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"first_name",name:"first_name",defaultValue:l?l.first_name:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Last Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"contact",name:"last_name",defaultValue:l?l.last_name:"",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Birthday"),r.a.createElement(Yi.a,{theme:Ki},r.a.createElement(Bi.a,{utils:Hi.a},r.a.createElement(qi.a,{minDate:new Date("1990-01-01"),value:n,format:"dd/MM/yyyy",onChange:function(a){return e.handleChange(a,"birthday")},animateYearScrolling:!0})))),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Gender *"),r.a.createElement(nn.a,{value:u.value?u:"select...",model:"contact",name:"gender",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"gender")},options:we}))),r.a.createElement(mt.a.Row,null,r.a.createElement("div",{className:"col-12"},r.a.createElement("h5",null,"Company Info"),r.a.createElement("hr",null))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Job Title *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"job_title",isClearable:!0,escapeClearsValue:!0,value:s.value?s:"select...",name:"name",loadOptions:function(a,t){return Pe(a,t,e.state.job_titles,e.state.modelsLoaded)},onChange:function(a){return e.selectChange(a,"job_title")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Department"),r.a.createElement(nn.a,{value:o.value?o:"select...",model:"department",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"department")},options:c})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Company Name *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"company",isClearable:!0,escapeClearsValue:!0,value:m.value?m:"select...",name:"name",loadOptions:function(a,t){return Pe(a,t,e.state.companies,e.state.modelsLoaded)},onChange:function(a){return e.selectChange(a,"company")}}))),r.a.createElement(mt.a.Row,null,r.a.createElement("div",{className:"col-12"},r.a.createElement("h5",null,"Address Information"),r.a.createElement("hr",null))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"3",xs:"12"},r.a.createElement(mt.a.Label,null,"Address"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"contact",name:"address",defaultValue:l.address?l.address:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"3",xs:"12"},r.a.createElement(mt.a.Label,null,"Country *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"country",isClearable:!0,escapeClearsValue:!0,value:d.value?d:"select...",name:"name",loadOptions:function(a,t){return Pe(a,t,e.state.countries,e.state.modelsLoaded)},onChange:function(a){return e.selectChange(a,"country")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"3",xs:"12"},r.a.createElement(mt.a.Label,null,"State *"),r.a.createElement(nn.a,{value:p.value?p:"select...",model:"state",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"state")},options:f})),r.a.createElement(mt.a.Group,{as:dt.a,md:"3",xs:"12"},r.a.createElement(mt.a.Label,null,"City *"),r.a.createElement(nn.a,{value:E.value?E:"select...",model:"city",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"city")},options:b}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Business Phone"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"contact",name:"business_phone",defaultValue:l.business_phone?l.business_phone:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Mobile Phone"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"contact",name:"mobile_phone",defaultValue:l.mobile_phone?l.mobile_phone:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Preferred contact method"),r.a.createElement(nn.a,{value:v.value?v:"select...",model:"contact",name:"preferred_contact_method",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"preferred_contact_method")},options:Ce}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Skpye"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"contact",name:"skype",defaultValue:l.skype?l.skype:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Linkedin"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"contact",name:"linkedin",defaultValue:l.linkedin?l.linkedin:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Religion"),r.a.createElement(nn.a,{value:i.value?i:"select...",model:"contacts",name:"religion",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"religion")},options:ke}))),r.a.createElement(Vi.a,{row:!0},r.a.createElement(Pt.a,{control:r.a.createElement(wt.a,{name:"is_primary",checked:!!l.is_primary,onChange:function(a){return e.handleChange(a)},value:"1"}),label:"Primary"}),r.a.createElement(Pt.a,{control:r.a.createElement(wt.a,{name:"is_public",checked:!!l.is_public,onChange:function(a){return e.handleChange(a)},value:"1"}),label:"Public"}),r.a.createElement(Pt.a,{control:r.a.createElement(wt.a,{name:"is_published",checked:!!l.is_published,onChange:function(a){return e.handleChange(a)},value:"1"}),label:"Published"})),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement("input",{accept:"image/*",style:{display:"none"},type:"file",id:"contact-image-upload",name:"image",onChange:this.fileChangedHandler}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"contact-image-upload"},r.a.createElement(Tc.a,{variant:"outlined",color:"inherit",component:"span"},"Select Image",r.a.createElement(xc.a,{style:{marginLeft:"5px"}}))),r.a.createElement("div",{className:"form-group form-group-last row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"dropzone dropzone-multi",id:"kt_dropzone_5"},r.a.createElement("div",{className:"dropzone-items",style:{display:g?"block":"none"}},r.a.createElement("div",{className:"dropzone-item"},r.a.createElement("div",{className:"dropzone-file"},this.state.previewFile&&r.a.createElement("div",{style:{"max-width":"250px"}},r.a.createElement("img",{style:{width:"100%"},src:this.state.previewFile})),r.a.createElement("div",{className:"dropzone-filename",title:"some_image_file_name.jpg"},r.a.createElement("span",{"data-dz-name":!0},g?g.name:"No file selected"),r.a.createElement("strong",null,"(",r.a.createElement("span",{"data-dz-size":!0},g&&g.size_c?g.size_c:""),")")),r.a.createElement("div",{className:"dropzone-error","data-dz-errormessage":!0},g&&g.error?g.error:"")),r.a.createElement("div",{className:"dropzone-toolbar"},r.a.createElement("span",{onClick:function(a){return e.handleFileRemove(a)},className:"dropzone-delete","data-dz-remove":!0},r.a.createElement("i",{className:"flaticon2-cross"})))))),r.a.createElement("span",{className:"form-text text-muted"},"Max file size is 2MB."))))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/contacts",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Qi=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1,type:e.match.params.type},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this,a=r.a.createElement(P.Link,{to:"/admin/contacts",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){console.log(a.slice(1));var l=a.charAt(0).toUpperCase()+a.slice(1);return r.a.createElement("li",{key:t+n},r.a.createElement("span",{style:{"text-transform":"capitalize"}},l.replace(/_/g," "))," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Contact",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},a))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Xi,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Zi=Object(B.o)(Qi);function $i(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function eo(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?$i(Object(t),!0).forEach((function(a){Object(b.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$i(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var ao=Object(Wi.a)({props:{MuiInput:{disableUnderline:!0},MuiTextField:{style:{display:"block"}},MuiInputBase:{style:{display:"block"},disableUnderline:!0,inputProps:{style:{display:"block",height:"calc(1.5em + 1.3rem + 2px)",padding:"0.65rem 1rem",fontSize:"1rem",fontWeight:"400",lineHeight:"1.5",color:"#495057",backgroundColor:"#fff",backgroundClip:"padding-box",border:"1px solid #e2e5ec",borderRadius:"4px",transition:"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out",boxSizing:"border-box"}}}}}),to=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).fileChangedHandler=function(e){var a=e.target.files[0];if(t.setState({previewFile:URL.createObjectURL(a)}),void 0!=a){a.name_c=a.name;var n=t.state.contact;if(a.size_c=a.size/1024,a.size_c/1024>2)a.size_c=(a.size_c/1024).toFixed(2)+" MB",a.error="Error: File is too big",n.file={},t.setState({selectedFile:a});else{a.error=null,a.size_c=a.size_c.toFixed(2)+" KB";var r=new FileReader;r.readAsDataURL(a),r.onloadend=function(){n.file=r.result,t.setState({selectedFile:a,contact:n})}}}},t.handleFileRemove=function(e){var a=t.state.contact;delete a.file,t.setState({selectedFile:null,contact:a,previewFile:null}),document.getElementById("contact-image-upload").value=""};var n=t.props.data.match.params,r=n.contact_id,l=n.type;return t.state={validated:!1,contact:{},job_titles:[],departments:[],companies:[],countries:[],states:[],cities:[],selected_gender:{value:""},selected_job_title:{value:""},selected_department:{value:""},selected_company:{value:""},selected_country:{value:""},selected_state:{value:""},selected_city:{value:""},selected_religion:{value:""},selected_preferred_contact_method:{value:""},selected_title:{value:""},type:l,selectedFile:null,previewFile:null,modelsLoaded:!1},t.getContact(r),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getContact",value:function(e){var a=this;be("contacts/"+e+"/").then((function(e){delete e.data.type;var t=e.data.birthday;a.setState({contact:e.data,birthday:t}),a.loadModels(),a.setSelectfile(),e.data.country&&void 0!=e.data.country.id&&""!=e.data.country.id&&a.setDynamicDropdowns(e.data.country.id,"country"),e.data.state&&void 0!=e.data.state.id&&""!=e.data.state.id&&a.setDynamicDropdowns(e.data.state.id,"state"),a.setState({previewFile:e.data.media?oe+e.data.media.original_file_name:null})}))}},{key:"loadModels",value:function(){var e=this.state.contact,a={religion:ke,gender:we,title:Oe,preferred_contact_method:Ce},t=Object.keys(a);for(var n in t)for(var r in a[t[n]])if(a[t[n]][r].value===e[t[n]]){this.setState(Object(b.a)({},"selected_"+t[n],a[t[n]][r]));break}var l={AbCompanies:["company"],AbDepartments:["department"],AbCountries:["country"],AbTitles:["job_title"]};ve("abmodels",{models:{AbCompanies:{},AbTitles:{},AbDepartments:{},AbCountries:{}}}).then(function(a){var t={},n=function(n){a.data[n].map((function(r,c){a.data[n][c].label=r.name,a.data[n][c].value=r.id,Object.keys(l).map((function(a,c){l[a].map((function(l,c){n===a&&null!==e[l]&&void 0!==e[l].id&&e[l].id===r.id&&(t["selected_"+l]=r)}))}))}))};for(var r in a.data)n(r);console.log("newstat",t),t.departments=a.data.AbDepartments,t.countries=a.data.AbCountries,t.job_titles=a.data.AbTitles,t.companies=a.data.AbCompanies,t.modelsLoaded=!0,this.setState(t)}.bind(this))}},{key:"getDropdownsListing",value:function(){var e=this,a=this.state.contact,t={company:"companies",department:"departments",job_title:"job_titles",country:"countries"},n={},r={religion:ke,gender:we,title:Oe,preferred_contact_method:Ce},l=Object.keys(r);for(var c in l)for(var s in r[l[c]])if(r[l[c]][s].value===a[l[c]]){this.setState(Object(b.a)({},"selected_"+l[c],r[l[c]][s]));break}l=Object.keys(t);var i=function(r){var c={is_active:1,records:"all"};"companies"===t[l[r]]&&(c=eo({},c,{},{available:!0,contact_id:e.state.contact.id})),be(t[l[r]],c).then(function(e){var c,s=e.data,i={};for(var o in s)if("contacts"===t[l[r]]?s[o].name=s[o].first_name+" "+s[o].last_name:"users"===t[l[r]]&&(s[o].name=s[o].contact.first_name+" "+s[o].contact.last_name),s[o].label=s[o].name,s[o].value=s[o].id,void 0!=a[l[r]]&&s[o].id===a[l[r]].id&&(i=s[o]),void 0!=n[t[l[r]]])for(var m in n[t[l[r]]]){var d=n[t[l[r]]][m];void 0!=a[d]&&s[o].id===a[d].id&&this.setState(Object(b.a)({},"selected_"+d,s[o]))}this.setState((c={},Object(b.a)(c,t[l[r]],s),Object(b.a)(c,"selected_"+l[r],i),Object(b.a)(c,"contact",a),c))}.bind(e))};for(var o in l)i(o)}},{key:"handleChange",value:function(e,a){var t=this.state.contact;if("birthday"!==a)var n=e.target.name,r=e.target.value;else{n=a,r=le()(e).format("YYYY-MM-DD");this.setState({birthday:e})}"is_active"===n&&(r=parseInt(r)),t[n]=r,this.setState({contact:t})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0});var t=eo({},this.state.contact,{user:this.state.contact.user?this.state.contact.user.id:null});console.log("contact",t),this.checkDataFormat(),fe("contacts/"+this.state.contact.id+"/",t).then((function(e){delete e.data.type,a.setState({contact:e.data}),a.props.data.history.push("/admin/contacts")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"checkDataFormat",value:function(){var e=this,a=this.state.contact;["department","company","country","state","city","job_title","religion","gender","title","preferred_contact_method"].map((function(t,n){a[t]=e.state["selected_"+t].value})),this.setState({contact:a})}},{key:"setSelectfile",value:function(){if(this.state.contact.media){var e={},a=this.state.contact.media.original_file_name.split("/");e.name_c=a[a.length-1],this.setState({selectedFile:e})}}},{key:"selectChange",value:function(e,a){this.setState(Object(b.a)({},"selected_"+a,e||"")),this.setState((function(t){return{contact:eo({},t.contact,Object(b.a)({},a,e&&e.value?e.value:""))}})),this.setDynamicDropdowns(e&&e.id?e.id:"",a),console.log("contact",this.state.contact)}},{key:"setDynamicDropdowns",value:function(e,a){if(["country","state"].indexOf(a)>-1&&e){var t="",n={},r="";"country"===a?(n={AbStates:{country_id:e}},t="state",r="states"):(n={AbCities:{state_id:e}},t="city",r="cities"),ve("abmodels",{models:n}).then(function(e){var a=this,n={},l=function(l){var c;e.data[l].map((function(r,c){e.data[l][c].label=r.name,e.data[l][c].value=r.id,void 0!=a.state.contact[t]&&r.id===a.state.contact[t].id&&(n=r)})),a.setState((c={},Object(b.a)(c,r,e.data[l]),Object(b.a)(c,"selected_"+t,n),c))};for(var c in e.data)l(c)}.bind(this))}}},{key:"render",value:function(){var e=this,a=this.state,t=a.modelsLoaded,n=a.birthday,l=a.contact,c=(a.job_titles,a.departments),s=a.selected_job_title,i=a.selected_religion,o=a.selected_department,m=a.selected_company,d=(a.companies,a.selected_country),u=a.selected_gender,p=a.selected_state,h=a.selected_city,E=(a.countries,a.selected_title),b=a.cities,f=a.states,v=a.selected_preferred_contact_method,g=a.selectedFile;return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement("div",{className:"col-12"},r.a.createElement("h5",null,"Personal Information"),r.a.createElement("hr",null))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Title *"),r.a.createElement(nn.a,{value:E.value?E:"select...",model:"contact",name:"title",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"title")},options:Oe})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"First Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"first_name",name:"first_name",defaultValue:l?l.first_name:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Last Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"contact",name:"last_name",defaultValue:l?l.last_name:"",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Birthday"),r.a.createElement(Yi.a,{theme:ao},r.a.createElement(Bi.a,{utils:Hi.a},r.a.createElement(qi.a,{minDate:new Date("1990-01-01"),disableFuture:!0,value:n,format:"dd/MM/yyyy",onChange:function(a){return e.handleChange(a,"birthday")},animateYearScrolling:!0})))),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Gender *"),r.a.createElement(nn.a,{value:u.value?u:"select...",model:"contact",name:"gender",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"gender")},options:we}))),r.a.createElement(mt.a.Row,null,r.a.createElement("div",{className:"col-12"},r.a.createElement("h5",null,"Company Info"),r.a.createElement("hr",null))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Job Title *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"job_title",isClearable:!0,escapeClearsValue:!0,value:s,name:"name",loadOptions:function(a,t){return Pe(a,t,e.state.job_titles,e.state.modelsLoaded)},onChange:function(a){return e.selectChange(a,"job_title")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Department"),r.a.createElement(nn.a,{value:o.value?o:"select...",model:"department",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"department")},options:c})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Company Name *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"company",isClearable:!0,escapeClearsValue:!0,value:m.value?m:"select...",name:"name",loadOptions:function(a,t){return Pe(a,t,e.state.companies,e.state.modelsLoaded)},onChange:function(a){return e.selectChange(a,"company")}}))),r.a.createElement(mt.a.Row,null,r.a.createElement("div",{className:"col-12"},r.a.createElement("h5",null,"Address Information"),r.a.createElement("hr",null))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"3",xs:"12"},r.a.createElement(mt.a.Label,null,"Address"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"contact",name:"address",defaultValue:l.address?l.address:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"3",xs:"12"},r.a.createElement(mt.a.Label,null,"Country *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"country",isClearable:!0,escapeClearsValue:!0,value:d.value?d:"select...",name:"name",loadOptions:function(a,t){return Pe(a,t,e.state.countries,e.state.modelsLoaded)},onChange:function(a){return e.selectChange(a,"country")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"3",xs:"12"},r.a.createElement(mt.a.Label,null,"State *"),r.a.createElement(nn.a,{value:p.value?p:"select...",model:"state",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"state")},options:f})),r.a.createElement(mt.a.Group,{as:dt.a,md:"3",xs:"12"},r.a.createElement(mt.a.Label,null,"City *"),r.a.createElement(nn.a,{value:h.value?h:"select...",model:"city",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"city")},options:b}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Business Phone"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"contact",name:"business_phone",defaultValue:l.business_phone?l.business_phone:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Mobile Phone"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"contact",name:"mobile_phone",defaultValue:l.mobile_phone?l.mobile_phone:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Preferred contact method"),r.a.createElement(nn.a,{value:v.value?v:"select...",model:"contact",name:"preferred_contact_method",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"preferred_contact_method")},options:Ce}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Skpye"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"contact",name:"skype",defaultValue:l.skype?l.skype:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Linkedin"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"contact",name:"linkedin",defaultValue:l.linkedin?l.linkedin:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Religion"),r.a.createElement(nn.a,{value:i.value?i:"select...",model:"contacts",name:"religion",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"religion")},options:ke}))),r.a.createElement(Vi.a,{row:!0},r.a.createElement(Pt.a,{control:r.a.createElement(wt.a,{name:"is_primary",checked:!!l.is_primary,onChange:function(a){return e.handleChange(a)},value:"1"}),label:"Primary"}),r.a.createElement(Pt.a,{control:r.a.createElement(wt.a,{name:"is_public",checked:!!l.is_public,onChange:function(a){return e.handleChange(a)},value:"1"}),label:"Public"}),r.a.createElement(Pt.a,{control:r.a.createElement(wt.a,{name:"is_published",checked:!!l.is_published,onChange:function(a){return e.handleChange(a)},value:"1"}),label:"Published"})),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement("input",{accept:"image/*",style:{display:"none"},type:"file",id:"contact-image-upload",name:"image",onChange:this.fileChangedHandler}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"contact-image-upload"},r.a.createElement(Tc.a,{variant:"outlined",color:"inherit",component:"span"},"Select Image",r.a.createElement(xc.a,{style:{marginLeft:"5px"}}))),r.a.createElement("div",{className:"form-group form-group-last row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"dropzone dropzone-multi",id:"kt_dropzone_5"},r.a.createElement("div",{className:"dropzone-items",style:{display:g?"block":"none"}},r.a.createElement("div",{className:"dropzone-item"},r.a.createElement("div",{className:"dropzone-file"},this.state.previewFile&&r.a.createElement("div",{style:{"max-width":"250px"}},r.a.createElement("img",{style:{width:"100%"},src:this.state.previewFile})),r.a.createElement("div",{className:"dropzone-filename",title:"some_image_file_name.jpg"},r.a.createElement("span",{"data-dz-name":!0},g?g.name_c:"No file selected"),r.a.createElement("strong",null,g&&g.size_c?"("+g.size_c+")":"")),r.a.createElement("div",{className:"dropzone-error","data-dz-errormessage":!0},g&&g.error?g.error:"")),r.a.createElement("div",{className:"dropzone-toolbar"},r.a.createElement("span",{onClick:function(a){return e.handleFileRemove(a)},className:"dropzone-delete","data-dz-remove":!0},r.a.createElement("i",{className:"flaticon2-cross"})))))),r.a.createElement("span",{className:"form-text text-muted"},"Max file size is 2MB."))))),r.a.createElement(Ma.a,{type:"submit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/contacts",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),no=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1,type:e.match.params.type},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this,a=r.a.createElement(P.Link,{to:"/admin/contacts",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Contact",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},a))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(to,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),ro=Object(B.o)(no),lo=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,r=n.contact_id,l=n.type;return t.txt_weight={fontWeight:500},t.handleModalShow=t.handleModalShow.bind(Object(at.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.confirm=t.confirm.bind(Object(at.a)(t)),t.state={type:l,contact:{},action:"",showModal:!1,created_at:"",updated_at:"",image:[],is_published:""},t.getContact(r),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getContact",value:function(e){var a=this;be("contacts/"+e+"/").then((function(e){delete e.data.type,a.setState({created_at:(new Intl.DateTimeFormat).format(new Date(e.data.created_at)),updated_at:(new Intl.DateTimeFormat).format(new Date(e.data.updated_at)),image:e.data.media?e.data.media.original_file_name:null}),a.props.setTitle(e.data.first_name+" "+e.data.last_name),a.setState({contact:e.data})}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.contact;n[a]=e,this.setState({contact:n}),fe("contacts/"+this.state.contact.id+"/",this.state.contact).then((function(e){t.setState({contact:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalShow",value:function(e,a){var t=e.target.value;"status"===a&&(t=parseInt(t),this.setState({is_published:1===t?0:1})),this.setState({action:a}),this.setState({showModal:!0})}},{key:"handleModalClose",value:function(){this.setState({showModal:!1})}},{key:"confirm",value:function(){var e=this;"status"===this.state.action&&(this.state.contact.is_published=this.state.is_published,fe("contacts/"+this.state.contact.id+"/",{is_published:this.state.is_published}).then((function(a){delete a.data.type,e.setState({contact:a.data}),e.setState({showModal:!1})})).catch((function(a){e.props.sendError(a.response.data),e.setState({showModal:!1})})))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.contact),n=t.first_name+" "+t.last_name,l=t.id+"-"+n.replace(/\s+/g,"-").toLowerCase(),c=t.company?t.company.id+"-"+t.company.name.replace(/\s+/g,"-").toLowerCase():"";return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Name"),r.a.createElement("div",null,r.a.createElement(P.Link,{target:"_blank",to:"/contact/"+l+"/"},n))),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Religion"),r.a.createElement("div",null,t.religion))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Company"),r.a.createElement("div",null,t.company&&t.company.name&&c?r.a.createElement(P.Link,{target:"_blank",to:"/company/"+c+"/"},t.company.name):"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Job Title"),r.a.createElement("div",null,t.job_title?t.job_title.name:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Department"),r.a.createElement("div",null,t.department?t.department.name:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Job Title"),r.a.createElement("div",null,t.job_title?t.job_title.name:"---"))),r.a.createElement("hr",null),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Mobile Phone"),r.a.createElement("div",null,t.mobile_phone?t.mobile_phone:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Business Phone"),r.a.createElement("div",null,t.business_phone?t.business_phone:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Skype"),r.a.createElement("div",null,t.skype?t.skype:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Linkedin"),r.a.createElement("div",null,t.linkedin?t.linkedin:"---"))),r.a.createElement("hr",null),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Address"),r.a.createElement("div",null,t.address?t.address:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"City"),r.a.createElement("div",null,t.city?t.city.name:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"State"),r.a.createElement("div",null,t.state?t.state.name:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Country"),r.a.createElement("div",null,t.country?t.country.name:"---"))),r.a.createElement("hr",null),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Preferred contact method"),r.a.createElement("div",null,t.preferred_contact_method?t.preferred_contact_method:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Published Status"),r.a.createElement("div",null,t.is_published?t.is_published:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Created"),r.a.createElement("div",null,this.state.created_at)),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Modified"),r.a.createElement("div",null,this.state.updated_at))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Status"),r.a.createElement("div",null,r.a.createElement("span",{onClick:function(a){return e.handleModalShow(a,"status")},className:1===this.state.contact.is_published?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===t.is_published?"defaultChecked":"",value:1===t.is_published?"1":"0",name:"is_published"}),r.a.createElement("span",null)))))))),r.a.createElement(ut.a,{item:!0,xs:12,md:3},r.a.createElement("img",{style:{maxHeight:"220px",maxWidth:"200px"},src:this.state.image?oe+this.state.image:me}))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:this.confirm},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:this.handleModalClose},"No"))))}}]),a}(r.a.Component),co=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).setMainTitle=function(e){t.setState({title:e})};var n=e.match.params.type;return t.state={errors:{},showError:!1,title:"Contact"},t.state.type=n,t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.title,jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/contacts",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/contacts/"+this.props.match.params.contact_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(lo,{data:this.props,sendError:this.sendError,setTitle:this.setMainTitle}))))))}}]),a}(r.a.Component),so=Object(B.o)(co),io=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),oo={success:fa.a,warning:va.a,error:ga.a,info:_a.a},mo=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function uo(e){var a=mo(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=oo[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var po=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),ho=function(e){var a=po(),t=e.exportSpinner,n=e.setExpSpin,l=e.csvData,c=e.setCsvData,s=e.numSelected,i=e.type,o=e.selected,m=e.setSelected,d=e.setSelectedMany,u=e.setRowsData,p=e.rows,h=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,s>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon-buildings"})),s>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},s," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"Companies")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},s>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(o.length){var a={ids:o};ge("companies/"+o[0]+"/",a).then((function(e){for(var a in p)o.indexOf(p[a].id)>-1&&delete p[a];u(p),o.length=0,m(o),d(!1);var t=[];t.push(1),h(t),fo(i)}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/companies/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:io,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){n(""),be("companies",{records:"all"}).then((function(e){var a=["city","state","country"];n("d-none");var t=e.data.map((function(e,t){return a.map((function(a){e[a]=e[a]?e[a].name:e[a]})),e}));c(t),document.getElementById("company-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+t})),r.a.createElement(Ha.CSVLink,{data:l,filename:"companies.csv",className:"d-none",id:"company-csv-btn",target:"_blank"})))))))))))},Eo=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),bo=t(36);function fo(e){bo("#companies").DataTable().ajax.reload(null,!1)}bo.DataTable=t(40);var vo=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function go(e){var a=Eo(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState([]),te=Object(H.a)(ae,2),ne=te[0],re=te[1],le=r.a.useState(!1),ce=Object(H.a)(le,2),se=ce[0],oe=ce[1],me=r.a.useState("d-none"),de=Object(H.a)(me,2),ue=de[0],pe=de[1],he=r.a.useState({create:Ee("add_abcompanies"),edit:Ee("change_abcompanies"),delete:Ee("delete_abcompanies"),view:Ee("view_abcompanies")}),be=Object(H.a)(he,2),ve=be[0],_e=(be[1],Object(B.k)()),ye=e.match.params.type;function ke(e){S(!1)}function Ne(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){bo.fn.dataTable.isDataTable("#companies")&&(bo("#companies").DataTable().destroy(),oe(!0));return function(){y([]),bo("#companies").DataTable().destroy(!0),oe(!0)}}),[]),r.a.useEffect((function(){if(se&&bo.fn.dataTable.isDataTable("#companies"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{oe(!0);try{!function(){var a=ie+"companies?format=datatables",t=[{bVisible:!1,aTargets:[1]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:we(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),bo("#companies").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:we(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){var s=t.name,i=t.id+"-"+s.replace(/\s+/g,"-").toLowerCase();c.a.render(r.a.createElement("a",{target:"_blank",style:{cursor:"pointer"},href:"/company/"+i+"/"},a),e)}},{targets:4,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return Ne(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(ve.create||ve.edit)&&t.push({targets:5,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:vo}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},ve.view?r.a.createElement(Ve.a.Item,{onClick:function(){return _e.push("/admin/companies/"+t.id)}},r.a.createElement("i",{className:"flaticon-eye"})," Views Details"):"",ve.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return _e.push("/admin/companies/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",ve.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return Ne(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});bo("#companies").DataTable({responsive:{details:{renderer:bo.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("companies",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){var n="";a.specialities.map((function(e,a){a<2?n+=e.name+", ":2===a&&(n+=" ...")})),e[t].specialities__name=n,e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n         <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[4,"desc"]],columnDefs:t}),bo("#companies").on("page.dt",(function(){Pa(bo("#companies"),"companies",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var Ce=function(e,a){K(!1)},we=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(ho,{exportSpinner:ue,setExpSpin:pe,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,type:ye,csvData:ne,setCsvData:re}),r.a.createElement("div",{className:"kt-portlet__body"},ve.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){bo("#companies").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",ve.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"companies"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),fo()},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"specialities__name"},"Speciality"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:ke},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("companies/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),K(!0),fo();var t=1===e.data.is_active?"activated":"deactivated";$("Record successfully "+t)}))}else"delete"==R&&ge("companies/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),K(!0),fo(),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:ke},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:16e5,onClose:Ce},r.a.createElement(uo,{onClose:Ce,variant:"success",message:Z})))}var _o=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).fileChangedHandler=function(e){var a=t.state.company,n=e.target.files[0];if(t.setState({previewFile:URL.createObjectURL(n)}),void 0!=n)if(n.size_c=n.size/1024,n.size_c/1024>2)n.size_c=(n.size_c/1024).toFixed(2)+" MB",n.error="Error: File is too big",a.file={},t.setState({selectedFile:n});else{n.error=null,n.size_c=n.size_c.toFixed(2)+" KB";var r=new FileReader;r.readAsDataURL(n),r.onloadend=function(){a.file=r.result,t.setState({selectedFile:n,company:a})}}},t.handleFileRemove=function(e){var a=t.state.company;a.file={},t.setState({selectedFile:null,company:a}),document.getElementById("company-image-upload").value=""},t.clearForm=function(e){t.props.data.history.replace("/admin/companies"),t.props.data.history.replace("/admin/companies/create")},t.state={company:{is_active:0},validated:!1,action:"",specialities:[],speciality:[],countries:[],country:{label:"Select Country",value:0},states:[],state:{label:"Select State",value:0},cities:[],city:{label:"Select City",value:0},selectedFile:null,previewFile:null,modelsLoaded:!1},t.loadModels(),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"loadModels",value:function(){ve("abmodels",{models:{AbSpecialities:{},AbCountries:{}}}).then(function(e){var a=function(a){e.data[a].map((function(t,n){e.data[a][n].label=t.name,e.data[a][n].value=t.id}))};for(var t in e.data)a(t);this.setState({countries:e.data.AbCountries,specialities:e.data.AbSpecialities,modelsLoaded:!0})}.bind(this))}},{key:"selectChange",value:function(e,a){var t,n=this.state.company;if(n[a]=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"company",n),t)),["country","state","city"].indexOf(a)>-1&&e){var r="",l="",c={};"country"===a?(c={AbStates:{country_id:e.id}},r="state",l="states"):"state"===a&&(c={AbCities:{state_id:e.id}},r="city",l="cities"),ve("abmodels",{models:c}).then(function(e){var a=this,t={},n=function(n){var c;e.data[n].map((function(r,c){e.data[n][c].label=r.name,e.data[n][c].value=r.id,void 0!=a.state.company[l]&&r.id===a.state.company[l].id&&(t=r)})),a.setState((c={},Object(b.a)(c,l,e.data[n]),Object(b.a)(c,r,t),c))};for(var c in e.data)n(c)}.bind(this))}}},{key:"selectSpeciality",value:function(e,a){var t,n=this.state.company;for(var r in n.specialities=[],e)n.specialities.push(e[r].id);this.setState((t={},Object(b.a)(t,a,e),Object(b.a)(t,"company",n),t))}},{key:"handleChange",value:function(e){var a=this.state.company,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),"website"===t&&-1===n.indexOf("http:")&&-1===n.indexOf("https:")&&(n="http://"+n),a[t]=n,this.setState({company:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),this.state.selectedFile||delete this.state.company.file,ve("companies",this.state.company).then((function(e){a.setState({company:e.data}),"save_new"==a.state.action?a.clearForm("parts-form"):a.props.data.history.push("/admin/companies")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.selectedFile,n=a.company,l=(a.specialities,a.speciality),c=(a.countries,a.country),s=a.states,i=a.state,o=a.city,m=a.cities;return r.a.createElement(mt.a,{noValidate:!0,id:"companies-form",onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"companies",name:"name",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"8"},r.a.createElement(mt.a.Label,null,"Speciality *"),r.a.createElement(rn.a,{required:!0,model:"specialities",value:l.value?l:"select...",name:"speciality",isMulti:!0,loadOptions:function(a,t){return Pe(a,t,e.state.specialities,e.state.modelsLoaded)},onChange:function(a){return e.selectSpeciality(a,"speciality")}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Business Number"),r.a.createElement(mt.a.Control,{type:"number",placeholder:"",model:"companies",name:"business_phone",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Website"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"companies",name:"website",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Address"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"companies",name:"address",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Country"),r.a.createElement(rn.a,{model:"countries",value:c.value?c:"select...",name:"country",isClearable:!0,escapeClearsValue:!0,loadOptions:function(a,t){return Pe(a,t,e.state.countries,e.state.modelsLoaded)},onChange:function(a){return e.selectChange(a,"country")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"State"),r.a.createElement(nn.a,{value:i,model:"states",name:"state",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"state")},options:s})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"City"),r.a.createElement(nn.a,{value:o.value?o:"select...",model:"cities",name:"city",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"city")},options:m}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"P.O.Box"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"companies",name:"po_box",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Zipcode/Postal Code"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"companies",name:"zip_code",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"RFQ Email"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"companies",name:"rfq_email",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"AOG Email"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"companies",name:"aog_email",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Profile"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"5",model:"companies",name:"profile",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement("input",{accept:"image/*",style:{display:"none"},type:"file",id:"company-image-upload",name:"image",onChange:this.fileChangedHandler}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"company-image-upload"},r.a.createElement(Tc.a,{variant:"outlined",color:"inherit",component:"span"},"Select Image",r.a.createElement(xc.a,{style:{marginLeft:"5px"}}))),r.a.createElement("div",{className:"form-group form-group-last row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"dropzone dropzone-multi",id:"kt_dropzone_5"},r.a.createElement("div",{className:"dropzone-items",style:{display:t?"block":"none"}},r.a.createElement("div",{className:"dropzone-item"},r.a.createElement("div",{className:"dropzone-file"},this.state.previewFile&&r.a.createElement("div",{style:{"max-width":"250px"}},r.a.createElement("img",{style:{width:"100%"},src:this.state.previewFile})),r.a.createElement("div",{className:"dropzone-filename",title:"some_image_file_name.jpg"},r.a.createElement("span",{"data-dz-name":!0},t?t.name:"No file selected"),r.a.createElement("strong",null,"(",r.a.createElement("span",{"data-dz-size":!0},t&&t.size_c?t.size_c:""),")")),r.a.createElement("div",{className:"dropzone-error","data-dz-errormessage":!0},t&&t.error?t.error:"")),r.a.createElement("div",{className:"dropzone-toolbar"},r.a.createElement("span",{onClick:function(a){return e.handleFileRemove(a)},className:"dropzone-delete","data-dz-remove":!0},r.a.createElement("i",{className:"flaticon2-cross"})))))),r.a.createElement("span",{className:"form-text text-muted"},"Max file size is 2MB.")))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===n.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/companies",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),yo=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Company",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/companies",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(_o,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),ko=Object(B.o)(yo),No=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).fileChangedHandler=function(e){var a=e.target.files[0];if(t.setState({previewFile:URL.createObjectURL(a)}),void 0!=a){a.name_c=a.name;var n=t.state.company;if(a.size_c=a.size/1024,a.size_c/1024>2)a.size_c=(a.size_c/1024).toFixed(2)+" MB",a.error="Error: File is too big",n.file={},t.setState({selectedFile:a});else{a.error=null,a.size_c=a.size_c.toFixed(2)+" KB";var r=new FileReader;r.readAsDataURL(a),r.onloadend=function(){n.file=r.result,t.setState({selectedFile:a,company:n})}}}},t.handleFileRemove=function(e){var a=t.state.company;delete a.file,t.setState({selectedFile:null,company:a,previewFile:null}),document.getElementById("company-image-upload").value=""};var n=t.props.data.match.params.company_id;return t.state={validated:!1,company:{id:n},specialities:[],selected_specialities:[],countries:[],country:{},states:[],state:{},cities:[],city:{},selectedFile:null,previewFile:null,modelsLoaded:!1},t.getCompany(n),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getCompany",value:function(e){var a=this;be("companies/"+e+"/").then((function(e){delete e.data.company;var t=[],n=[];for(var r in e.data.specialities)t.push({id:e.data.specialities[r].id,label:e.data.specialities[r].name}),n.push(t[r].id);e.data.specialities=n;var l=e.data.website;(l&&-1===l.indexOf("http:")||l&&-1===l.indexOf("https:"))&&(l="https://"+l,e.data.website=l),a.setState({company:e.data,selected_specialities:t}),a.setSelectfile(),a.loadModels()}))}},{key:"loadModels",value:function(){var e=this.state.company,a={AbSpecialities:{},AbCountries:{},AbStates:{country_id:e&&e.country&&e.country.id?e.country.id:0},AbCities:{state_id:e.state?e.state.id:0}},t={AbCountries:["country"],AbStates:["state"],AbCities:["city"]};ve("abmodels",{models:a}).then(function(a){var n={},r=function(r){a.data[r].map((function(l,c){a.data[r][c].label=l.name,a.data[r][c].value=l.id,Object.keys(t).map((function(a,c){t[a].map((function(t,c){r===a&&null!==e[t]&&void 0!==e[t].id&&e[t].id===l.id&&(n[t]=l)}))}))}))};for(var l in a.data)r(l);n.countries=a.data.AbCountries,n.states=a.data.AbStates,n.cities=a.data.AbCities,n.specialities=a.data.AbSpecialities,n.modelsLoaded=!0,this.setState(n)}.bind(this))}},{key:"selectChange",value:function(e,a){var t,n=this.state.company;if(n[a]=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"company",n),t)),["country","state","city"].indexOf(a)>-1&&e){var r="",l="",c={};"country"===a?(c={AbStates:{country_id:e.id}},r="state",l="states"):"state"===a&&(c={AbCities:{state_id:e.id}},r="city",l="cities"),ve("abmodels",{models:c}).then(function(e){var a=this,t={},n=function(n){var c;e.data[n].map((function(r,c){e.data[n][c].label=r.name,e.data[n][c].value=r.id,void 0!=a.state.company[l]&&r.id===a.state.company[l].id&&(t=r)})),a.setState((c={},Object(b.a)(c,l,e.data[n]),Object(b.a)(c,r,t),c))};for(var c in e.data)n(c)}.bind(this))}}},{key:"selectSpeciality",value:function(e,a){var t,n=this.state.company;for(var r in n.specialities=[],e)n.specialities.push(e[r].id);this.setState((t={},Object(b.a)(t,a,e),Object(b.a)(t,"company",n),t))}},{key:"handleChange",value:function(e){var a=this.state.company,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({company:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),this.checkDataFormat(),fe("companies/"+this.state.company.id+"/",this.state.company).then((function(e){a.setState({company:e.data}),a.props.data.history.push("/admin/companies")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"checkDataFormat",value:function(){var e=this,a=this.state.company;["country","state","city"].map((function(t,n){a[t]=e.state[t].value})),this.setState({company:a})}},{key:"setSelectfile",value:function(){if(this.state.company.media){var e={},a=this.state.company.media.original_file_name.split("/");e.name_c=a[a.length-1],this.setState({selectedFile:e})}}},{key:"render",value:function(){var e=this,a=this.state,t=a.company,n=(a.specialities,a.selected_specialities),l=(a.countries,a.country),c=a.states,s=a.state,i=a.city,o=a.cities,m=a.selectedFile;return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"companies",name:"name",value:t?t.name:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"8"},r.a.createElement(mt.a.Label,null,"Speciality *"),r.a.createElement(rn.a,{required:!0,model:"specialities",value:n||"",name:"speciality",isMulti:!0,loadOptions:function(a,t){return Pe(a,t,e.state.specialities,e.state.modelsLoaded)},onChange:function(a){return e.selectSpeciality(a,"selected_specialities")}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Business Number"),r.a.createElement(mt.a.Control,{type:"number",placeholder:"",model:"companies",name:"business_phone",value:t?t.business_phone:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Website"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"companies",name:"website",value:t?t.website:"",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Address"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"companies",name:"address",value:t?t.address:"",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Country"),r.a.createElement(rn.a,{model:"countries",value:l||"",name:"country",isClearable:!0,escapeClearsValue:!0,loadOptions:function(a,t){return Pe(a,t,e.state.countries,e.state.modelsLoaded)},onChange:function(a){return e.selectChange(a,"country")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"State"),r.a.createElement(nn.a,{value:s.value?s:"select...",model:"states",name:"state",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"state")},options:c})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"City"),r.a.createElement(nn.a,{value:i.value?i:"select...",model:"cities",name:"city",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"city")},options:o}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"P.O.Box"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"companies",name:"po_box",value:t?t.po_box:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Zipcode/Postal Code"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"companies",name:"zip_code",value:t?t.zip_code:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"RFQ Email"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"companies",name:"rfq_email",value:t?t.rfq_email:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"AOG Email"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"companies",name:"aog_email",value:t?t.aog_email:"",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Profile"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"5",model:"companies",name:"profile",value:t?t.profile:"",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement("input",{accept:"image/*",style:{display:"none"},type:"file",id:"company-image-upload",name:"image",onChange:this.fileChangedHandler}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"company-image-upload"},r.a.createElement(Tc.a,{variant:"outlined",color:"inherit",component:"span"},"Select Image",r.a.createElement(xc.a,{style:{marginLeft:"5px"}}))),r.a.createElement("div",{className:"form-group form-group-last row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"dropzone dropzone-multi",id:"kt_dropzone_5"},r.a.createElement("div",{className:"dropzone-items",style:{display:m?"block":"none"}},r.a.createElement("div",{className:"dropzone-item"},r.a.createElement("div",{className:"dropzone-file"},this.state.previewFile&&r.a.createElement("div",{style:{"max-width":"250px"}},r.a.createElement("img",{style:{width:"100%"},src:this.state.previewFile})),r.a.createElement("div",{className:"dropzone-filename",title:"some_image_file_name.jpg"},r.a.createElement("span",{"data-dz-name":!0},m?m.name_c:"No file selected"),r.a.createElement("strong",null,m&&m.size_c?"("+m.size_c+")":"")),r.a.createElement("div",{className:"dropzone-error","data-dz-errormessage":!0},m&&m.error?m.error:"")),r.a.createElement("div",{className:"dropzone-toolbar"},r.a.createElement("span",{onClick:function(a){return e.handleFileRemove(a)},className:"dropzone-delete","data-dz-remove":!0},r.a.createElement("i",{className:"flaticon2-cross"})))))),r.a.createElement("span",{className:"form-text text-muted"},"Max file size is 2MB."))))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/companies",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Co=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this,a=r.a.createElement(P.Link,{to:"/admin/companies",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Company",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},a))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(No,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),wo=Object(B.o)(Co),Oo=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,r=n.company_id,l=n.type;return t.txt_weight={fontWeight:500},t.handleModalShow=t.handleModalShow.bind(Object(at.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.confirm=t.confirm.bind(Object(at.a)(t)),t.state={type:l,company:{},action:"",showModal:!1,created_at:"",updated_at:"",image:null,is_active:""},t.getCompany(r),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getCompany",value:function(e){var a=this;be("companies/"+e+"/").then((function(e){delete e.data.type;var t=[],n=[];for(var r in e.data.specialities)t.push(e.data.specialities[r].name+", "),n.push(e.data.specialities[r].id);e.data.specialities=n;var l=e.data&&e.data.city?e.data.city.name:null;a.setState({created_at:(new Intl.DateTimeFormat).format(new Date(e.data.created_at)),updated_at:(new Intl.DateTimeFormat).format(new Date(e.data.updated_at)),image:e.data.media?e.data.media.original_file_name:null,company:e.data,selected_specialities:t,city:l})}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.company;n[a]=e,this.setState({company:n}),fe("companies/"+this.state.company.id+"/",this.state.company).then((function(e){t.setState({company:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalShow",value:function(e,a){var t=e.target.value;"status"===a&&(t=parseInt(t),this.setState({is_active:1===t?0:1})),this.setState({action:a}),this.setState({showModal:!0})}},{key:"handleModalClose",value:function(){this.setState({showModal:!1})}},{key:"confirm",value:function(){var e=this;"status"===this.state.action&&(this.state.company.is_active=this.state.is_active,delete this.state.company.city,delete this.state.company.country,delete this.state.company.state,delete this.state.company.specialities,fe("companies/"+this.state.company.id+"/",this.state.company).then((function(a){e.setState({company:a.data}),e.setState({showModal:!1})})).catch((function(a){e.props.sendError(a.response.data),e.setState({showModal:!1})})))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.company),n=(a.selected_specialities,a.city),l=t.name,c=t.name?t.id+"-"+l.replace(/\s+/g,"-").toLowerCase():"";return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Name"),r.a.createElement("div",null,t.name&&c?r.a.createElement(P.Link,{target:"_blank",to:"/company/"+c+"/"},t.name):"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Address"),r.a.createElement("div",null,t.address?t.address:"---"))),r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Business Number"),r.a.createElement("div",null,t.business_phone?t.business_phone:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Country"),r.a.createElement("div",null,t.country&&""!==t.country.name?t.country.name:"---"))),r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Website"),r.a.createElement("div",null,t.website?t.website:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"State"),r.a.createElement("div",null,t.state&&""!==t.state.name?t.state.name:"---"))),r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"RFQ Email"),r.a.createElement("div",null,t.rfq_email?t.rfq_email:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"City"),r.a.createElement("div",null,n||"---"))),r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"AOG Email"),r.a.createElement("div",null,t.aog_email?t.aog_email:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"P.O.Box"),r.a.createElement("div",null,t.po_box?t.po_box:"---"))),r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Zipcode/Postal Code"),r.a.createElement("div",null,t.zip_code?t.zip_code:"---"))),r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Created"),r.a.createElement("div",null,this.state.created_at)),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Modified"),r.a.createElement("div",null,this.state.updated_at))),r.a.createElement("div",{className:"kt-separator kt-separator--space-lg kt-separator--border-dashed"}),r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Profile"),r.a.createElement("div",null,t.profile?t.profile:" --- ")))),r.a.createElement(mt.a,null,r.a.createElement(mt.a.Group,null,r.a.createElement(mt.a.Label,null,"Status:"),r.a.createElement("br",null),r.a.createElement("span",{onClick:function(a){return e.handleModalShow(a,"status")},className:1===this.state.company.is_active?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===t.is_active?"defaultChecked":"",value:1===t.is_active?"1":"0",name:"is_active"}),r.a.createElement("span",null)))))),r.a.createElement(ut.a,{item:!0,xs:12,md:3},r.a.createElement("img",{style:{maxHeight:"220px",maxWidth:"200px"},src:this.state.image?oe+this.state.image:oe+"dummy_image.svg"}))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:this.confirm},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:this.handleModalClose},"No"))))}}]),a}(r.a.Component),So=function(e){function a(e){var t;Object(Qa.a)(this,a),t=Object($a.a)(this,Object(et.a)(a).call(this,e));e.match.params.type;return t.state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Company",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/companies",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/companies/"+this.props.match.params.company_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Oo,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),jo=Object(B.o)(So),To=(r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),{success:fa.a,warning:va.a,error:ga.a,info:_a.a}),xo=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function Mo(e){var a=xo(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=To[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var Do=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),Ao=function(e){var a=Do(),t=e.numSelected,n=(e.type,e.selected),l=e.setSelected,c=e.setSelectedMany,s=e.setRowsData,i=e.rows,o=e.setTemp;e.csvData;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,t>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon2-open-box"})),t>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},t," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"Continents")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},t>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(n.length){var a={ids:n};ge("continent/"+n[0]+"/",a).then((function(e){for(var a in i)n.indexOf(i[a].id)>-1&&delete i[a];s(i),n.length=0,l(n),c(!1);var t=[];t.push(1),o(t),Io()}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/continent/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record")))))))},Ro=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),Lo=t(36);function Io(e,a){Lo("#continent").DataTable().ajax.reload(null,!1)}Lo.DataTable=t(40);var Fo=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function Uo(e){var a=Ro(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState([]),te=Object(H.a)(ae,2),ne=te[0],re=(te[1],r.a.useState(!1)),le=Object(H.a)(re,2),ce=le[0],se=le[1],oe=r.a.useState({create:Ee("add_abcontinents"),edit:Ee("change_abcontinents"),delete:Ee("delete_abcontinents"),view:Ee("view_abcontinents")}),me=Object(H.a)(oe,2),de=me[0],ue=(me[1],Object(B.k)());function pe(e){S(!1)}function he(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){Lo.fn.dataTable.isDataTable("#continent")&&(Lo("#continent").DataTable().destroy(),se(!0));return function(){y([]),Lo("#continent").DataTable().destroy(!0),se(!0)}}),[]),r.a.useEffect((function(){if(ce&&Lo.fn.dataTable.isDataTable("#continent"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{se(!0);try{!function(){var a=ie+"continent?format=datatables",t=[{bVisible:!1,aTargets:[1]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:ve(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),Lo("#continent").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:ve(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{onClick:function(){return ue.push("/admin/continent/"+t.id)}},a),e)}},{targets:3,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return he(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(de.create||de.edit)&&t.push({targets:4,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:Fo}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},de.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return ue.push("/admin/continent/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",de.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return he(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});Lo("#continent").DataTable({responsive:{details:{renderer:Lo.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("continent",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n\t\t\t\t <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[3,"desc"]],columnDefs:t}),Lo("#continent").on("page.dt",(function(){Pa(Lo("#continent"),"continent",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var be=function(e,a){K(!1)},ve=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(Ao,{csvData:ne,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length}),r.a.createElement("div",{className:"kt-portlet__body"},de.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){Lo("#continent").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",de.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"continent"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),Io()},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:pe},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("continent/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),K(!0),Io();var t=1===e.data.is_active?"activated":"deactivated";$("Record successfully "+t)}))}else"delete"==R&&ge("continent/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),Io(),K(!0),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:pe},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:16e5,onClose:be},r.a.createElement(Mo,{onClose:be,variant:"success",message:Z})))}var Go=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).clearForm=function(e){t.props.data.history.replace("/admin/continent"),t.props.data.history.replace("/admin/continent/create")},t.state={continent:{is_active:0},validated:!1,action:"",fields:{},errorsf:{}},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"handleChange",value:function(e){var a=this.state.continent,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({continent:a});var r=this.state.fields;r[t]=n,this.setState({fields:r})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.handleValidation()&&(this.setState({validated:!0}),ve("continent",this.state.continent).then((function(e){a.setState({continent:e.data}),"save_new"==a.state.action?a.clearForm("continent-form"):a.props.data.history.push("/admin/continent")})).catch((function(e){a.props.sendError(e.response.data)})))}},{key:"handleValidation",value:function(){var e=this.state.fields,a={},t=!0,n=Object.keys({name:"name"});for(var r in n)"undefined"!==typeof e[n[r]]&&""!==e[n[r]]&&(e[n[r]].match(/^([a-z]+\s)*[a-z]+$/i)||(t=!1,a[n[r]]=["Only alphabets are allowed."]));return this.setState({errorsf:a},function(){this.props.sendError(this.state.errorsf)}.bind(this)),t}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.continent);return r.a.createElement(mt.a,{noValidate:!0,id:"continent-form",onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"continent",name:"name",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/continent",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Po=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Continents",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/continent",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Go,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),zo=Object(B.o)(Po),Vo=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params.continent_id;return t.state={validated:!1,continent:{},fields:{},errorsf:{}},t.getContinent(n),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getContinent",value:function(e){var a=this;be("continent/"+e+"/").then((function(e){a.setState({continent:e.data})}))}},{key:"handleChange",value:function(e){var a=this.state.continent,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({continent:a});var r=this.state.fields;r[t]=n,this.setState({fields:r})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.handleValidation()&&(this.setState({validated:!0}),fe("continent/"+this.state.continent.id+"/",this.state.continent).then((function(e){a.setState({continent:e.data}),a.props.data.history.push("/admin/continent")})).catch((function(e){a.props.sendError(e.response.data)})))}},{key:"handleValidation",value:function(){var e=this.state.fields,a={},t=!0,n=Object.keys({name:"name"});for(var r in n)"undefined"!==typeof e[n[r]]&&""!==e[n[r]]&&(e[n[r]].match(/^([a-z]+\s)*[a-z]+$/i)||(t=!1,a[n[r]]=["Only alphabets are allowed."]));return this.setState({errorsf:a},function(){this.props.sendError(this.state.errorsf)}.bind(this)),t}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.continent);return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"continent",name:"name",defaultValue:t?t.name:"",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/continent",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Ho=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this,a=r.a.createElement(P.Link,{to:"/admin/continent",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Continents",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},a))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Vo,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Bo=Object(B.o)(Ho),qo=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,r=n.continent_id,l=n.type;return t.txt_weight={fontWeight:500},t.handleModalShow=t.handleModalShow.bind(Object(at.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.confirm=t.confirm.bind(Object(at.a)(t)),t.state={type:l,continent:{},action:"",showModal:!1,created_at:"",updated_at:"",is_active:""},t.getContinent(r),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getContinent",value:function(e){var a=this;be("continent/"+e+"/").then((function(e){delete e.data.type,a.setState({created_at:e.data.created_at?(new Intl.DateTimeFormat).format(new Date(e.data.created_at)):"",updated_at:e.data.updated_at?(new Intl.DateTimeFormat).format(new Date(e.data.updated_at)):""}),a.props.setTitle(e.data.name),a.setState({continent:e.data})}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.continent;n[a]=e,this.setState({continent:n}),fe("continent/"+this.state.continent.id+"/",this.state.continent).then((function(e){t.setState({continent:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalShow",value:function(e,a){var t=e.target.value;"status"===a&&(t=parseInt(t),this.setState({is_active:1===t?0:1})),this.setState({action:a}),this.setState({showModal:!0})}},{key:"handleModalClose",value:function(){this.setState({showModal:!1})}},{key:"confirm",value:function(){var e=this;"status"===this.state.action&&(this.state.continent.is_active=this.state.is_active,fe("continent/"+this.state.continent.id+"/",this.state.continent).then((function(a){delete a.data.type,e.setState({continent:a.data}),e.setState({showModal:!1})})).catch((function(a){e.props.sendError(a.response.data),e.setState({showModal:!1})})))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.continent);return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Name"),r.a.createElement("div",null,t.name?t.name:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Created"),r.a.createElement("div",null,this.state.created_at?this.state.created_at:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Modified"),r.a.createElement("div",null,this.state.updated_at?this.state.updated_at:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Status"),r.a.createElement("div",null,r.a.createElement("span",{onClick:function(a){return e.handleModalShow(a,"status")},className:1===this.state.continent.is_active?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===t.is_active?"defaultChecked":"",value:1===t.is_active?"1":"0",name:"is_active"}),r.a.createElement("span",null))))))))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:this.confirm},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:this.handleModalClose},"No"))))}}]),a}(r.a.Component),Wo=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).setMainTitle=function(e){t.setState({title:e})};e.match.params.type;return t.state={errors:{},showError:!1,title:"Continent"},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.title,jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/continent",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/continent/"+this.props.match.params.continent_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(qo,{data:this.props,sendError:this.sendError,setTitle:this.setMainTitle}))))))}}]),a}(r.a.Component),Yo=Object(B.o)(Wo),Jo=(r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),{success:fa.a,warning:va.a,error:ga.a,info:_a.a}),Ko=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function Xo(e){var a=Ko(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=Jo[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var Qo=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),Zo=function(e){var a=Qo(),t=e.numSelected,n=(e.type,e.selected),l=e.setSelected,c=e.setSelectedMany,s=e.setRowsData,i=e.rows,o=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,t>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon2-open-box"})),t>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},t," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"Countries")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},t>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(n.length){var a={ids:n};ge("countries/"+n[0]+"/",a).then((function(e){for(var a in i)n.indexOf(i[a].id)>-1&&delete i[a];s(i),n.length=0,l(n),c(!1);var t=[];t.push(1),o(t),am()}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/countries/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record")))))))},$o=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),em=t(36);function am(e,a){em("#countries").DataTable().ajax.reload(null,!1)}em.DataTable=t(40);var tm=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function nm(e){var a=$o(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState(!1),te=Object(H.a)(ae,2),ne=te[0],re=te[1],le=r.a.useState({create:Ee("add_abcountries"),edit:Ee("change_abcountries"),delete:Ee("delete_abcountries"),view:Ee("view_abcountries")}),ce=Object(H.a)(le,2),se=ce[0],oe=(ce[1],Object(B.k)());function me(e){S(!1)}function de(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){em.fn.dataTable.isDataTable("#countries")&&(em("#countries").DataTable().destroy(),re(!0));return function(){y([]),em("#countries").DataTable().destroy(!0),re(!0)}}),[]),r.a.useEffect((function(){if(ne&&em.fn.dataTable.isDataTable("#countries"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{re(!0);try{!function(){var a=ie+"countries?format=datatables",t=[{bVisible:!1,aTargets:[1]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:pe(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),em("#countries").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:pe(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{onClick:function(){return oe.push("/admin/countries/"+t.id)}},a),e)}},{targets:5,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return de(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(se.create||se.edit)&&t.push({targets:6,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:tm}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},se.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return oe.push("/admin/countries/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",se.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return de(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});em("#countries").DataTable({responsive:{details:{renderer:em.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("countries",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){a.continent?e[t].continent__name=a.continent.name:e[t].continent__name="",a.region?e[t].region__name=a.region.name:e[t].region__name="",e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n           <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[6,"desc"]],columnDefs:t}),em("#countries").on("page.dt",(function(){Pa(em("#countries"),"countries",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var ue=function(e,a){K(!1)},pe=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(Zo,{setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length}),r.a.createElement("div",{className:"kt-portlet__body"},se.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){em("#countries").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",se.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"countries"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),am()},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"continent__name"},"Continent"),r.a.createElement("th",{"data-data":"region__name"},"Region"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:me},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("countries/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),am(),K(!0);var t=1===e.data.is_active?"activated":"deactivated";$("Record successfully "+t)}))}else"delete"==R&&ge("countries/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),am(),K(!0),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:me},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:16e5,onClose:ue},r.a.createElement(Xo,{onClose:ue,variant:"success",message:Z})))}var rm=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).fileChangedHandler=function(e){var a=t.state.country,n=e.target.files[0];if(t.setState({previewFile:URL.createObjectURL(n)}),void 0!=n)if(n.size_c=n.size/1024,n.size_c/1024>2)n.size_c=(n.size_c/1024).toFixed(2)+" MB",n.error="Error: File is too big",a.file={},t.setState({selectedFile:n});else{n.error=null,n.size_c=n.size_c.toFixed(2)+" KB";var r=new FileReader;r.readAsDataURL(n),r.onloadend=function(){a.file=r.result,t.setState({selectedFile:n,country:a})}}},t.handleFileRemove=function(e){var a=t.state.country;a.file={},t.setState({selectedFile:null,country:a}),document.getElementById("country-image-upload").value=""},t.clearForm=function(e){t.props.data.history.replace("/admin/countries"),t.props.data.history.replace("/admin/countries/create")},t.state={country:{is_active:0},validated:!1,action:"",continents:[],continent:{value:""},regions:[],region:{label:"Select Region",value:0},selectedFile:null,previewFile:null,fields:{},errorsf:{}},t.loadModels(),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"loadModels",value:function(){ve("abmodels",{models:{AbContinents:{}}}).then(function(e){var a=function(a){e.data[a].map((function(t,n){e.data[a][n].label=t.name,e.data[a][n].value=t.id}))};for(var t in e.data)a(t);this.setState({continents:e.data.AbContinents})}.bind(this))}},{key:"selectChange",value:function(e,a){var t,n=this.state.country;if(n[a]=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"country",n),t)),["continent"].indexOf(a)>-1&&e){var r="",l="",c={};"continent"===a&&(c={AbRegions:{continent_id:e.id}},r="region",l="regions"),ve("abmodels",{models:c}).then(function(e){var a=this,t={},n=function(n){var c;e.data[n].map((function(r,c){e.data[n][c].label=r.name,e.data[n][c].value=r.id,void 0!=a.state.country[l]&&r.id===a.state.country[l].id&&(t=r)})),a.setState((c={},Object(b.a)(c,l,e.data[n]),Object(b.a)(c,r,t),c))};for(var c in e.data)n(c)}.bind(this))}}},{key:"selectContinent",value:function(e,a){var t,n=this.state.country;n.continent=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"country",n),t))}},{key:"selectRegion",value:function(e,a){var t,n=this.state.country;n.region=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"country",n),t))}},{key:"handleChange",value:function(e){var a=this.state.country,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({country:a});var r=this.state.fields;r[t]=n,this.setState({fields:r})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.handleValidation()&&(this.setState({validated:!0}),ve("countries",this.state.country).then((function(e){a.setState({country:e.data}),"save_new"==a.state.action?a.clearForm("create-country-form"):a.props.data.history.push("/admin/countries")})).catch((function(e){a.props.sendError(e.response.data)})))}},{key:"handleValidation",value:function(){var e=this.state.fields,a={},t=!0,n=Object.keys({name:"name",capital:"capital"});for(var r in n)"undefined"!==typeof e[n[r]]&&""!==e[n[r]]&&(e[n[r]].match(/^([a-z]+\s)*[a-z]+$/i)||(t=!1,a[n[r]]=["Only alphabets are allowed."]));return this.setState({errorsf:a},function(){this.props.sendError(this.state.errorsf)}.bind(this)),t}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.country),n=a.continents,l=a.continent,c=a.regions,s=a.region,i=a.selectedFile;return r.a.createElement(mt.a,{noValidate:!0,id:"create-country-form",onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"countries",name:"name",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Continent *"),r.a.createElement(nn.a,{required:!0,value:l.value?l:"select...",model:"continents",name:"continent",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"continent")},options:n})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Region *"),r.a.createElement(nn.a,{required:!0,value:s.value?s:"select...",model:"regions",name:"region",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectRegion(a,"region")},options:c})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Capital"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"countries",name:"capital",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Currency"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"countries",name:"currency",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"ISO 3116 Alpha-2 Code"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"countries",name:"iso_3116_alpha_2",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Dialing Code"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"countries",name:"dialing_code",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement("input",{accept:"image/*",style:{display:"none"},type:"file",id:"country-image-upload",name:"image",onChange:this.fileChangedHandler}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"country-image-upload"},r.a.createElement(Tc.a,{variant:"outlined",color:"inherit",component:"span"},"Flag (SVG)",r.a.createElement(xc.a,{style:{marginLeft:"5px"}}))),r.a.createElement("div",{className:"form-group form-group-last row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"dropzone dropzone-multi",id:"kt_dropzone_5"},r.a.createElement("div",{className:"dropzone-items",style:{display:i?"block":"none"}},r.a.createElement("div",{className:"dropzone-item"},r.a.createElement("div",{className:"dropzone-file"},this.state.previewFile&&r.a.createElement("div",{style:{"max-width":"250px"}},r.a.createElement("img",{style:{width:"100%"},src:this.state.previewFile})),r.a.createElement("div",{className:"dropzone-filename",title:"some_image_file_name.jpg"},r.a.createElement("span",{"data-dz-name":!0},i?i.name:"No file selected")," ",r.a.createElement("strong",null,"(",r.a.createElement("span",{"data-dz-size":!0},i&&i.size_c?i.size_c:""),")")),r.a.createElement("div",{className:"dropzone-error","data-dz-errormessage":!0},i&&i.error?i.error:"")),r.a.createElement("div",{className:"dropzone-toolbar"},r.a.createElement("span",{onClick:function(a){return e.handleFileRemove(a)},className:"dropzone-delete","data-dz-remove":!0},r.a.createElement("i",{className:"flaticon2-cross"})))))),r.a.createElement("span",{className:"form-text text-muted"},"Max file size is 2MB."))))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/countries",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),lm=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Country",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/countries",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(rm,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),cm=Object(B.o)(lm),sm=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).fileChangedHandler=function(e){var a=e.target.files[0];if(t.setState({previewFile:URL.createObjectURL(a)}),void 0!=a){a.name_c=a.name;var n=t.state.country;if(a.size_c=a.size/1024,a.size_c/1024>2)a.size_c=(a.size_c/1024).toFixed(2)+" MB",a.error="Error: File is too big",n.file={},t.setState({selectedFile:a});else{a.error=null,a.size_c=a.size_c.toFixed(2)+" KB";var r=new FileReader;r.readAsDataURL(a),r.onloadend=function(){n.file=r.result,t.setState({selectedFile:a,country:n})}}}},t.handleFileRemove=function(e){var a=t.state.country;delete a.file,t.setState({selectedFile:null,country:a,previewFile:null}),document.getElementById("country-image-upload").value=""};var n=t.props.data.match.params.country_id;return t.state={validated:!1,country:{id:n},continents:[],continent:{},regions:[],region:{},selectedFile:null,previewFile:null,fields:{},errorsf:{}},t.getCountry(n),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getCountry",value:function(e){var a=this;be("countries/"+e+"/").then((function(e){delete e.data.country,a.setState({country:e.data,previewFile:e.data.media?oe+e.data.media.original_file_name:null}),a.setSelectfile(),a.loadModels()}))}},{key:"loadModels",value:function(){var e=this.state.country,a={AbContinents:{},AbRegions:{continent_id:e.continent&&e.continent.id?e.continent.id:0}},t={AbContinents:["continent"],AbRegions:["region"]};ve("abmodels",{models:a}).then(function(a){var n={},r=function(r){a.data[r].map((function(l,c){a.data[r][c].label=l.name,a.data[r][c].value=l.id,Object.keys(t).map((function(a,c){t[a].map((function(t,c){r===a&&null!==e[t]&&void 0!==e[t].id&&e[t].id===l.id&&(n[t]=l)}))}))}))};for(var l in a.data)r(l);n.continents=a.data.AbContinents,n.regions=a.data.AbRegions,this.setState(n)}.bind(this))}},{key:"selectChange",value:function(e,a){var t,n=this.state.country;if(n[a]=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"country",n),t)),["continent"].indexOf(a)>-1&&e){var r="",l="",c={};"continent"===a&&(c={AbRegions:{continent_id:e.id}},r="region",l="regions"),ve("abmodels",{models:c}).then(function(e){var a=this,t={},n=function(n){var c;e.data[n].map((function(r,c){e.data[n][c].label=r.name,e.data[n][c].value=r.id,void 0!=a.state.country[l]&&r.id===a.state.country[l].id&&(t=r)})),a.setState((c={},Object(b.a)(c,l,e.data[n]),Object(b.a)(c,r,t),c))};for(var c in e.data)n(c)}.bind(this))}}},{key:"handleChange",value:function(e){var a=this.state.country,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({country:a});var r=this.state.fields;r[t]=n,this.setState({fields:r})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.handleValidation()&&(this.setState({validated:!0}),this.checkDataFormat(),fe("countries/"+this.state.country.id+"/",this.state.country).then((function(e){a.setState({country:e.data}),a.props.data.history.push("/admin/countries")})).catch((function(e){a.props.sendError(e.response.data)})))}},{key:"checkDataFormat",value:function(){var e=this,a=this.state.country;["continent","region"].map((function(t,n){a[t]=e.state[t].value})),this.setState({country:a})}},{key:"handleValidation",value:function(){var e=this.state.fields,a={},t=!0,n=Object.keys({name:"name",capital:"capital"});for(var r in n)"undefined"!==typeof e[n[r]]&&""!==e[n[r]]&&(e[n[r]].match(/^([a-z]+\s)*[a-z]+$/i)||(t=!1,a[n[r]]=["Only alphabets are allowed."]));return this.setState({errorsf:a},function(){this.props.sendError(this.state.errorsf)}.bind(this)),t}},{key:"setSelectfile",value:function(){if(this.state.country.media){var e={},a=this.state.country.media.original_file_name.split("/");e.name_c=a[a.length-1],this.setState({selectedFile:e})}}},{key:"render",value:function(){var e=this,a=this.state,t=a.country,n=a.continents,l=a.continent,c=a.regions,s=a.region,i=a.selectedFile;return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"countries",name:"name",value:t?t.name:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Continent *"),r.a.createElement(nn.a,{required:!0,value:l.value?l:"select...",model:"continents",name:"continent",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"continent")},options:n})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Region *"),r.a.createElement(nn.a,{required:!0,value:s.value?s:"select...",model:"regions",name:"region",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"region")},options:c})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Capital"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"countries",name:"capital",value:t?t.capital:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Currency"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"countries",name:"currency",value:t?t.currency:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"ISO 3116 Alpha-2 Code"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"countries",name:"iso_3116_alpha_2",value:t?t.iso_3116_alpha_2:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Dialing Code"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"countries",name:"dialing_code",value:t?t.dialing_code:"",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement("input",{accept:"image/*",style:{display:"none"},type:"file",id:"country-image-upload",name:"image",onChange:this.fileChangedHandler}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"country-image-upload"},r.a.createElement(Tc.a,{variant:"outlined",color:"inherit",component:"span"},"Flag (SVG)",r.a.createElement(xc.a,{style:{marginLeft:"5px"}}))),r.a.createElement("div",{className:"form-group form-group-last row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"dropzone dropzone-multi",id:"kt_dropzone_5"},r.a.createElement("div",{className:"dropzone-items",style:{display:i?"block":"none"}},r.a.createElement("div",{className:"dropzone-item"},r.a.createElement("div",{className:"dropzone-file"},this.state.previewFile&&r.a.createElement("div",{style:{"max-width":"250px"}},r.a.createElement("img",{style:{width:"100%"},src:this.state.previewFile})),r.a.createElement("div",{className:"dropzone-filename",title:"some_image_file_name.jpg"},r.a.createElement("span",{"data-dz-name":!0},i?i.name_c:"No file selected"),r.a.createElement("strong",null,i&&i.size_c?"("+i.size_c+")":"")),r.a.createElement("div",{className:"dropzone-error","data-dz-errormessage":!0},i&&i.error?i.error:"")),r.a.createElement("div",{className:"dropzone-toolbar"},r.a.createElement("span",{onClick:function(a){return e.handleFileRemove(a)},className:"dropzone-delete","data-dz-remove":!0},r.a.createElement("i",{className:"flaticon2-cross"})))))),r.a.createElement("span",{className:"form-text text-muted"},"Max file size is 2MB."))))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/countries",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),im=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this,a=r.a.createElement(P.Link,{to:"/admin/countries",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Country",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},a))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(sm,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),om=Object(B.o)(im),mm=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,r=n.country_id,l=n.type;return t.txt_weight={fontWeight:500},t.handleModalShow=t.handleModalShow.bind(Object(at.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.confirm=t.confirm.bind(Object(at.a)(t)),t.state={type:l,country:{},action:"",showModal:!1,created_at:"",updated_at:"",image:null,is_active:""},t.getCountry(r),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getCountry",value:function(e){var a=this;be("countries/"+e+"/").then((function(e){delete e.data.type;var t=e.data.continent.name,n=e.data.region.name;e.data.continent=e.data.continent.id,e.data.region=e.data.region.id,a.setState({created_at:e.data.created_at?(new Intl.DateTimeFormat).format(new Date(e.data.created_at)):"",updated_at:e.data.updated_at?(new Intl.DateTimeFormat).format(new Date(e.data.updated_at)):"",image:e.data.media?e.data.media.original_file_name:null,selected_continent:t,country:e.data,selected_region:n}),a.props.setTitle(e.data.name)}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.country;n[a]=e,this.setState({country:n}),fe("countries/"+this.state.country.id+"/",this.state.country).then((function(e){t.setState({country:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalShow",value:function(e,a){var t=e.target.value;"status"===a&&(t=parseInt(t),this.setState({is_active:1===t?0:1})),this.setState({action:a}),this.setState({showModal:!0})}},{key:"handleModalClose",value:function(){this.setState({showModal:!1})}},{key:"confirm",value:function(){var e=this;"status"===this.state.action&&(this.state.country.is_active=this.state.is_active,fe("countries/"+this.state.country.id+"/",this.state.country).then((function(a){delete a.data.type,e.setState({country:a.data}),e.setState({showModal:!1})})).catch((function(a){e.props.sendError(a.response.data),e.setState({showModal:!1})})))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.country),n=a.selected_continent,l=a.selected_region;return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Name"),r.a.createElement("div",null,t.name?t.name:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Continent"),r.a.createElement("div",null,n||"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Region"),r.a.createElement("div",null,l||"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Currency"),r.a.createElement("div",null,t.currency?t.currency:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"ISO 3116 Alpha-2 Code"),r.a.createElement("div",null,t.iso_3116_alpha_2?t.iso_3116_alpha_2:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Dialing Code"),r.a.createElement("div",null,t.dialing_code?t.dialing_code:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Created"),r.a.createElement("div",null,this.state.created_at?this.state.created_at:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Modified"),r.a.createElement("div",null,this.state.updated_at?this.state.updated_at:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Status"),r.a.createElement("div",null,r.a.createElement("span",{onClick:function(a){return e.handleModalShow(a,"status")},className:1===this.state.country.is_active?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===t.is_active?"defaultChecked":"",value:1===t.is_active?"1":"0",name:"is_active"}),r.a.createElement("span",null)))))))),r.a.createElement(ut.a,{item:!0,xs:12,md:3},r.a.createElement("img",{style:{maxHeight:"220px",maxWidth:"200px"},src:this.state.image?oe+this.state.image:oe+"dummy_image.svg"}))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:this.confirm},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:this.handleModalClose},"No"))))}}]),a}(r.a.Component),dm=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).setMainTitle=function(e){t.setState({title:e})};e.match.params.type;return t.state={errors:{},showError:!1,title:"Country"},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.title,jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/countries",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/countries/"+this.props.match.params.country_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(mm,{data:this.props,sendError:this.sendError,setTitle:this.setMainTitle}))))))}}]),a}(r.a.Component),um=Object(B.o)(dm),pm=(r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),{success:fa.a,warning:va.a,error:ga.a,info:_a.a}),hm=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function Em(e){var a=hm(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=pm[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var bm=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),fm=function(e){var a=bm(),t=e.numSelected,n=(e.type,e.selected),l=e.setSelected,c=e.setSelectedMany,s=e.setRowsData,i=e.rows,o=e.setTemp;e.csvData;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,t>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon-cogwheel"})),t>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},t," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"CMS")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},t>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(n.length){var a={ids:n};ge("cms/"+n[0]+"/",a).then((function(e){for(var a in i)n.indexOf(i[a].id)>-1&&delete i[a];s(i),n.length=0,l(n),c(!1);var t=[];t.push(1),o(t),_m()}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/cms/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record")))))))},vm=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),gm=t(36);function _m(e,a){gm("#cms").DataTable().ajax.reload(null,!1)}gm.DataTable=t(40);var ym=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function km(e){var a=vm(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState([]),te=Object(H.a)(ae,2),ne=te[0],re=(te[1],r.a.useState(!1)),le=Object(H.a)(re,2),ce=le[0],se=le[1],oe=r.a.useState({create:Ee("add_abcms"),edit:Ee("change_abcms"),delete:Ee("delete_abcms"),view:Ee("view_abcms")}),me=Object(H.a)(oe,2),de=me[0],ue=(me[1],Object(B.k)());function pe(e){S(!1)}function he(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){gm.fn.dataTable.isDataTable("#cms")&&(gm("#cms").DataTable().destroy(),se(!0))}),[]),r.a.useEffect((function(){ce&&gm.fn.dataTable.isDataTable("#cms")?JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_):(se(!0),function(){var a=ie+"cms?format=datatables",t=[{bVisible:!1,aTargets:[1]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:ve(t.id),onChange:function(e){return function(e,a){var t=m.indexOf(a),n=m;-1===t?n.push(a):n.splice(t,1);d(n);var r=Object(ha.a)(U);r.push(1),G(r),_m()}(0,t.id)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{onClick:function(){return ue.push("/admin/cms/"+t.id)}},a),e)}},{targets:4,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return he(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(de.create||de.edit)&&t.push({targets:5,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:ym}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},de.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return ue.push("/admin/cms/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",de.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return he(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});gm("#cms").DataTable({responsive:{details:{renderer:gm.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("cms",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n           <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[4,"desc"]],columnDefs:t}),gm("#cms").on("page.dt",(function(){Pa(gm("#cms"),"cms",e)}))}())}),[_]);var be=function(e,a){K(!1)},ve=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(fm,{csvData:ne,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length}),r.a.createElement("div",{className:"kt-portlet__body"},de.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){gm("#cms").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",de.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"cms"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),_m()},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"title"},"Title"),r.a.createElement("th",{"data-data":"sub_title"},"Sub Title"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:pe},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("cms/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),_m(),K(!0);var t=1===e.data.is_active?"activated":"deactivated";$("Record successfully "+t)}))}else"delete"==R&&ge("cms/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),_m(),K(!0),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:pe},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:16e5,onClose:be},r.a.createElement(Em,{onClose:be,variant:"success",message:Z})))}var Nm=t(86),Cm=t.n(Nm),wm=t(87),Om=t.n(wm);function Sm(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}var jm={},Tm={menu:function(e,a){return function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Sm(Object(t),!0).forEach((function(a){Object(b.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Sm(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},e,{zIndex:99})}},xm=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).fileChangedHandler=function(e){var a=t.state.cms,n=e.target.files[0];if(t.setState({previewFile:URL.createObjectURL(n)}),void 0!=n)if(n.size_c=n.size/1024,n.size_c/1024>2)n.size_c=(n.size_c/1024).toFixed(2)+" MB",n.error="Error: File is too big",a.file={},t.setState({selectedFile:n});else{n.error=null,n.size_c=n.size_c.toFixed(2)+" KB";var r=new FileReader;r.readAsDataURL(n),r.onloadend=function(){a.file=r.result,t.setState({selectedFile:n,cms:a})}}},t.handleFileRemove=function(e){var a=t.state.cms;a.file={},t.setState({selectedFile:null,cms:a}),document.getElementById("cms-image-upload").value=""},t.clearForm=function(e){t.props.data.history.replace("/admin/cms"),t.props.data.history.replace("/admin/cms/create")},t.state={cms:{is_active:0},validated:!1,action:"",section:{value:""}},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"selectCMS",value:function(e,a){var t,n=this.state.cms;n.section=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"cms",n),t))}},{key:"handleChange",value:function(e){var a=this.state.cms,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({cms:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),ve("cms",this.state.cms).then((function(e){a.setState({cms:e.data}),"save_new"==a.state.action?a.clearForm("static-page-from"):a.props.data.history.push("/admin/cms")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.cms,n=a.section,l=a.selectedFile;return r.a.createElement(mt.a,{noValidate:!0,id:"static-page-from",onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Page Url *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"cms",name:"url",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Title"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"cms",name:"title",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Sub Title"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"cms",name:"sub_title",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Section *"),r.a.createElement(nn.a,{value:n.value?n:"select...",model:"cms",name:"section",isClearable:!0,escapeClearsValue:!0,styles:Tm,onChange:function(a){return e.selectCMS(a,"section")},options:Ne})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Custom Url"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"cms",name:"custom_url",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Content Body"),r.a.createElement(Cm.a,{editor:Om.a,config:jm,model:"cms",onInit:function(e){},onChange:function(a,t){var n=t.getData();e.state.cms.body=n}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement("input",{accept:"image/*",style:{display:"none"},type:"file",id:"cms-image-upload",name:"image",onChange:this.fileChangedHandler}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"cms-image-upload"},r.a.createElement(Tc.a,{variant:"outlined",color:"inherit",component:"span"},"Select Image",r.a.createElement(xc.a,{style:{marginLeft:"5px"}}))),r.a.createElement("div",{className:"form-group form-group-last row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"dropzone dropzone-multi",id:"kt_dropzone_5"},r.a.createElement("div",{className:"dropzone-items",style:{display:l?"block":"none"}},r.a.createElement("div",{className:"dropzone-item"},r.a.createElement("div",{className:"dropzone-file"},this.state.previewFile&&r.a.createElement("div",{style:{"max-width":"250px"}},r.a.createElement("img",{style:{width:"100%"},src:this.state.previewFile})),r.a.createElement("div",{className:"dropzone-filename",title:"some_image_file_name.jpg"},r.a.createElement("span",{"data-dz-name":!0},l?l.name:"No file selected"),r.a.createElement("strong",null,"(",r.a.createElement("span",{"data-dz-size":!0},l&&l.size_c?l.size_c:""),")")),r.a.createElement("div",{className:"dropzone-error","data-dz-errormessage":!0},l&&l.error?l.error:"")),r.a.createElement("div",{className:"dropzone-toolbar"},r.a.createElement("span",{onClick:function(a){return e.handleFileRemove(a)},className:"dropzone-delete","data-dz-remove":!0},r.a.createElement("i",{className:"flaticon2-cross"})))))),r.a.createElement("span",{className:"form-text text-muted"},"Max file size is 2MB."))))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/cms",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Mm=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"CMS",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/cms",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(xm,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Dm=Object(B.o)(Mm);function Am(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}var Rm={},Lm={menu:function(e,a){return function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Am(Object(t),!0).forEach((function(a){Object(b.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Am(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},e,{zIndex:99})}},Im=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).fileChangedHandler=function(e){var a=e.target.files[0];if(t.setState({previewFile:URL.createObjectURL(a)}),void 0!=a){a.name_c=a.name;var n=t.state.cms;if(a.size_c=a.size/1024,a.size_c/1024>2)a.size_c=(a.size_c/1024).toFixed(2)+" MB",a.error="Error: File is too big",n.file={},t.setState({selectedFile:a});else{a.error=null,a.size_c=a.size_c.toFixed(2)+" KB";var r=new FileReader;r.readAsDataURL(a),r.onloadend=function(){n.file=r.result,t.setState({selectedFile:a,cms:n})}}}},t.handleFileRemove=function(e){var a=t.state.cms;delete a.file,t.setState({selectedFile:null,cms:a,previewFile:null}),document.getElementById("cms-image-upload").value=""};var n=t.props.data.match.params.cms_id;return t.state={validated:!1,cms:{id:n},selectedFile:null,previewFile:null,section:{value:""}},t.getCMS(n),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"selectSection",value:function(e,a){var t,n=this.state.cms;n.section=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"cms",n),t))}},{key:"getCMS",value:function(e){var a=this;be("cms/"+e+"/").then((function(e){var t=a.state.section;Ne.map((function(a){a.label===e.data.section&&(t={label:a.label,value:a.value},e.data.section=a.value)})),a.setState({cms:e.data,section:t,previewFile:e.data.media?oe+e.data.media.original_file_name:null}),a.setSelectfile()}))}},{key:"handleChange",value:function(e){var a=this.state.cms,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({cms:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),fe("cms/"+this.state.cms.id+"/",this.state.cms).then((function(e){a.setState({cms:e.data}),a.props.data.history.push("/admin/cms")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"setSelectfile",value:function(){if(this.state.cms.media){var e={},a=this.state.cms.media.original_file_name.split("/");e.name_c=a[a.length-1],this.setState({selectedFile:e})}}},{key:"render",value:function(){var e=this,a=this.state,t=a.cms,n=a.section,l=a.selectedFile;return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Page Url *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"cms",name:"url",value:t.url,onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Title"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"cms",name:"title",value:t.title,onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Sub Title"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"cms",name:"sub_title",value:t.sub_title,onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Section *"),r.a.createElement(nn.a,{value:n.value?n:"select...",model:"cms",name:"section",isClearable:!0,escapeClearsValue:!0,styles:Lm,onChange:function(a){return e.selectSection(a,"section")},options:Ne})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Custom Url"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"cms",name:"custom_url",value:t.custom_url,onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Content Body"),r.a.createElement(Cm.a,{editor:Om.a,config:Rm,data:t.body?t.body:"",onInit:function(e){},onChange:function(a,t){var n=t.getData();e.state.cms.body=n}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement("input",{accept:"image/*",style:{display:"none"},type:"file",id:"cms-image-upload",name:"image",onChange:this.fileChangedHandler}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"cms-image-upload"},r.a.createElement(Tc.a,{variant:"outlined",color:"inherit",component:"span"},"Select Image",r.a.createElement(xc.a,{style:{marginLeft:"5px"}}))),r.a.createElement("div",{className:"form-group form-group-last row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"dropzone dropzone-multi",id:"kt_dropzone_5"},r.a.createElement("div",{className:"dropzone-items",style:{display:l?"block":"none"}},r.a.createElement("div",{className:"dropzone-item"},r.a.createElement("div",{className:"dropzone-file"},this.state.previewFile&&r.a.createElement("div",{style:{"max-width":"250px"}},r.a.createElement("img",{style:{width:"100%"},src:this.state.previewFile})),r.a.createElement("div",{className:"dropzone-filename",title:"some_image_file_name.jpg"},r.a.createElement("span",{"data-dz-name":!0},l?l.name_c:"No file selected"),r.a.createElement("strong",null,l&&l.size_c?"("+l.size_c+")":"")),r.a.createElement("div",{className:"dropzone-error","data-dz-errormessage":!0},l&&l.error?l.error:"")),r.a.createElement("div",{className:"dropzone-toolbar"},r.a.createElement("span",{onClick:function(a){return e.handleFileRemove(a)},className:"dropzone-delete","data-dz-remove":!0},r.a.createElement("i",{className:"flaticon2-cross"})))))),r.a.createElement("span",{className:"form-text text-muted"},"Max file size is 2MB."))))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/cms",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Fm=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this,a=r.a.createElement(P.Link,{to:"/admin/cms",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"CMS",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},a))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Im,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Um=Object(B.o)(Fm),Gm=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,r=n.cms_id,l=n.type;return t.txt_weight={fontWeight:500},t.handleModalShow=t.handleModalShow.bind(Object(at.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.confirm=t.confirm.bind(Object(at.a)(t)),t.state={type:l,cms:{id:r},action:"",showModal:!1,created_at:"",updated_at:"",image:null,is_active:""},t.getCMS(r),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getCMS",value:function(e){var a=this;be("cms/"+e+"/").then((function(e){a.setState({created_at:e.data.created_at?(new Intl.DateTimeFormat).format(new Date(e.data.created_at)):"",updated_at:e.data.updated_at?(new Intl.DateTimeFormat).format(new Date(e.data.updated_at)):"",image:e.data.media?e.data.media.original_file_name:null,cms:e.data}),a.props.setTitle(e.data.title)}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.cms;n[a]=e,this.setState({cms:n}),fe("cms/"+this.state.cms.id+"/",this.state.cms).then((function(e){t.setState({cms:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalShow",value:function(e,a){var t=e.target.value;"status"===a&&(t=parseInt(t),this.setState({is_active:1===t?0:1})),this.setState({action:a}),this.setState({showModal:!0})}},{key:"handleModalClose",value:function(){this.setState({showModal:!1})}},{key:"confirm",value:function(){var e=this;"status"===this.state.action&&(this.state.cms.is_active=this.state.is_active,fe("cms/"+this.state.cms.id+"/",this.state.cms).then((function(a){delete a.data.type,e.setState({cms:a.data}),e.setState({showModal:!1})})).catch((function(a){e.props.sendError(a.response.data),e.setState({showModal:!1})})))}},{key:"render",value:function(){var e=this,a=this.state.cms;return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Page Url"),r.a.createElement("div",null,a.url?a.url:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Title"),r.a.createElement("div",null,a.title?a.title:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Sub Title"),r.a.createElement("div",null,a.sub_title?a.sub_title:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Section"),r.a.createElement("div",null,a.section?a.section:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Custom Url"),r.a.createElement("div",null,a.custom_url?a.custom_url:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Status"),r.a.createElement("div",null,r.a.createElement("span",{onClick:function(a){return e.handleModalShow(a,"status")},className:1===this.state.cms.is_active?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a.is_active?"defaultChecked":"",value:1===a.is_active?"1":"0",name:"is_active"}),r.a.createElement("span",null)))))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Content Body"),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.body}}))))),r.a.createElement(ut.a,{item:!0,xs:12,md:3},r.a.createElement("img",{style:{maxHeight:"220px",maxWidth:"200px"},src:this.state.image?oe+this.state.image:oe+"dummy_image.svg"}))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:this.confirm},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:this.handleModalClose},"No"))))}}]),a}(r.a.Component),Pm=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).setMainTitle=function(e){t.setState({title:e})};e.match.params.type;return t.state={errors:{},showError:!1,title:"CMS"},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.title,jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/cms",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/cms/"+this.props.match.params.cms_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Gm,{data:this.props,sendError:this.sendError,setTitle:this.setMainTitle}))))))}}]),a}(r.a.Component),zm=Object(B.o)(Pm),Vm=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),Hm={success:fa.a,warning:va.a,error:ga.a,info:_a.a},Bm=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function qm(e){var a=Bm(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=Hm[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var Wm=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),Ym=function(e){var a=Wm(),t=e.setMessageType,n=e.setMessage,l=e.setOpen,c=e.exportSpinner,s=e.setExpSpin,i=e.csvData,o=e.setCsvData,m=e.numSelected,d=e.type,u=e.selected,p=e.setSelected,h=e.setSelectedMany,E=e.setRowsData,f=e.rows,v=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,m>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},!d||"event"!==d&&"news"!==d?r.a.createElement("i",{className:"kt-font-brand flaticon2-start-up"}):r.a.createElement("i",{className:"kt-font-brand flaticon2-open-box"})),m>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},m," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},d.charAt(0).toUpperCase()+d.slice(1)," Categories")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},m>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(u.length){var a={ids:u};ge("category/"+u[0]+"/",a).then((function(e){for(var a in f)u.indexOf(f[a].id)>-1&&delete f[a];E(f),u.length=0,p(u),h(!1);var t=[];t.push(1),v(t),Xm(d)}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/"+d+"/category/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:Vm,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){s(""),be("category",{records:"all",type:d}).then((function(e){s("d-none"),o(e.data),document.getElementById("category-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+c})),r.a.createElement(Ha.CSVLink,{data:i,filename:"categories.csv",className:"d-none",id:"category-csv-btn",target:"_blank"})),r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement(St.a,{inputId:"category-csv-reader",cssClass:"kt-nav__link-text",cssInputClass:"d-none",label:"Import",onFileLoaded:function(e){return _e(e,"AbCategories").then((function(e){e.data.success?t("success"):t("error"),n(e.data.message),l(!0),Xm()}))}}))))))))))))},Jm=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),Km=t(36);function Xm(e){Km("#"+e+"_category").DataTable().ajax.reload(null,!1)}Km.DataTable=t(40);var Qm=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function Zm(e){console.log("component props ...",e);var a=Jm(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState([]),te=Object(H.a)(ae,2),ne=te[0],re=te[1],le=r.a.useState(!1),ce=Object(H.a)(le,2),se=ce[0],oe=ce[1],me=r.a.useState("d-none"),de=Object(H.a)(me,2),ue=de[0],pe=de[1],he=r.a.useState("success"),be=Object(H.a)(he,2),ve=be[0],_e=be[1],ye=r.a.useState({create:Ee("add_abcategories"),edit:Ee("change_abcategories"),delete:Ee("delete_abcategories"),view:Ee("view_abcategories")}),ke=Object(H.a)(ye,2),Ne=ke[0],Ce=(ke[1],Object(B.k)()),we="event";function Oe(e){S(!1)}function Se(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){e.location&&console.log(e.location),console.log("property changed",e.location)}),[e.location]),r.a.useEffect((function(){Km.fn.dataTable.isDataTable("#"+we+"_category")&&(Km("#"+we+"_category").DataTable().destroy(),oe(!0));return function(){y([]),Km("#"+we+"_category").DataTable().destroy(!0),oe(!0)}}),[]),r.a.useEffect((function(){if(se&&Km.fn.dataTable.isDataTable("#"+we+"_category"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{oe(!0);try{!function(){var a=ie+"category?type="+we+"&format=datatables",t=[{bVisible:!1,aTargets:[1]},{bVisible:!1,aTargets:[5]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:Te(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),Km("#"+we+"_category").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:Te(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return Ce.push("/admin/"+we+"/category/"+t.id)}},a),e)}},{targets:3,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return Se(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(Ne.create||Ne.edit)&&t.push({targets:4,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:Qm}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},Ne.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return Ce.push("/admin/"+we+"/category/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",Ne.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return Se(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});Km("#"+we+"_category").DataTable({responsive:{details:{renderer:Km.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,aoSearchCols:[null,null,null,null,null,{sSearch:we}],displayStart:za(we+"_category",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n     <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[4,"desc"]],columnDefs:t}),Km("#"+we+"_category").on("page.dt",(function(){Pa(Km("#"+we+"_category"),we+"_category",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var je=function(e,a){K(!1)},Te=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(Ym,{setMessageType:_e,setMessage:$,setOpen:K,exportSpinner:ue,setExpSpin:pe,csvData:ne,setCsvData:re,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,type:we}),r.a.createElement("div",{className:"kt-portlet__body"},Ne.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){Km("#"+we+"_category").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",Ne.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:we+"_category"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),Xm(we)},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions"),r.a.createElement("th",{"data-data":"type",className:"d-none"},"Type")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:Oe},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("category/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),Xm(we),K(!0);var t=1===e.data.is_active?"activated":"deactivated";_e("success"),$("Record successfully "+t)}))}else"delete"==R&&ge("category/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),Xm(we),K(!0),_e("success"),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:Oe},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:1500,onClose:je},r.a.createElement(qm,{onClose:je,variant:ve,message:Z})))}var $m=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),ed={success:fa.a,warning:va.a,error:ga.a,info:_a.a},ad=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function td(e){var a=ad(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=ed[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var nd=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),rd=function(e){var a=nd(),t=e.setMessageType,n=e.setMessage,l=e.setOpen,c=e.exportSpinner,s=e.setExpSpin,i=e.csvData,o=e.setCsvData,m=e.numSelected,d=e.selected,u=e.setSelected,p=e.setSelectedMany,h=e.setRowsData,E=e.rows,f=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,m>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon-event-calendar-symbol"})),m>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},m," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"Events")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},m>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(d.length){var a={ids:d};ge("events/"+d[0]+"/",a).then((function(e){for(var a in E)d.indexOf(E[a].id)>-1&&delete E[a];h(E),d.length=0,u(d),p(!1);var t=[];t.push(1),f(t),sd()}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/events/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:$m,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){s(""),be("events",{records:"all"}).then((function(e){var a=["continent","region","country","state","city","location"];s("d-none");var t=e.data.map((function(e,t){return a.map((function(a){e[a]=e[a]?e[a].name:e[a]})),e.categories=e.categories?e.categories.map((function(e){return e.name})).join():null,e}));o(t),document.getElementById("event-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+c})),r.a.createElement(Ha.CSVLink,{data:i,filename:"events.csv",className:"d-none",id:"event-csv-btn",target:"_blank"})),r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement(St.a,{inputId:"events-csv-reader",cssClass:"kt-nav__link-text",cssInputClass:"d-none",label:"Import",onFileLoaded:function(e){return _e(e,"AbEvents").then((function(e){e.data.success?t("success"):t("error"),n(e.data.message),l(!0),sd()}))}}))))))))))))},ld=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),cd=t(36);function sd(e){cd("#events").DataTable().ajax.reload(null,!1)}cd.DataTable=t(40);var id=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function od(e){var a=ld(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState([]),te=Object(H.a)(ae,2),ne=te[0],re=te[1],le=r.a.useState(!1),ce=Object(H.a)(le,2),se=ce[0],oe=ce[1],me=r.a.useState("d-none"),de=Object(H.a)(me,2),ue=de[0],pe=de[1],he=r.a.useState("success"),be=Object(H.a)(he,2),ve=be[0],_e=be[1],ye=r.a.useState({create:Ee("add_abevents"),edit:Ee("change_abevents"),delete:Ee("delete_abevents"),view:Ee("view_abevents")}),ke=Object(H.a)(ye,2),Ne=ke[0],Ce=(ke[1],Object(B.k)());function we(e){S(!1)}function Oe(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){cd.fn.dataTable.isDataTable("#events")&&(cd("#events").DataTable().destroy(),oe(!0));return function(){y([]),cd("#events").DataTable().destroy(!0),oe(!0)}}),[]),r.a.useEffect((function(){if(se&&cd.fn.dataTable.isDataTable("#events"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{oe(!0);try{!function(){var a=ie+"events?format=datatables",t=[{bVisible:!1,aTargets:[1]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:je(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),cd("#events").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:je(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{onClick:function(){return Ce.push("/admin/events/"+t.id)}},a),e)}},{targets:6,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return Oe(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(Ne.create||Ne.edit)&&t.push({targets:7,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:id}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},Ne.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return Ce.push("/admin/events/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",Ne.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return Oe(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});cd("#events").DataTable({responsive:{details:{renderer:cd.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("events",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){var n="";a.categories.map((function(e,a){a<2?n+=e.name+", ":2===a&&(n+=" ...")})),e[t].categories__name=n,e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n         <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[6,"desc"]],columnDefs:t}),cd("#events").on("page.dt",(function(){Pa(cd("#events"),"events",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var Se=function(e,a){K(!1)},je=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(rd,{setMessageType:_e,setMessage:$,setOpen:K,exportSpinner:ue,setExpSpin:pe,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,csvData:ne,setCsvData:re}),r.a.createElement("div",{className:"kt-portlet__body"},Ne.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){cd("#events").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",Ne.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"events"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),sd()},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"title"},"Name"),r.a.createElement("th",{"data-data":"categories__name"},"Category"),r.a.createElement("th",{"data-data":"start_date"},"Start Date"),r.a.createElement("th",{"data-data":"end_date"},"End Date"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:we},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("events/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),sd(),K(!0);var t=1===e.data.is_active?"activated":"deactivated";_e("success"),$("Record successfully "+t)}))}else"delete"==R&&ge("events/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),sd(),K(!0),_e("success"),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:we},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:1500,onClose:Se},r.a.createElement(td,{onClose:Se,variant:ve,message:Z})))}var md=t(132),dd=t.n(md),ud=t(183);function pd(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}var hd={},Ed={menu:function(e,a){return function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?pd(Object(t),!0).forEach((function(a){Object(b.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pd(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},e,{zIndex:99})}},bd=Object(Wi.a)({palette:{primary:dd.a},props:{MuiInput:{disableUnderline:!0},MuiTextField:{style:{display:"block"}},MuiInputBase:{style:{display:"block"},disableUnderline:!0,inputProps:{style:{display:"block",height:"calc(1.5em + 1.3rem + 2px)",padding:"0.65rem 1rem",fontSize:"1rem",fontWeight:"400",lineHeight:"1.5",color:"#495057",backgroundColor:"#fff",backgroundClip:"padding-box",border:"1px solid #e2e5ec",borderRadius:"4px",transition:"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out",boxSizing:"border-box"}}}}}),fd=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).fileChangedHandler=function(e){var a=t.state._event,n=e.target.files[0];if(t.setState({previewFile:URL.createObjectURL(n)}),void 0!=n)if(n.size_c=n.size/1024,n.size_c/1024>2)n.size_c=(n.size_c/1024).toFixed(2)+" MB",n.error="Error: File is too big",a.file={},t.setState({selectedFile:n});else{n.error=null,n.size_c=n.size_c.toFixed(2)+" KB";var r=new FileReader;r.readAsDataURL(n),r.onloadend=function(){a.file=r.result,t.setState({selectedFile:n,_event:a})}}},t.handleFileRemove=function(e){var a=t.state._event;a.file={},t.setState({selectedFile:null,_event:a}),document.getElementById("_event-image-upload").value=""},t.clearForm=function(e){t.props.data.history.replace("/admin/events"),t.props.data.history.replace("/admin/events/create")},t.state={_event:{is_active:0,start_date:le()(new Date).format("YYYY-MM-DD"),end_date:le()(new Date).format("YYYY-MM-DD")},validated:!1,action:"",categories:[],selected_category:[],continents:[],selected_continent:{value:""},regions:[],selected_region:{value:""},countries:[],selected_country:{value:""},selected_city:{value:""},selectedFile:null,previewFile:null,startDate:new Date,endDate:new Date,selected_state:{value:""},modelsLoaded:!1},t.loadModels(),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"loadModels",value:function(){ve("abmodels",{models:{AbCategories:{type:"event"},AbContinents:{}}}).then(function(e){var a=function(a){e.data[a].map((function(t,n){e.data[a][n].label=t.name,e.data[a][n].value=t.id}))};for(var t in e.data)a(t);this.setState({categories:e.data.AbCategories,continents:e.data.AbContinents,modelsLoaded:!0})}.bind(this))}},{key:"selectChange",value:function(e,a){var t,n=this.state._event;if(n[a]=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,"selected_"+a,e||""),Object(b.a)(t,"_event",n),t)),["continent","region","country","state"].indexOf(a)>-1&&e){var r="",l="",c={};"continent"===a?(c={AbRegions:{continent_id:e.id}},r="region",l="regions"):"region"===a?(c={AbCountries:{region_id:e.id}},r="country",l="countries"):"country"===a?(c={AbStates:{country_id:e.id}},r="state",l="states"):"state"===a&&(c={AbCities:{state_id:e.id}},r="city",l="cities"),ve("abmodels",{models:c}).then(function(e){var a=this,t={},n=function(n){var c;e.data[n].map((function(r,c){e.data[n][c].label=r.name,e.data[n][c].value=r.id,void 0!=a.state._event[l]&&r.id===a.state._event[l].id&&(t=r)})),a.setState((c={},Object(b.a)(c,l,e.data[n]),Object(b.a)(c,"selected_"+r,t),c))};for(var c in e.data)n(c)}.bind(this))}}},{key:"selectCategory",value:function(e,a){var t,n=this.state._event;for(var r in n.categories=[],e)n.categories.push(e[r].id);this.setState((t={},Object(b.a)(t,a,e),Object(b.a)(t,"_event",n),t))}},{key:"handleChange",value:function(e,a){var t=this.state._event;if("start_date"!==a&&"end_date"!==a)var n=e.target.name,r=e.target.value;else{n=a,r=le()(e).format("YYYY-MM-DD");"start_date"===a?(this.setState({startDate:e}),this.setState({endDate:e}),t.end_date=r):this.setState({endDate:e})}"is_active"===n&&(r=parseInt(r)),"website"===n&&-1===r.indexOf("http:")&&-1===r.indexOf("https:")&&(r="http://"+r),t[n]=r,this.setState({_event:t})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),ve("events",this.state._event).then((function(e){a.setState({_event:e.data,alert_status:"show"}),"save_new"==a.state.action?a.clearForm("parts-form"):a.props.data.history.push("/admin/events")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.modelsLoaded,n=a._event,l=a.states,c=a.selected_state,s=a.cities,i=a.selected_city,o=(a.categories,a.selected_category),m=a.continents,d=a.selected_continent,u=a.regions,p=a.selected_region,h=a.countries,E=a.selected_country,b=a.startDate,f=a.endDate,v=a.selectedFile;return r.a.createElement(mt.a,{noValidate:!0,id:"events-form",onSubmit:function(a){return e.handleSubmit(a)}},"show"===this.state.alert_status?r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"9",xs:"12"}),r.a.createElement(mt.a.Group,{as:dt.a,md:"3",xs:"12"},r.a.createElement(ud.a,{variant:"success"},"Successfully Created"))):"",r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Title *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"events",name:"title",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Start Date"),r.a.createElement(Yi.a,{theme:bd},r.a.createElement(Bi.a,{utils:Hi.a},r.a.createElement(qi.a,{format:"dd/MM/yyyy",minDate:new Date,disablePast:!0,name:"start_date",value:b,onChange:function(a){return e.handleChange(a,"start_date")}})))),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"End Date"),r.a.createElement(Yi.a,{theme:bd},r.a.createElement(Bi.a,{utils:Hi.a},r.a.createElement(qi.a,{format:"dd/MM/yyyy",minDate:b||new Date,disablePast:!0,name:"end_date",value:f,onChange:function(a){return e.handleChange(a,"end_date")}}))))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Category *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,required:!0,model:"categories",value:o.value?o:"select...",name:"category",isMulti:!0,loadOptions:function(a,t){return Pe(a,t,e.state.categories,e.state.modelsLoaded)},onChange:function(a){return e.selectCategory(a,"selected_category")}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Continent *"),r.a.createElement(nn.a,{required:!0,value:d.value?d:"select...",model:"continents",name:"continent",isClearable:!0,escapeClearsValue:!0,styles:Ed,onChange:function(a){return e.selectChange(a,"continent")},options:m})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Region *"),r.a.createElement(nn.a,{required:!0,value:p.value?p:"select...",model:"regions",name:"region",isClearable:!0,escapeClearsValue:!0,styles:Ed,onChange:function(a){return e.selectChange(a,"region")},options:u})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Country *"),r.a.createElement(nn.a,{value:E.value?E:"select...",model:"countries",name:"country",isClearable:!0,escapeClearsValue:!0,styles:Ed,onChange:function(a){return e.selectChange(a,"country")},options:h}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"State"),r.a.createElement(nn.a,{value:c.value?c:"select...",model:"states",name:"state",isClearable:!0,escapeClearsValue:!0,styles:Ed,onChange:function(a){return e.selectChange(a,"state")},options:l})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"City"),r.a.createElement(nn.a,{value:i.value?i:"select...",model:"cities",name:"city",isClearable:!0,escapeClearsValue:!0,styles:Ed,onChange:function(a){return e.selectChange(a,"city")},options:s})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Website"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"events",name:"website",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Location (Latitude and Longitude)"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"events",name:"location",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Event Address"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"events",name:"address",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Details"),r.a.createElement(Cm.a,{editor:Om.a,config:hd,onInit:function(e){},onChange:function(a,t){var n=t.getData();e.state._event.details=n}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement("input",{accept:"image/*",style:{display:"none"},type:"file",id:"_event-image-upload",name:"image",onChange:this.fileChangedHandler}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"_event-image-upload"},r.a.createElement(Tc.a,{variant:"outlined",color:"inherit",component:"span"},"Select Image",r.a.createElement(xc.a,{style:{marginLeft:"5px"}}))),r.a.createElement("div",{className:"form-group form-group-last row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"dropzone dropzone-multi",id:"kt_dropzone_5"},r.a.createElement("div",{className:"dropzone-items",style:{display:v?"block":"none"}},r.a.createElement("div",{className:"dropzone-item"},r.a.createElement("div",{className:"dropzone-file"},this.state.previewFile&&r.a.createElement("div",{style:{"max-width":"250px"}},r.a.createElement("img",{style:{width:"100%"},src:this.state.previewFile})),r.a.createElement("div",{className:"dropzone-filename",title:"some_image_file_name.jpg"},r.a.createElement("span",{"data-dz-name":!0},v?v.name:"No file selected"),r.a.createElement("strong",null,"(",r.a.createElement("span",{"data-dz-size":!0},v&&v.size_c?v.size_c:""),")")),r.a.createElement("div",{className:"dropzone-error","data-dz-errormessage":!0},v&&v.error?v.error:"")),r.a.createElement("div",{className:"dropzone-toolbar"},r.a.createElement("span",{onClick:function(a){return e.handleFileRemove(a)},className:"dropzone-delete","data-dz-remove":!0},r.a.createElement("i",{className:"flaticon2-cross"})))))),r.a.createElement("span",{className:"form-text text-muted"},"Max file size is 2MB."))))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===n.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/events",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),vd=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Events",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/events",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(fd,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),gd=Object(B.o)(vd);function _d(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}var yd=Object(Wi.a)({palette:{primary:dd.a},props:{MuiInput:{disableUnderline:!0},MuiTextField:{style:{display:"block"}},MuiInputBase:{style:{display:"block"},disableUnderline:!0,inputProps:{style:{display:"block",height:"calc(1.5em + 1.3rem + 2px)",padding:"0.65rem 1rem",fontSize:"1rem",fontWeight:"400",lineHeight:"1.5",color:"#495057",backgroundColor:"#fff",backgroundClip:"padding-box",border:"1px solid #e2e5ec",borderRadius:"4px",transition:"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out",boxSizing:"border-box"}}}}}),kd={},Nd={menu:function(e,a){return function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?_d(Object(t),!0).forEach((function(a){Object(b.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_d(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},e,{zIndex:99})}},Cd=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).fileChangedHandler=function(e){var a=e.target.files[0];if(t.setState({previewFile:URL.createObjectURL(a)}),void 0!=a){a.name_c=a.name;var n=t.state._event;if(a.size_c=a.size/1024,a.size_c/1024>2)a.size_c=(a.size_c/1024).toFixed(2)+" MB",a.error="Error: File is too big",n.file={},t.setState({selectedFile:a});else{a.error=null,a.size_c=a.size_c.toFixed(2)+" KB";var r=new FileReader;r.readAsDataURL(a),r.onloadend=function(){n.file=r.result,t.setState({selectedFile:a,_event:n})}}}},t.handleFileRemove=function(e){var a=t.state._event;delete a.file,t.setState({selectedFile:null,_event:a,previewFile:null}),document.getElementById("_event-image-upload").value=""};var n=t.props.data.match.params.event_id;return t.state={validated:!1,_event:{id:n},categories:[],category:[],continents:[],continent:{label:"Select Continent",value:null},regions:[],region:{label:"Select Region",value:null},countries:[],country:{label:"Select Country",value:null},states:[],state:{label:"Select State",value:null},cities:[],city:{label:"Select City",value:null},selectedFile:null,previewFile:null,modelsLoaded:!1},t.getEvents(n),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getEvents",value:function(e){var a=this;be("events/"+e+"/").then((function(e){var t=[],n=[];for(var r in e.data.categories)t.push({id:e.data.categories[r].id,label:e.data.categories[r].name}),n.push(e.data.categories[r].id);e.data.categories=n;var l=e.data.website;l&&-1===l.indexOf("http:")&&-1===l.indexOf("https:")&&(l="http://"+l,e.data.website=l),a.setState({_event:e.data,category:t,previewFile:e.data.media?oe+e.data.media.original_file_name:null}),a.setSelectfile(),a.loadModels()}))}},{key:"loadModels",value:function(){var e=this.state._event,a={AbCategories:{type:"event"},AbContinents:{},AbRegions:{continent_id:e.continent&&e.continent.id?e.continent.id:null},AbCountries:{region_id:e.region&&e.region.id?e.region.id:null},AbStates:{country_id:e.country&&e.country.id?e.country.id:null},AbCities:{state_id:e.state&&e.state.id?e.state.id:null}},t={AbContinents:["continent"],AbCountries:["country"],AbRegions:["region"],AbStates:["state"],AbCities:["city"]};ve("abmodels",{models:a}).then(function(a){var n={},r=function(r){a.data[r].map((function(l,c){a.data[r][c].label=l.name,a.data[r][c].value=l.id,Object.keys(t).map((function(a,c){t[a].map((function(t,c){r===a&&null!==e[t]&&void 0!==e[t].id&&e[t].id===l.id&&(n[t]=l)}))}))}))};for(var l in a.data)r(l);n.countries=a.data.AbCountries,n.continents=a.data.AbContinents,n.regions=a.data.AbRegions,n.states=a.data.AbStates,n.cities=a.data.AbCities,n.categories=a.data.AbCategories,n.modelsLoaded=!0,this.setState(n)}.bind(this))}},{key:"selectChange",value:function(e,a){var t,n=this.state._event;if(n[a]=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"_event",n),t)),["continent","region","country","state"].indexOf(a)>-1&&e){var r="",l="",c={};"continent"===a?(c={AbRegions:{continent_id:e.id}},r="region",l="regions"):"region"===a?(c={AbCountries:{region_id:e.id}},r="country",l="countries"):"country"===a?(c={AbStates:{country_id:e.id}},r="state",l="states"):"state"===a&&(c={AbCities:{state_id:e.id}},r="city",l="cities"),ve("abmodels",{models:c}).then(function(e){var a=this,t={},n=function(n){var c;e.data[n].map((function(r,c){e.data[n][c].label=r.name,e.data[n][c].value=r.id,void 0!=a.state._event[l]&&r.id===a.state._event[l].id&&(t=r)})),a.setState((c={},Object(b.a)(c,l,e.data[n]),Object(b.a)(c,r,t),c))};for(var c in e.data)n(c)}.bind(this))}}},{key:"selectCategory",value:function(e,a){var t,n=this.state._event;for(var r in n.categories=[],e)n.categories.push(e[r].id);this.setState((t={},Object(b.a)(t,a,e),Object(b.a)(t,"_event",n),t))}},{key:"handleChange",value:function(e,a){var t=this.state._event;if("start_date"!==a&&"end_date"!==a)var n=e.target.name,r=e.target.value;else{n=a,r=le()(e).format("YYYY-MM-DD");"start_date"===a?(this.setState({startDate:e}),this.setState({endDate:e}),t.end_date=r):this.setState({endDate:e})}"is_active"===n&&(r=parseInt(r)),t[n]=r,this.setState({_event:t})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),this.checkDataFormat(),fe("events/"+this.state._event.id+"/",this.state._event).then((function(e){a.setState({_event:e.data}),a.props.data.history.push("/admin/events")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"checkDataFormat",value:function(){var e=this,a=this.state._event;["continent","region","country","state","city"].map((function(t,n){a[t]=e.state[t].value})),this.setState({_event:a})}},{key:"setSelectfile",value:function(){if(this.state._event.media){var e={},a=this.state._event.media.original_file_name.split("/");e.name_c=a[a.length-1],this.setState({selectedFile:e})}}},{key:"render",value:function(){var e=this,a=this.state,t=(a.modelsLoaded,a._event),n=a.countries,l=a.country,c=(a.categories,a.category),s=a.continents,i=a.continent,o=a.regions,m=a.region,d=a.states,u=a.state,p=a.cities,h=a.city,E=a.selectedFile,b=a.startDate,f=a.endDate;return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Title *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"events",name:"title",value:t.title,onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Start Date"),r.a.createElement(Yi.a,{theme:yd},r.a.createElement(Bi.a,{utils:Hi.a},r.a.createElement(qi.a,{format:"dd/MM/yyyy",minDate:t.start_date?t.start_date:new Date,name:"start_date",value:t.start_date,onChange:function(a){return e.handleChange(a,"start_date")}})))),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"End Date"),r.a.createElement(Yi.a,{theme:yd},r.a.createElement(Bi.a,{utils:Hi.a},r.a.createElement(qi.a,{format:"dd/MM/yyyy",minDate:b||t.end_date,name:"end_date",value:f||t.end_date,onChange:function(a){return e.handleChange(a,"end_date")}}))))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Category *"),r.a.createElement(rn.a,{required:!0,model:"categories",value:c||"select...",name:"category",isMulti:!0,loadOptions:function(a,t){return Pe(a,t,e.state.categories,e.state.modelsLoaded)},onChange:function(a){return e.selectCategory(a,"category")}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Continent *"),r.a.createElement(nn.a,{required:!0,value:i.value?i:"select...",model:"continents",name:"continent",isClearable:!0,escapeClearsValue:!0,styles:Nd,onChange:function(a){return e.selectChange(a,"continent")},options:s})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Region *"),r.a.createElement(nn.a,{required:!0,value:m.value?m:"select...",model:"regions",name:"region",isClearable:!0,escapeClearsValue:!0,styles:Nd,onChange:function(a){return e.selectChange(a,"region")},options:o})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Country *"),r.a.createElement(nn.a,{value:l.value?l:"select...",model:"countries",name:"country",isClearable:!0,escapeClearsValue:!0,styles:Nd,onChange:function(a){return e.selectChange(a,"country")},options:n}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"State"),r.a.createElement(nn.a,{value:u.value?u:"select...",model:"states",name:"state",isClearable:!0,escapeClearsValue:!0,styles:Nd,onChange:function(a){return e.selectChange(a,"state")},options:d})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"City"),r.a.createElement(nn.a,{value:h.value?h:"select...",model:"cities",name:"city",isClearable:!0,escapeClearsValue:!0,styles:Nd,onChange:function(a){return e.selectChange(a,"city")},options:p})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Website"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"_event",name:"website",value:t.website,onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Location (Latitude and Longitude)"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"_event",name:"location",value:t.location,onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Event Address"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"_event",name:"address",value:t.address,onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Details"),r.a.createElement(Cm.a,{editor:Om.a,config:kd,data:t.details?t.details:"",onInit:function(e){},onChange:function(a,t){var n=t.getData();e.state._event.details=n}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement("input",{accept:"image/*",style:{display:"none"},type:"file",id:"_event-image-upload",name:"image",onChange:this.fileChangedHandler}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"_event-image-upload"},r.a.createElement(Tc.a,{variant:"outlined",color:"inherit",component:"span"},"Select Image",r.a.createElement(xc.a,{style:{marginLeft:"5px"}}))),r.a.createElement("div",{className:"form-group form-group-last row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"dropzone dropzone-multi",id:"kt_dropzone_5"},r.a.createElement("div",{className:"dropzone-items",style:{display:E?"block":"none"}},r.a.createElement("div",{className:"dropzone-item"},r.a.createElement("div",{className:"dropzone-file"},this.state.previewFile&&r.a.createElement("div",{style:{"max-width":"250px"}},r.a.createElement("img",{style:{width:"100%"},src:this.state.previewFile})),r.a.createElement("div",{className:"dropzone-filename",title:"some_image_file_name.jpg"},r.a.createElement("span",{"data-dz-name":!0},E?E.name_c:"No file selected"),r.a.createElement("strong",null,E&&E.size_c?"("+E.size_c+")":"")),r.a.createElement("div",{className:"dropzone-error","data-dz-errormessage":!0},E&&E.error?E.error:"")),r.a.createElement("div",{className:"dropzone-toolbar"},r.a.createElement("span",{onClick:function(a){return e.handleFileRemove(a)},className:"dropzone-delete","data-dz-remove":!0},r.a.createElement("i",{className:"flaticon2-cross"})))))),r.a.createElement("span",{className:"form-text text-muted"},"Max file size is 2MB."))))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/events",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),wd=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this,a=r.a.createElement(P.Link,{to:"/admin/events",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Event",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},a))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Cd,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Od=Object(B.o)(wd),Sd=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,r=n.event_id,l=n.type;return t.txt_weight={fontWeight:500},t.handleModalShow=t.handleModalShow.bind(Object(at.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.confirm=t.confirm.bind(Object(at.a)(t)),t.state={type:l,events:{id:r},action:"",showModal:!1,created_at:"",updated_at:"",image:null,is_active:""},t.getEvents(r),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getEvents",value:function(e){var a=this;be("events/"+e+"/").then((function(e){delete e.data.type;var t,n,r=[],l=[];for(var c in e.data.categories)r.push(e.data.categories[c].name+", "),l.push(e.data.categories[c].id);delete e.data.categories,e.data.categories=l,t=e.data.region.name,e.data.region=e.data.region.id,n=e.data.continent.name,e.data.continent=e.data.continent.id,a.setState({created_at:(new Intl.DateTimeFormat).format(new Date(e.data.created_at)),updated_at:(new Intl.DateTimeFormat).format(new Date(e.data.updated_at)),image:e.data.media?e.data.media.original_file_name:null,events:e.data,selected_categories:r,selected_region:t,selected_continent:n}),a.props.setTitle(e.data.title)}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.events;n[a]=e,this.setState({events:n}),fe("events/"+this.state.events.id+"/",this.state.events).then((function(e){t.setState({events:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalShow",value:function(e,a){var t=e.target.value;"status"===a&&(t=parseInt(t),this.setState({is_active:1===t?0:1})),this.setState({action:a}),this.setState({showModal:!0})}},{key:"handleModalClose",value:function(){this.setState({showModal:!1})}},{key:"confirm",value:function(){var e=this;"status"===this.state.action&&(this.state.events.is_active=this.state.is_active,fe("events/"+this.state.events.id+"/",this.state.events).then((function(a){delete a.data.type,e.setState({events:a.data}),e.setState({showModal:!1})})).catch((function(a){e.props.sendError(a.response.data),e.setState({showModal:!1})})))}},{key:"render",value:function(){var e=this,a=this.state,t=a.selected_region,n=a.events,l=a.selected_categories,c=a.selected_continent,s=n.website;return s&&-1===s.indexOf("http:")&&-1===s.indexOf("https:")&&(s="http://"+s),r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Name"),r.a.createElement("div",null,n.title?n.title:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Category"),r.a.createElement("div",null,l||"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Start Date"),r.a.createElement("div",null,n.start_date?n.start_date:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"End Date"),r.a.createElement("div",null,n.end_date?n.end_date:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Continent"),r.a.createElement("div",null,c||"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Region"),r.a.createElement("div",null,t||"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Country"),r.a.createElement("div",null,n.country?n.country.name:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"State"),r.a.createElement("div",null,n.state?n.state.name:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"City"),r.a.createElement("div",null,n.city?n.city.name:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Website"),r.a.createElement("div",null,n.website?r.a.createElement("a",{target:"_blank",href:s},n.website):"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Location (Latitude and Longitude)"),r.a.createElement("div",null,n.location?n.location:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Created"),r.a.createElement("div",null,this.state.created_at))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Modified"),r.a.createElement("div",null,this.state.updated_at)),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Status"),r.a.createElement("div",null,r.a.createElement("span",{onClick:function(a){return e.handleModalShow(a,"status")},className:1===this.state.events.is_active?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===n.is_active?"defaultChecked":"",value:1===n.is_active?"1":"0",name:"is_active"}),r.a.createElement("span",null)))))))),r.a.createElement(ut.a,{item:!0,xs:12,md:3},r.a.createElement("img",{style:{maxHeight:"220px",maxWidth:"200px"},src:this.state.image?oe+this.state.image:oe+"dummy_image.svg"}))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:this.confirm},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:this.handleModalClose},"No"))))}}]),a}(r.a.Component),jd=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).setMainTitle=function(e){t.setState({title:e})};e.match.params.type;return t.state={errors:{},showError:!1,title:"Events"},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.title,jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/events",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/events/"+this.props.match.params.event_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Sd,{data:this.props,sendError:this.sendError,setTitle:this.setMainTitle}))))))}}]),a}(r.a.Component),Td=Object(B.o)(jd),xd=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),Md={success:fa.a,warning:va.a,error:ga.a,info:_a.a},Dd=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function Ad(e){var a=Dd(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=Md[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var Rd=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),Ld=function(e){var a=Rd(),t=e.setMessageType,n=e.setMessage,l=e.setOpen,c=e.exportSpinner,s=e.setExpSpin,i=e.csvData,o=e.setCsvData,m=e.numSelected,d=e.type,u=e.selected,p=e.setSelected,h=e.setSelectedMany,E=e.setRowsData,f=e.rows,v=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,m>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},!d||"event"!==d&&"news"!==d?r.a.createElement("i",{className:"kt-font-brand flaticon2-start-up"}):r.a.createElement("i",{className:"kt-font-brand flaticon2-open-box"})),m>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},m," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},d.charAt(0).toUpperCase()+d.slice(1)," Categories")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},m>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(u.length){var a={ids:u};ge("category/"+u[0]+"/",a).then((function(e){for(var a in f)u.indexOf(f[a].id)>-1&&delete f[a];E(f),u.length=0,p(u),h(!1);var t=[];t.push(1),v(t),Ud(d)}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/"+d+"/category/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:xd,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){s(""),be("category",{records:"all",type:d}).then((function(e){s("d-none"),o(e.data),document.getElementById("category-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+c})),r.a.createElement(Ha.CSVLink,{data:i,filename:"categories.csv",className:"d-none",id:"category-csv-btn",target:"_blank"})),r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement(St.a,{inputId:"category-csv-reader",cssClass:"kt-nav__link-text",cssInputClass:"d-none",label:"Import",onFileLoaded:function(e){return _e(e,"AbCategories").then((function(e){e.data.success?t("success"):t("error"),n(e.data.message),l(!0),Ud()}))}}))))))))))))},Id=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),Fd=t(36);function Ud(e){Fd("#"+e+"_category").DataTable().ajax.reload(null,!1)}Fd.DataTable=t(40);var Gd=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function Pd(e){console.log("component props ...",e);var a=Id(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState([]),te=Object(H.a)(ae,2),ne=te[0],re=te[1],le=r.a.useState(!1),ce=Object(H.a)(le,2),se=ce[0],oe=ce[1],me=r.a.useState("d-none"),de=Object(H.a)(me,2),ue=de[0],pe=de[1],he=r.a.useState("success"),be=Object(H.a)(he,2),ve=be[0],_e=be[1],ye=r.a.useState({create:Ee("add_abcategories"),edit:Ee("change_abcategories"),delete:Ee("delete_abcategories"),view:Ee("view_abcategories")}),ke=Object(H.a)(ye,2),Ne=ke[0],Ce=(ke[1],Object(B.k)()),we="news";function Oe(e){S(!1)}function Se(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){e.location&&console.log(e.location),console.log("property changed",e.location)}),[e.location]),r.a.useEffect((function(){Fd.fn.dataTable.isDataTable("#"+we+"_category")&&(Fd("#"+we+"_category").DataTable().destroy(),oe(!0));return function(){y([]),Fd("#"+we+"_category").DataTable().destroy(!0),oe(!0)}}),[]),r.a.useEffect((function(){if(se&&Fd.fn.dataTable.isDataTable("#"+we+"_category"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{oe(!0);try{!function(){var a=ie+"category?type="+we+"&format=datatables",t=[{bVisible:!1,aTargets:[1]},{bVisible:!1,aTargets:[5]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:Te(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),Fd("#"+we+"_category").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:Te(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return Ce.push("/admin/"+we+"/category/"+t.id)}},a),e)}},{targets:3,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return Se(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(Ne.create||Ne.edit)&&t.push({targets:4,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:Gd}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},Ne.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return Ce.push("/admin/"+we+"/category/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",Ne.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return Se(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});Fd("#"+we+"_category").DataTable({responsive:{details:{renderer:Fd.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,aoSearchCols:[null,null,null,null,null,{sSearch:we}],displayStart:za(we+"_category",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n     <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[4,"desc"]],columnDefs:t}),Fd("#"+we+"_category").on("page.dt",(function(){Pa(Fd("#"+we+"_category"),we+"_category",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var je=function(e,a){K(!1)},Te=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(Ld,{setMessageType:_e,setMessage:$,setOpen:K,exportSpinner:ue,setExpSpin:pe,csvData:ne,setCsvData:re,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,type:we}),r.a.createElement("div",{className:"kt-portlet__body"},Ne.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){Fd("#"+we+"_category").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",Ne.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:we+"_category"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),Ud(we)},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions"),r.a.createElement("th",{"data-data":"type",className:"d-none"},"Type")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:Oe},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("category/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),Ud(we),K(!0);var t=1===e.data.is_active?"activated":"deactivated";_e("success"),$("Record successfully "+t)}))}else"delete"==R&&ge("category/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),Ud(we),K(!0),_e("success"),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:Oe},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:1500,onClose:je},r.a.createElement(Ad,{onClose:je,variant:ve,message:Z})))}r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))}));var zd={success:fa.a,warning:va.a,error:ga.a,info:_a.a},Vd=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function Hd(e){var a=Vd(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=zd[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var Bd=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),qd=function(e){var a=Bd(),t=e.numSelected,n=e.type,l=e.selected,c=e.setSelected,s=e.setSelectedMany,i=e.setRowsData,o=e.rows,m=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,t>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon2-open-text-book"})),t>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},t," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"News")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},t>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(l.length){var a={ids:l};ge("news/"+l[0]+"/",a).then((function(e){for(var a in o)l.indexOf(o[a].id)>-1&&delete o[a];i(o),l.length=0,c(l),s(!1);var t=[];t.push(1),m(t),Jd(n)}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/news/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record")))))))},Wd=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),Yd=t(36);function Jd(e){Yd("#news").DataTable().ajax.reload(null,!1)}Yd.DataTable=t(40);var Kd=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function Xd(e){var a=Wd(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState(!1),te=Object(H.a)(ae,2),ne=te[0],re=te[1],ce=r.a.useState({create:Ee("add_abnews"),edit:Ee("change_abnews"),delete:Ee("delete_abnews"),view:Ee("view_abnews")}),se=Object(H.a)(ce,2),oe=se[0],me=(se[1],Object(B.k)()),de=e.match.params.type;function ue(e){S(!1)}function pe(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){Yd.fn.dataTable.isDataTable("#news")&&(Yd("#news").DataTable().destroy(),re(!0));return function(){y([]),Yd("#news").DataTable().destroy(!0),re(!0)}}),[]),r.a.useEffect((function(){if(ne&&Yd.fn.dataTable.isDataTable("#news"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{re(!0);try{!function(){var a=ie+"news?format=datatables",t=[{bVisible:!1,aTargets:[1]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:be(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),Yd("#news").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:be(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{onClick:function(){return me.push("/admin/news/"+t.id)}},a),e)}},{targets:5,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return pe(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(oe.create||oe.edit)&&t.push({targets:6,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:Kd}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},oe.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return me.push("/admin/news/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",oe.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return pe(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});Yd("#news").DataTable({responsive:{details:{renderer:Yd.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("news",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){a.company?e[t].company__name=a.company.name:e[t].company__name="",e[t].date=le()(a.date).format("YYYY/MM/DD"),e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n         <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[5,"desc"]],columnDefs:t}),Yd("#news").on("page.dt",(function(){Pa(Yd("#news"),"news",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var he=function(e,a){K(!1)},be=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(qd,{setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,type:de}),r.a.createElement("div",{className:"kt-portlet__body"},oe.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){Yd("#news").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",oe.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"news"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),Jd()},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"title"},"Name"),r.a.createElement("th",{"data-data":"company__name"},"Company"),r.a.createElement("th",{"data-data":"date"},"Date"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:ue},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("news/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),Jd(),K(!0);var t=1===e.data.is_active?"activated":"deactivated";$("Record successfully "+t)}))}else"delete"==R&&ge("news/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),Jd(),K(!0),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:ue},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:16e5,onClose:he},r.a.createElement(Hd,{onClose:he,variant:"success",message:Z})))}function Qd(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}var Zd=Object(Wi.a)({props:{MuiInput:{disableUnderline:!0},MuiTextField:{style:{display:"block"}},MuiInputBase:{style:{display:"block"},disableUnderline:!0,inputProps:{style:{display:"block",height:"calc(1.5em + 1.3rem + 2px)",padding:"0.65rem 1rem",fontSize:"1rem",fontWeight:"400",lineHeight:"1.5",color:"#495057",backgroundColor:"#fff",backgroundClip:"padding-box",border:"1px solid #e2e5ec",borderRadius:"4px",transition:"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out",boxSizing:"border-box"}}}}}),$d={},eu={menu:function(e,a){return function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Qd(Object(t),!0).forEach((function(a){Object(b.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Qd(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},e,{zIndex:99})}},au=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).fileChangedHandler=function(e){var a=t.state.news,n=e.target.files[0];if(t.setState({previewFile:URL.createObjectURL(n)}),void 0!=n)if(n.size_c=n.size/1024,n.size_c/1024>2)n.size_c=(n.size_c/1024).toFixed(2)+" MB",n.error="Error: File is too big",a.file={},t.setState({selectedFile:n});else{n.error=null,n.size_c=n.size_c.toFixed(2)+" KB";var r=new FileReader;r.readAsDataURL(n),r.onloadend=function(){a.file=r.result,t.setState({selectedFile:n,news:a})}}},t.handleFileRemove=function(e){var a=t.state.news;a.file={},t.setState({selectedFile:null,news:a}),document.getElementById("news-image-upload").value=""},t.clearForm=function(e){t.props.data.history.replace("/admin/news"),t.props.data.history.replace("/admin/news/create")},t.state={news:{is_active:0,views:0,date:le()(new Date).format("YYYY-MM-DD")},validated:!1,action:"",companies:[],selected_company:{value:0},categories:[],selected_category:[],continents:[],selected_continent:{value:0},regions:[],selected_region:{value:0},countries:[],selected_country:{value:0},newsDate:new Date,editorInstance:"",modelsLoaded:!1},t.loadModels(),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"loadModels",value:function(){ve("abmodels",{models:{AbCategories:{type:"news"},AbContinents:{},AbCompanies:{}}}).then(function(e){var a=function(a){e.data[a].map((function(t,n){e.data[a][n].label=t.name,e.data[a][n].value=t.id}))};for(var t in e.data)a(t);this.setState({categories:e.data.AbCategories,continents:e.data.AbContinents,companies:e.data.AbCompanies,modelsLoaded:!0})}.bind(this))}},{key:"selectCompany",value:function(e,a){var t,n=this.state.news;n.company=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"news",n),t))}},{key:"selectCategory",value:function(e,a){var t,n=this.state.news;for(var r in n.categories=[],e)n.categories.push(e[r].id);this.setState((t={},Object(b.a)(t,a,e),Object(b.a)(t,"news",n),t))}},{key:"selectChange",value:function(e,a){var t,n=this.state.news;if(n[a]=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,"selected_"+a,e||""),Object(b.a)(t,"news",n),t)),["continent","region"].indexOf(a)>-1&&e){var r="",l="",c={};"continent"===a?(c={AbRegions:{continent_id:e.id}},r="region",l="regions"):"region"===a&&(c={AbCountries:{region_id:e.id}},r="country",l="countries"),ve("abmodels",{models:c}).then(function(e){var a=this,t={},n=function(n){var c;e.data[n].map((function(r,c){e.data[n][c].label=r.name,e.data[n][c].value=r.id,void 0!=a.state.news[l]&&r.id===a.state.news[l].id&&(t=r)})),a.setState((c={},Object(b.a)(c,l,e.data[n]),Object(b.a)(c,"selected_"+r,t),c))};for(var c in e.data)n(c)}.bind(this))}}},{key:"selectContinent",value:function(e,a){var t,n=this.state.news;n.continent=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"news",n),t)),this.getRegions(e&&e.value?e.value:"")}},{key:"getRegions",value:function(e){be("region",{is_active:1,continent_id:e,records:"all"}).then(function(e){var a=e.data;for(var t in a)a[t].label=a[t].name,a[t].value=a[t].id;this.setState({regions:a})}.bind(this))}},{key:"selectRegion",value:function(e,a){var t,n=this.state.news;n.region=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"news",n),t)),this.getCountries(e&&e.value?e.value:"")}},{key:"getCountries",value:function(e){be("countries",{is_active:1,region_id:e,records:"all"}).then(function(e){var a=e.data;for(var t in a)a[t].label=a[t].name,a[t].value=a[t].id;this.setState({countries:a})}.bind(this))}},{key:"selectCountry",value:function(e,a){var t,n=this.state.news;n.country=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"news",n),t))}},{key:"handleChange",value:function(e,a){var t=this.state.news;if("date"!==a)var n=e.target.name,r=e.target.value;else{n=a,r=le()(e).format("YYYY-MM-DD");this.setState({newsDate:e})}"is_active"===n&&(r=parseInt(r)),t[n]=r,this.setState({news:t})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),ve("news",this.state.news).then((function(e){a.setState({news:e.data,alert_status:"show"}),"save_new"==a.state.action?a.clearForm("create-news-form"):a.props.data.history.push("/admin/news")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.modelsLoaded,n=a.selectedFile,l=a.news,c=(a.companies,a.selected_company),s=(a.categories,a.selected_category),i=a.continents,o=a.selected_continent,m=a.regions,d=a.selected_region,u=a.countries,p=a.selected_country,h=a.newsDate;return r.a.createElement(mt.a,{noValidate:!0,id:"create-news-form",onSubmit:function(a){return e.handleSubmit(a)}},"show"===this.state.alert_status?r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"9",xs:"12"}),r.a.createElement(mt.a.Group,{as:dt.a,md:"3",xs:"12"},r.a.createElement(ud.a,{variant:"success"},"Successfully Created"))):"",r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Title *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"news",name:"title",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Date"),r.a.createElement(Yi.a,{theme:Zd},r.a.createElement(Bi.a,{utils:Hi.a},r.a.createElement(qi.a,{minDate:new Date("1990-01-01"),value:h,format:"dd/MM/yyyy",onChange:function(a){return e.handleChange(a,"date")},animateYearScrolling:!0})))),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Company"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"companies",isClearable:!0,escapeClearsValue:!0,value:c.value?c:"select...",styles:eu,name:"company",loadOptions:function(a,t){return Pe(a,t,e.state.companies,e.state.modelsLoaded)},onChange:function(a){return e.selectCompany(a,"selected_company")}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Category *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,required:!0,model:"categories",value:s.value?s:"select...",styles:eu,name:"category",isMulti:!0,loadOptions:function(a,t){return Pe(a,t,e.state.categories,e.state.modelsLoaded)},onChange:function(a){return e.selectCategory(a,"selected_category")}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Continent *"),r.a.createElement(nn.a,{required:!0,value:o.value?o:"select...",model:"continents",name:"continent",isClearable:!0,escapeClearsValue:!0,styles:eu,onChange:function(a){return e.selectChange(a,"continent")},options:i})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Region *"),r.a.createElement(nn.a,{required:!0,value:d.value?d:"select...",model:"regions",name:"region",isClearable:!0,escapeClearsValue:!0,styles:eu,onChange:function(a){return e.selectChange(a,"region")},options:m})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Country *"),r.a.createElement(nn.a,{value:p.value?p:"select...",model:"countries",name:"country",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectCountry(a,"selected_country")},options:u}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Source"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"news",name:"source",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Details"),r.a.createElement(Cm.a,{editor:Om.a,config:$d,data:"",onInit:function(a){e.state.editorInstance=a},onChange:function(a,t){var n=t.getData();e.state.news.details=n}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement("input",{accept:"image/*",style:{display:"none"},type:"file",id:"news-image-upload",name:"image",onChange:this.fileChangedHandler}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"news-image-upload"},r.a.createElement(Tc.a,{variant:"outlined",color:"inherit",component:"span"},"Select Image",r.a.createElement(xc.a,{style:{marginLeft:"5px"}}))),r.a.createElement("div",{className:"form-group form-group-last row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"dropzone dropzone-multi",id:"kt_dropzone_5"},r.a.createElement("div",{className:"dropzone-items",style:{display:n?"block":"none"}},r.a.createElement("div",{className:"dropzone-item"},r.a.createElement("div",{className:"dropzone-file"},this.state.previewFile&&r.a.createElement("div",{style:{"max-width":"250px"}},r.a.createElement("img",{style:{width:"100%"},src:this.state.previewFile})),r.a.createElement("div",{className:"dropzone-filename",title:"some_image_file_name.jpg"},r.a.createElement("span",{"data-dz-name":!0},n?n.name:"No file selected"),r.a.createElement("strong",null,"(",r.a.createElement("span",{"data-dz-size":!0},n&&n.size_c?n.size_c:""),")")),r.a.createElement("div",{className:"dropzone-error","data-dz-errormessage":!0},n&&n.error?n.error:"")),r.a.createElement("div",{className:"dropzone-toolbar"},r.a.createElement("span",{onClick:function(a){return e.handleFileRemove(a)},className:"dropzone-delete","data-dz-remove":!0},r.a.createElement("i",{className:"flaticon2-cross"})))))),r.a.createElement("span",{className:"form-text text-muted"},"Max file size is 2MB."))))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===l.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/news",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),tu=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"News",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/news",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(au,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),nu=Object(B.o)(tu);function ru(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}var lu=Object(Wi.a)({props:{MuiInput:{disableUnderline:!0},MuiTextField:{style:{display:"block"}},MuiInputBase:{style:{display:"block"},disableUnderline:!0,inputProps:{style:{display:"block",height:"calc(1.5em + 1.3rem + 2px)",padding:"0.65rem 1rem",fontSize:"1rem",fontWeight:"400",lineHeight:"1.5",color:"#495057",backgroundColor:"#fff",backgroundClip:"padding-box",border:"1px solid #e2e5ec",borderRadius:"4px",transition:"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out",boxSizing:"border-box"}}}}}),cu={},su={menu:function(e,a){return function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?ru(Object(t),!0).forEach((function(a){Object(b.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ru(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},e,{zIndex:99})}},iu=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).fileChangedHandler=function(e){var a=e.target.files[0];if(t.setState({previewFile:URL.createObjectURL(a)}),void 0!=a){a.name_c=a.name;var n=t.state.news;if(a.size_c=a.size/1024,a.size_c/1024>2)a.size_c=(a.size_c/1024).toFixed(2)+" MB",a.error="Error: File is too big",n.file={},t.setState({selectedFile:a});else{a.error=null,a.size_c=a.size_c.toFixed(2)+" KB";var r=new FileReader;r.readAsDataURL(a),r.onloadend=function(){n.file=r.result,t.setState({selectedFile:a,news:n})}}}},t.handleFileRemove=function(e){var a=t.state.news;delete a.file,t.setState({selectedFile:null,news:a,previewFile:null}),document.getElementById("news-image-upload").value=""};var n=t.props.data.match.params.news_id;return t.state={validated:!1,news:{id:n},companies:[],company:{value:0},categories:[],category:[],continents:[],continent:{value:0},regions:[],region:{value:0},countries:[],country:{value:0},selectedFile:null,previewFile:null,newsDate:new Date,modelsLoaded:!1},t.getNews(n),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getNews",value:function(e){var a=this;be("news/"+e+"/").then((function(e){delete e.data.views;var t=[],n=[];for(var r in e.data.categories)n.push({id:e.data.categories[r].id,label:e.data.categories[r].name}),t.push(e.data.categories[r].id);delete e.data.categories,e.data.categories=t,a.setState({newsDate:le()(e.data.date,"YYYY-MM-DD"),news:e.data,category:n,previewFile:e.data.media?oe+e.data.media.original_file_name:null}),a.setSelectfile(),a.loadModels()}))}},{key:"loadModels",value:function(){var e=this.state.news,a={AbCategories:{type:"news"},AbCompanies:{},AbContinents:{},AbRegions:{continent_id:e.continent&&e.continent.id?e.continent.id:0},AbCountries:{region_id:e.region&&e.region.id?e.region.id:0}},t={AbCompanies:["company"],AbContinents:["continent"],AbCountries:["country"],AbRegions:["region"]};ve("abmodels",{models:a}).then(function(a){var n={},r=function(r){a.data[r].map((function(l,c){a.data[r][c].label=l.name,a.data[r][c].value=l.id,Object.keys(t).map((function(a,c){t[a].map((function(t,c){r===a&&null!==e[t]&&void 0!==e[t].id&&e[t].id===l.id&&(n[t]=l)}))}))}))};for(var l in a.data)r(l);n.countries=a.data.AbCountries,n.continents=a.data.AbContinents,n.regions=a.data.AbRegions,n.categories=a.data.AbCategories,n.companies=a.data.AbCompanies,n.modelsLoaded=!0,this.setState(n)}.bind(this))}},{key:"selectChange",value:function(e,a){var t,n=this.state.news;if(n[a]=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"news",n),t)),["continent","region"].indexOf(a)>-1&&e){var r="",l="",c={};"continent"===a?(c={AbRegions:{continent_id:e.id}},r="region",l="regions"):"region"===a&&(c={AbCountries:{region_id:e.id}},r="country",l="countries"),ve("abmodels",{models:c}).then(function(e){var a=this,t={},n=function(n){var c;e.data[n].map((function(r,c){e.data[n][c].label=r.name,e.data[n][c].value=r.id,void 0!=a.state.news[l]&&r.id===a.state.news[l].id&&(t=r)})),a.setState((c={},Object(b.a)(c,l,e.data[n]),Object(b.a)(c,r,t),c))};for(var c in e.data)n(c)}.bind(this))}}},{key:"getCompanies",value:function(){be("companies",{is_active:1,records:"all"}).then(function(e){var a=e.data;for(var t in a)a[t].label=a[t].name,a[t].value=a[t].id;this.setState({companies:a})}.bind(this))}},{key:"selectCompany",value:function(e,a){var t,n=this.state.news;n.company=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"news",n),t))}},{key:"selectCategory",value:function(e,a){var t,n=this.state.news;for(var r in n.categories=[],e)n.categories.push(e[r].id);this.setState((t={},Object(b.a)(t,a,e),Object(b.a)(t,"news",n),t))}},{key:"handleChange",value:function(e,a){var t=this.state.news;if("date"!==a)var n=e.target.name,r=e.target.value;else{n=a,r=le()(e).format("YYYY-MM-DD");this.setState({newsDate:e})}"is_active"===n&&(r=parseInt(r)),t[n]=r,this.setState({news:t})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),this.checkDataFormat(),fe("news/"+this.state.news.id+"/",this.state.news).then((function(e){a.setState({news:e.data}),a.props.data.history.push("/admin/news")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"checkDataFormat",value:function(){var e=this,a=this.state.news;["continent","region","country","company"].map((function(t,n){a[t]=e.state[t].value})),this.setState({news:a})}},{key:"setSelectfile",value:function(){if(this.state.news.media){var e={},a=this.state.news.media.original_file_name.split("/");e.name_c=a[a.length-1],this.setState({selectedFile:e})}}},{key:"render",value:function(){var e=this,a=this.state,t=a.modelsLoaded,n=a.news,l=a.company,c=(a.companies,a.countries),s=a.country,i=(a.categories,a.category),o=a.continents,m=a.continent,d=a.regions,u=a.region,p=a.newsDate,h=a.selectedFile;return console.log(n,"nnnnwsasd"),r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Title *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"news",name:"title",value:n?n.title:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Date"),r.a.createElement(Yi.a,{theme:lu},r.a.createElement(Bi.a,{utils:Hi.a},r.a.createElement(qi.a,{minDate:p,value:p,format:"dd/MM/yyyy",onChange:function(a){return e.handleChange(a,"date")},animateYearScrolling:!0})))),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Company"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"companies",isClearable:!0,escapeClearsValue:!0,value:l.value?l:"select...",styles:su,name:"company",loadOptions:function(a,t){return Pe(a,t,e.state.companies,e.state.modelsLoaded)},onChange:function(a){return e.selectCompany(a,"company")}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Category *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,required:!0,model:"categories",value:i.value?i:"select...",styles:su,name:"category",isMulti:!0,loadOptions:function(a,t){return Pe(a,t,e.state.categories,e.state.modelsLoaded)},onChange:function(a){return e.selectCategory(a,"category")}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Continent *"),r.a.createElement(nn.a,{required:!0,value:m.value?m:"select...",model:"continents",name:"continent",isClearable:!0,escapeClearsValue:!0,styles:su,onChange:function(a){return e.selectChange(a,"continent")},options:o})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Region *"),r.a.createElement(nn.a,{required:!0,value:u.value?u:"select...",model:"regions",name:"region",isClearable:!0,escapeClearsValue:!0,styles:su,onChange:function(a){return e.selectChange(a,"region")},options:d})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Country *"),r.a.createElement(nn.a,{value:s.value?s:"select...",model:"countries",name:"country",isClearable:!0,escapeClearsValue:!0,styles:su,onChange:function(a){return e.selectChange(a,"country")},options:c}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Source"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"news",name:"source",value:n?n.source:"",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Details"),r.a.createElement(Cm.a,{editor:Om.a,config:cu,data:n.details?n.details:"",onInit:function(e){},onChange:function(a,t){var n=t.getData();e.state.news.details=n}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement("input",{accept:"image/*",style:{display:"none"},type:"file",id:"news-image-upload",name:"image",onChange:this.fileChangedHandler}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"news-image-upload"},r.a.createElement(Tc.a,{variant:"outlined",color:"inherit",component:"span"},"Select Image",r.a.createElement(xc.a,{style:{marginLeft:"5px"}}))),r.a.createElement("div",{className:"form-group form-group-last row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"dropzone dropzone-multi",id:"kt_dropzone_5"},r.a.createElement("div",{className:"dropzone-items",style:{display:h?"block":"none"}},r.a.createElement("div",{className:"dropzone-item"},r.a.createElement("div",{className:"dropzone-file"},this.state.previewFile&&r.a.createElement("div",{style:{"max-width":"250px"}},r.a.createElement("img",{style:{width:"100%"},src:this.state.previewFile})),r.a.createElement("div",{className:"dropzone-filename",title:"some_image_file_name.jpg"},r.a.createElement("span",{"data-dz-name":!0},h?h.name_c:"No file selected"),r.a.createElement("strong",null,h&&h.size_c?"("+h.size_c+")":"")),r.a.createElement("div",{className:"dropzone-error","data-dz-errormessage":!0},h&&h.error?h.error:"")),r.a.createElement("div",{className:"dropzone-toolbar"},r.a.createElement("span",{onClick:function(a){return e.handleFileRemove(a)},className:"dropzone-delete","data-dz-remove":!0},r.a.createElement("i",{className:"flaticon2-cross"})))))),r.a.createElement("span",{className:"form-text text-muted"},"Max file size is 2MB."))))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===n.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/news",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),ou=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this,a=r.a.createElement(P.Link,{to:"/admin/news",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"News",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},a))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(iu,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),mu=Object(B.o)(ou),du=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,r=n.news_id,l=n.type;return t.txt_weight={fontWeight:500},t.handleModalShow=t.handleModalShow.bind(Object(at.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.confirm=t.confirm.bind(Object(at.a)(t)),t.state={type:l,news:{id:r},action:"",showModal:!1,created_at:"",updated_at:"",image:null,is_active:""},t.getNews(r),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getNews",value:function(e){var a=this;be("news/"+e+"/").then((function(e){var t,n,r,l=[],c=[];for(var s in e.data.categories)l.push(e.data.categories[s].name+", "),c.push(e.data.categories[s].id);e.data.categories=c,e.data.country=e.data.country?e.data.country.id:null,t=e.data.company?e.data.company.name:"",e.data.company=e.data.company?e.data.company.id:null,n=e.data.region?e.data.region.name:"",e.data.region=e.data.region?e.data.region.id:null,r=e.data.continent?e.data.continent.name:"",e.data.continent=e.data.continent?e.data.continent.id:null,a.setState({created_at:(new Intl.DateTimeFormat).format(new Date(e.data.created_at)),updated_at:(new Intl.DateTimeFormat).format(new Date(e.data.updated_at)),image:e.data.media?e.data.media.original_file_name:null,news:e.data,selected_categories:l,selected_company:t,selected_region:n,selected_continent:r}),a.props.setTitle(e.data.title)}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.news;n[a]=e,this.setState({news:n}),fe("news/"+this.state.news.id+"/",this.state.news).then((function(e){t.setState({news:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalShow",value:function(e,a){var t=e.target.value;"status"===a&&(t=parseInt(t),this.setState({is_active:1===t?0:1})),this.setState({action:a}),this.setState({showModal:!0})}},{key:"handleModalClose",value:function(){this.setState({showModal:!1})}},{key:"confirm",value:function(){var e=this;"status"===this.state.action&&(this.state.news.is_active=this.state.is_active,fe("news/"+this.state.news.id+"/",this.state.news).then((function(a){delete a.data.type,e.setState({news:a.data}),e.setState({showModal:!1})})).catch((function(a){e.props.sendError(a.response.data),e.setState({showModal:!1})})))}},{key:"render",value:function(){var e=this,a=this.state,t=a.selected_region,n=a.news,l=a.selected_categories,c=a.selected_continent,s=a.selected_company;return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Name"),r.a.createElement("div",null,n.title?n.title:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date"),r.a.createElement("div",null,n.date?n.date:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Category"),r.a.createElement("div",null,l||"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Company"),r.a.createElement("div",null,s||"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Continent"),r.a.createElement("div",null,c||"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Region"),r.a.createElement("div",null,t||"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Details"),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:n.details}}))),r.a.createElement("hr",null),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Created"),r.a.createElement("div",null,this.state.created_at)),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Modified"),r.a.createElement("div",null,this.state.updated_at))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Status"),r.a.createElement("div",null,r.a.createElement("span",{onClick:function(a){return e.handleModalShow(a,"status")},className:1===this.state.news.is_active?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===n.is_active?"defaultChecked":"",value:1===n.is_active?"1":"0",name:"is_active"}),r.a.createElement("span",null)))))))),r.a.createElement(ut.a,{item:!0,xs:12,md:3},r.a.createElement("img",{style:{maxHeight:"220px",maxWidth:"200px"},src:this.state.image?oe+this.state.image:oe+"dummy_image.svg"}))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:this.confirm},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:this.handleModalClose},"No"))))}}]),a}(r.a.Component),uu=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).setMainTitle=function(e){t.setState({title:e})};e.match.params.type;return t.state={errors:{},showError:!1,title:"News"},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.title,jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/news",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/news/"+this.props.match.params.news_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(du,{data:this.props,sendError:this.sendError,setTitle:this.setMainTitle}))))))}}]),a}(r.a.Component),pu=Object(B.o)(uu),hu=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),Eu={success:fa.a,warning:va.a,error:ga.a,info:_a.a},bu=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function fu(e){var a=bu(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=Eu[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var vu=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),gu=function(e){var a=vu(),t=e.setMessageType,n=e.setMessage,l=e.setOpen,c=e.exportSpinner,s=e.setExpSpin,i=e.csvData,o=e.setCsvData,m=e.numSelected,d=e.selected,u=e.setSelected,p=e.setSelectedMany,h=e.setRowsData,E=e.rows,f=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,m>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon2-start-up"})),m>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},m," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"Parts Condition")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},m>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(d.length){var a={ids:d};ge("conditions/"+d[0]+"/",a).then((function(e){for(var a in E)d.indexOf(E[a].id)>-1&&delete E[a];h(E),d.length=0,u(d),p(!1);var t=[];t.push(1),f(t),ku()}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/parts/condition/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:hu,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){s(""),be("conditions",{records:"all"}).then((function(e){s("d-none"),o(e.data),document.getElementById("conditions-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+c})),r.a.createElement(Ha.CSVLink,{data:i,filename:"conditions.csv",className:"d-none",id:"conditions-csv-btn",target:"_blank"})),r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement(St.a,{inputId:"conditions-csv-reader",cssClass:"kt-nav__link-text",cssInputClass:"d-none",label:"Import",onFileLoaded:function(e){return _e(e,"AbConditions").then((function(e){e.data.success?t("success"):t("error"),n(e.data.message),l(!0),ku()}))}}))))))))))))},_u=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),yu=t(36);function ku(e,a){yu("#parts_condition").DataTable().ajax.reload(null,!1)}yu.DataTable=t(40);var Nu=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function Cu(e){var a=_u(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState(!1),te=Object(H.a)(ae,2),ne=te[0],re=te[1],le=r.a.useState("d-none"),ce=Object(H.a)(le,2),se=ce[0],oe=ce[1],me=r.a.useState([]),de=Object(H.a)(me,2),ue=de[0],pe=de[1],he=r.a.useState("success"),be=Object(H.a)(he,2),ve=be[0],_e=be[1],ye=r.a.useState({create:Ee("add_abconditions"),edit:Ee("change_abconditions"),delete:Ee("delete_abconditions"),view:Ee("view_abconditions")}),ke=Object(H.a)(ye,2),Ne=ke[0],Ce=(ke[1],Object(B.k)());function we(e){S(!1)}function Oe(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){yu.fn.dataTable.isDataTable("#parts_condition")&&(yu("#parts_condition").DataTable().destroy(),re(!0));return function(){y([]),yu("#parts_condition").DataTable().destroy(!0),re(!0)}}),[]),r.a.useEffect((function(){if(ne&&yu.fn.dataTable.isDataTable("#parts_condition"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{re(!0);try{!function(){var a=ie+"conditions?format=datatables",t=[{bVisible:!1,aTargets:[1]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:je(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),yu("#parts_condition").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:je(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{onClick:function(){return Ce.push("/admin/parts/condition/"+t.id)}},a),e)}},{targets:3,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return Oe(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(Ne.create||Ne.edit)&&t.push({targets:4,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:Nu}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},Ne.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return Ce.push("/admin/parts/condition/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",Ne.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return Oe(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});yu("#parts_condition").DataTable({responsive:{details:{renderer:yu.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("conditions",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n         <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[3,"desc"]],columnDefs:t}),yu("#parts_condition").on("page.dt",(function(){Pa(yu("#parts_condition"),"conditions",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var Se=function(e,a){K(!1)},je=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(gu,{setMessageType:_e,setMessage:$,setOpen:K,exportSpinner:se,setExpSpin:oe,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,csvData:ue,setCsvData:pe}),r.a.createElement("div",{className:"kt-portlet__body"},Ne.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){yu("#parts_condition").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",Ne.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"parts_condition"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),ku()},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:we},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("conditions/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),ku(),K(!0);var t=1===e.data.is_active?"activated":"deactivated";_e("success"),$("Record successfully "+t)}))}else"delete"==R&&ge("conditions/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),ku(),K(!0),_e("success"),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:we},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:1500,onClose:Se},r.a.createElement(fu,{onClose:Se,variant:ve,message:Z})))}var wu=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).clearForm=function(e){t.props.data.history.replace("/admin/parts/condition"),t.props.data.history.replace("/admin/parts/condition/create")},t.state={condition:{is_active:0},validated:!1,action:""},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"handleChange",value:function(e){var a=this.state.condition,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({condition:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),ve("conditions",this.state.condition).then((function(e){a.setState({condition:e.data}),"save_new"==a.state.action?a.clearForm("part-condition-form"):a.props.data.history.push("/admin/parts/condition")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.condition);return r.a.createElement(mt.a,{noValidate:!0,id:"part-condition-form",onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"condition",name:"name",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/parts/condition",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Ou=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Parts Condition",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/parts/condition",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(wu,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Su=Object(B.o)(Ou),ju=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params.condition_id;return t.state={validated:!1,condition:{}},t.getCondition(n),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getCondition",value:function(e){var a=this;be("conditions/"+e+"/").then((function(e){a.setState({condition:e.data})}))}},{key:"handleChange",value:function(e){var a=this.state.condition,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({condition:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),fe("conditions/"+this.state.condition.id+"/",this.state.condition).then((function(e){a.setState({condition:e.data}),a.props.data.history.push("/admin/parts/condition")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.condition);return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"condition",name:"name",defaultValue:t?t.name:"",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/parts/condition",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Tu=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this,a=r.a.createElement(P.Link,{to:"/admin/parts/condition",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Parts Condition",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},a))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(ju,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),xu=Object(B.o)(Tu),Mu=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,r=n.condition_id,l=n.type;return t.txt_weight={fontWeight:500},t.handleModalShow=t.handleModalShow.bind(Object(at.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.confirm=t.confirm.bind(Object(at.a)(t)),t.state={type:l,condition:{},action:"",showModal:!1,created_at:"",updated_at:"",is_active:""},t.getCondition(r),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getCondition",value:function(e){var a=this;be("conditions/"+e+"/").then((function(e){delete e.data.type,a.setState({created_at:e.data.created_at?(new Intl.DateTimeFormat).format(new Date(e.data.created_at)):"",updated_at:e.data.updated_at?(new Intl.DateTimeFormat).format(new Date(e.data.updated_at)):""}),a.props.setTitle(e.data.name),a.setState({condition:e.data})}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.condition;n[a]=e,this.setState({condition:n}),fe("conditions/"+this.state.condition.id+"/",this.state.condition).then((function(e){t.setState({condition:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalShow",value:function(e,a){var t=e.target.value;"status"===a&&(t=parseInt(t),this.setState({is_active:1===t?0:1})),this.setState({action:a}),this.setState({showModal:!0})}},{key:"handleModalClose",value:function(){this.setState({showModal:!1})}},{key:"confirm",value:function(){var e=this;"status"===this.state.action&&(this.state.condition.is_active=this.state.is_active,fe("conditions/"+this.state.condition.id+"/",this.state.condition).then((function(a){delete a.data.type,e.setState({condition:a.data}),e.setState({showModal:!1})})).catch((function(a){e.props.sendError(a.response.data),e.setState({showModal:!1})})))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.condition);return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Name"),r.a.createElement("div",null,t.name?t.name:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Created"),r.a.createElement("div",null,this.state.created_at?this.state.created_at:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Modified"),r.a.createElement("div",null,this.state.updated_at?this.state.updated_at:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Status"),r.a.createElement("div",null,r.a.createElement("span",{onClick:function(a){return e.handleModalShow(a,"status")},className:1===this.state.condition.is_active?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===t.is_active?"defaultChecked":"",value:1===t.is_active?"1":"0",name:"is_active"}),r.a.createElement("span",null))))))))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:this.confirm},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:this.handleModalClose},"No"))))}}]),a}(r.a.Component),Du=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).setMainTitle=function(e){t.setState({title:e})};e.match.params.type;return t.state={errors:{},showError:!1,title:"Condition"},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.title,jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/parts/condition",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/parts/condition/"+this.props.match.params.condition_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Mu,{data:this.props,sendError:this.sendError,setTitle:this.setMainTitle}))))))}}]),a}(r.a.Component),Au=Object(B.o)(Du),Ru=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),Lu={success:fa.a,warning:va.a,error:ga.a,info:_a.a},Iu=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function Fu(e){var a=Iu(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=Lu[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var Uu=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),Gu=function(e){var a=Uu(),t=e.setMessageType,n=e.setOpen,l=e.setMessage,c=e.exportSpinner,s=e.setExpSpin,i=e.csvData,o=e.setCsvData,m=e.numSelected,d=e.selected,u=e.setSelected,p=e.setSelectedMany,h=e.setRowsData,E=e.rows,f=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,m>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon2-start-up"})),m>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},m," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"Parts Releases")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},m>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(d.length){var a={ids:d};ge("releases/"+d[0]+"/",a).then((function(e){for(var a in E)d.indexOf(E[a].id)>-1&&delete E[a];h(E),d.length=0,u(d),p(!1);var t=[];t.push(1),f(t),Vu()}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/parts/release/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:Ru,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){s(""),be("releases",{records:"all"}).then((function(e){s("d-none"),o(e.data),document.getElementById("releases-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+c})),r.a.createElement(Ha.CSVLink,{data:i,filename:"releases.csv",className:"d-none",id:"releases-csv-btn",target:"_blank"})),r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement(St.a,{inputId:"releases-csv-reader",cssClass:"kt-nav__link-text",cssInputClass:"d-none",label:"Import",onFileLoaded:function(e){return _e(e,"AbReleases").then((function(e){e.data.success?t("success"):t("error"),l(e.data.message),n(!0),Vu()}))}}))))))))))))},Pu=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),zu=t(36);function Vu(e,a){zu("#parts_release").DataTable().ajax.reload(null,!1)}zu.DataTable=t(40);var Hu=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function Bu(e){var a=Pu(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState(!1),te=Object(H.a)(ae,2),ne=te[0],re=te[1],le=r.a.useState("d-none"),ce=Object(H.a)(le,2),se=ce[0],oe=ce[1],me=r.a.useState([]),de=Object(H.a)(me,2),ue=de[0],pe=de[1],he=r.a.useState("success"),be=Object(H.a)(he,2),ve=be[0],_e=be[1],ye=r.a.useState({create:Ee("add_abreleases"),edit:Ee("change_abreleases"),delete:Ee("delete_abreleases"),view:Ee("view_abreleases")}),ke=Object(H.a)(ye,2),Ne=ke[0],Ce=(ke[1],Object(B.k)());function we(e){S(!1)}function Oe(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){zu.fn.dataTable.isDataTable("#parts_release")&&(zu("#parts_release").DataTable().destroy(),re(!0));return function(){y([]),zu("#parts_release").DataTable().destroy(!0),re(!0)}}),[]),r.a.useEffect((function(){if(ne&&zu.fn.dataTable.isDataTable("#parts_release"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{re(!0);try{!function(){var a=ie+"releases?format=datatables",t=[{bVisible:!1,aTargets:[1]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:je(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),zu("#parts_release").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:je(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{onClick:function(){return Ce.push("/admin/parts/release/"+t.id)}},a),e)}},{targets:3,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return Oe(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(Ne.create||Ne.edit)&&t.push({targets:4,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:Hu}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},Ne.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return Ce.push("/admin/parts/release/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",Ne.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return Oe(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});zu("#parts_release").DataTable({responsive:{details:{renderer:zu.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("releases",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n         <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[3,"desc"]],columnDefs:t}),zu("#parts_release").on("page.dt",(function(){Pa(zu("#parts_release"),"releases",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var Se=function(e,a){K(!1)},je=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(Gu,{setMessageType:_e,setOpen:K,setMessage:$,exportSpinner:se,setExpSpin:oe,csvData:ue,setCsvData:pe,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length}),r.a.createElement("div",{className:"kt-portlet__body"},Ne.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){zu("#parts_release").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",Ne.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"parts_release"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),Vu()},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:we},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("releases/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),Vu(),K(!0);var t=1===e.data.is_active?"activated":"deactivated";_e("success"),$("Record successfully "+t)}))}else"delete"==R&&ge("releases/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),Vu(),K(!0),_e("success"),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:we},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:16e5,onClose:Se},r.a.createElement(Fu,{onClose:Se,variant:ve,message:Z})))}var qu=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).clearForm=function(e){t.props.data.history.replace("/admin/parts/release"),t.props.data.history.replace("/admin/parts/release/create")},t.state={release:{is_active:0},validated:!1,action:""},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"handleChange",value:function(e){var a=this.state.release,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({release:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),ve("releases",this.state.release).then((function(e){a.setState({release:e.data}),"save_new"==a.state.action?a.clearForm("part-release-form"):a.props.data.history.push("/admin/parts/release")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.release);return r.a.createElement(mt.a,{noValidate:!0,id:"part-release-form",onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"release",name:"name",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/parts/release",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Wu=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Parts Releases",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/parts/release",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(qu,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Yu=Object(B.o)(Wu),Ju=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params.release_id;return t.state={validated:!1,release:{}},t.getRelease(n),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getRelease",value:function(e){var a=this;be("releases/"+e+"/").then((function(e){a.setState({release:e.data})}))}},{key:"handleChange",value:function(e){var a=this.state.release,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({release:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),fe("releases/"+this.state.release.id+"/",this.state.release).then((function(e){a.setState({release:e.data}),a.props.data.history.push("/admin/parts/release")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.release);return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"release",name:"name",defaultValue:t?t.name:"",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/parts/release",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Ku=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this,a=r.a.createElement(P.Link,{to:"/admin/parts/release",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Parts Releases",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},a))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Ju,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Xu=Object(B.o)(Ku),Qu=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,r=n.release_id,l=n.type;return t.txt_weight={fontWeight:500},t.handleModalShow=t.handleModalShow.bind(Object(at.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.confirm=t.confirm.bind(Object(at.a)(t)),t.state={type:l,releases:{},action:"",showModal:!1,created_at:"",updated_at:"",is_active:""},t.getReleases(r),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getReleases",value:function(e){var a=this;be("releases/"+e+"/").then((function(e){delete e.data.type,a.setState({created_at:e.data.created_at?(new Intl.DateTimeFormat).format(new Date(e.data.created_at)):"",updated_at:e.data.updated_at?(new Intl.DateTimeFormat).format(new Date(e.data.updated_at)):""}),a.props.setTitle(e.data.name),a.setState({releases:e.data})}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.releases;n[a]=e,this.setState({releases:n}),fe("releases/"+this.state.releases.id+"/",this.state.releases).then((function(e){t.setState({releases:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalShow",value:function(e,a){var t=e.target.value;"status"===a&&(t=parseInt(t),this.setState({is_active:1===t?0:1})),this.setState({action:a}),this.setState({showModal:!0})}},{key:"handleModalClose",value:function(){this.setState({showModal:!1})}},{key:"confirm",value:function(){var e=this;"status"===this.state.action&&(this.state.releases.is_active=this.state.is_active,fe("releases/"+this.state.releases.id+"/",this.state.releases).then((function(a){delete a.data.type,e.setState({releases:a.data}),e.setState({showModal:!1})})).catch((function(a){e.props.sendError(a.response.data),e.setState({showModal:!1})})))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.releases);return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Name"),r.a.createElement("div",null,t.name?t.name:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Created"),r.a.createElement("div",null,this.state.created_at?this.state.created_at:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Modified"),r.a.createElement("div",null,this.state.updated_at?this.state.updated_at:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Status"),r.a.createElement("div",null,r.a.createElement("span",{onClick:function(a){return e.handleModalShow(a,"status")},className:1===this.state.releases.is_active?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===t.is_active?"defaultChecked":"",value:1===t.is_active?"1":"0",name:"is_active"}),r.a.createElement("span",null))))))))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:this.confirm},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:this.handleModalClose},"No"))))}}]),a}(r.a.Component),Zu=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).setMainTitle=function(e){t.setState({title:e})};e.match.params.type;return t.state={errors:{},showError:!1,title:"Release"},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.title,jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/parts/release",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/parts/release/"+this.props.match.params.release_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Qu,{data:this.props,sendError:this.sendError,setTitle:this.setMainTitle}))))))}}]),a}(r.a.Component),$u=Object(B.o)(Zu),ep=(r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),{success:fa.a,warning:va.a,error:ga.a,info:_a.a}),ap=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function tp(e){var a=ap(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=ep[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var np=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),rp=function(e){var a=np(),t=e.numSelected,n=(e.type,e.selected),l=e.setSelected,c=e.setSelectedMany,s=e.setRowsData,i=e.rows,o=e.setTemp;e.csvData;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,t>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon2-open-box"})),t>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},t," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"Regions")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},t>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(n.length){var a={ids:n};ge("region/"+n[0]+"/",a).then((function(e){for(var a in i)n.indexOf(i[a].id)>-1&&delete i[a];s(i),n.length=0,l(n),c(!1);var t=[];t.push(1),o(t),sp()}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/region/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record")))))))},lp=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),cp=t(36);function sp(e,a){cp("#regions").DataTable().ajax.reload(null,!1)}cp.DataTable=t(40);var ip=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function op(e){var a=lp(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState([]),te=Object(H.a)(ae,2),ne=te[0],re=(te[1],r.a.useState(!1)),le=Object(H.a)(re,2),ce=le[0],se=le[1],oe=r.a.useState({create:Ee("add_abregions"),edit:Ee("change_abregions"),delete:Ee("delete_abregions"),view:Ee("view_abregions")}),me=Object(H.a)(oe,2),de=me[0],ue=(me[1],Object(B.k)());function pe(e){S(!1)}function he(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){cp.fn.dataTable.isDataTable("#regions")&&(cp("#regions").DataTable().destroy(),se(!0));return function(){y([]),cp("#regions").DataTable().destroy(!0),se(!0)}}),[]),r.a.useEffect((function(){if(ce&&cp.fn.dataTable.isDataTable("#regions"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{se(!0);try{!function(){var a=ie+"region?format=datatables",t=[{bVisible:!1,aTargets:[1]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:ve(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),cp("#regions").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:ve(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{onClick:function(){return ue.push("/admin/region/"+t.id)}},a),e)}},{targets:3,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return he(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(de.create||de.edit)&&t.push({targets:4,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:ip}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},de.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return ue.push("/admin/region/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",de.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return he(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});cp("#regions").DataTable({responsive:{details:{renderer:cp.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("region",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n           <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[3,"desc"]],columnDefs:t}),cp("#regions").on("page.dt",(function(){Pa(cp("#regions"),"region",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var be=function(e,a){K(!1)},ve=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(rp,{csvData:ne,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length}),r.a.createElement("div",{className:"kt-portlet__body"},de.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){cp("#regions").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",de.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"regions"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),sp()},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:pe},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("region/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),sp(),K(!0);var t=1===e.data.is_active?"activated":"deactivated";$("Record successfully "+t)}))}else"delete"==R&&ge("region/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),sp(),K(!0),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:pe},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:16e5,onClose:be},r.a.createElement(tp,{onClose:be,variant:"success",message:Z})))}var mp=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).clearForm=function(e){t.props.data.history.replace("/admin/region"),t.props.data.history.replace("/admin/region/create")},t.state={region:{is_active:0},validated:!1,action:"",continents:[],continent:{value:""},fields:{},errorsf:{}},t.getContinents(),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getContinents",value:function(){be("continent",{is_active:1,records:"all"}).then(function(e){var a=e.data;for(var t in a)a[t].label=a[t].name,a[t].value=a[t].id;this.setState({continents:a})}.bind(this))}},{key:"selectContinent",value:function(e,a){var t,n=this.state.region;n.continent=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"region",n),t))}},{key:"handleChange",value:function(e){var a=this.state.region,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({region:a});var r=this.state.fields;r[t]=n,this.setState({fields:r})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.handleValidation()&&(this.setState({validated:!0}),ve("region",this.state.region).then((function(e){a.setState({region:e.data}),"save_new"==a.state.action?a.clearForm("create-region-form"):a.props.data.history.push("/admin/region")})).catch((function(e){a.props.sendError(e.response.data)})))}},{key:"handleValidation",value:function(){var e=this.state.fields,a={},t=!0,n=Object.keys({name:"name"});for(var r in n)"undefined"!==typeof e[n[r]]&&""!==e[n[r]]&&(e[n[r]].match(/^([a-z]+\s)*[a-z]+$/i)||(t=!1,a[n[r]]=["Only alphabets are allowed."]));return this.setState({errorsf:a},function(){this.props.sendError(this.state.errorsf)}.bind(this)),t}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.region),n=a.continents,l=a.continent;return r.a.createElement(mt.a,{noValidate:!0,id:"create-region-form",onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"region",name:"name",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Continent *"),r.a.createElement(nn.a,{value:l.value?l:"select...",model:"continents",name:"continent",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectContinent(a,"continent")},options:n}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/region",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),dp=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Regions",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/region",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(mp,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),up=Object(B.o)(dp),pp=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params.region_id;return t.state={validated:!1,region:{id:n},continents:[],continent:{},fields:{},errorsf:{}},t.getContinents(),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getRegion",value:function(e){var a=this;be("region/"+e+"/").then((function(e){delete e.data.region;var t=a.state.continent;a.state.continents.map((function(a){a.id===e.data.continent_id&&(t={id:a.id,label:a.name},e.data.continent=a.id)})),a.setState({region:e.data,continent:t})}))}},{key:"getContinents",value:function(){be("continent",{is_active:1,records:"all"}).then(function(e){var a=e.data;for(var t in a)a[t].label=a[t].name,a[t].value=a[t].id;this.setState({continents:a}),this.getRegion(this.state.region.id)}.bind(this))}},{key:"selectContinent",value:function(e,a){var t,n=this.state.region;n.continent=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"region",n),t))}},{key:"handleChange",value:function(e){var a=this.state.region,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({region:a});var r=this.state.fields;r[t]=n,this.setState({fields:r})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.handleValidation()&&(this.setState({validated:!0}),fe("region/"+this.state.region.id+"/",this.state.region).then((function(e){a.setState({region:e.data}),a.props.data.history.push("/admin/region")})).catch((function(e){a.props.sendError(e.response.data)})))}},{key:"handleValidation",value:function(){var e=this.state.fields,a={},t=!0,n=Object.keys({name:"name"});for(var r in n)"undefined"!==typeof e[n[r]]&&""!==e[n[r]]&&(e[n[r]].match(/^([a-z]+\s)*[a-z]+$/i)||(t=!1,a[n[r]]=["Only alphabets are allowed."]));return this.setState({errorsf:a},function(){this.props.sendError(this.state.errorsf)}.bind(this)),t}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.region),n=a.continents,l=a.continent;return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"region",name:"name",defaultValue:t?t.name:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Continent *"),r.a.createElement(nn.a,{value:l.value?l:"select...",model:"continents",name:"continent",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectContinent(a,"continent")},options:n}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/region",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),hp=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this,a=r.a.createElement(P.Link,{to:"/admin/region",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Regions",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},a))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(pp,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Ep=Object(B.o)(hp),bp=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,r=n.region_id,l=n.type;return t.txt_weight={fontWeight:500},t.handleModalShow=t.handleModalShow.bind(Object(at.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.confirm=t.confirm.bind(Object(at.a)(t)),t.state={type:l,region:{},action:"",showModal:!1,created_at:"",updated_at:"",is_active:""},t.getRegion(r),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getRegion",value:function(e){var a=this;be("region/"+e+"/").then((function(e){delete e.data.type;var t=e.data.continent.name;e.data.continent=e.data.continent.id,a.setState({created_at:e.data.created_at?(new Intl.DateTimeFormat).format(new Date(e.data.created_at)):"",updated_at:e.data.updated_at?(new Intl.DateTimeFormat).format(new Date(e.data.updated_at)):"",selected_continent:t,region:e.data}),a.props.setTitle(e.data.name)}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.region;n[a]=e,this.setState({region:n}),fe("region/"+this.state.region.id+"/",this.state.region).then((function(e){t.setState({region:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalShow",value:function(e,a){var t=e.target.value;"status"===a&&(t=parseInt(t),this.setState({is_active:1===t?0:1})),this.setState({action:a}),this.setState({showModal:!0})}},{key:"handleModalClose",value:function(){this.setState({showModal:!1})}},{key:"confirm",value:function(){var e=this;"status"===this.state.action&&(this.state.region.is_active=this.state.is_active,fe("region/"+this.state.region.id+"/",this.state.region).then((function(a){delete a.data.type,e.setState({region:a.data}),e.setState({showModal:!1})})).catch((function(a){e.props.sendError(a.response.data),e.setState({showModal:!1})})))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.region),n=a.selected_continent;return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Name"),r.a.createElement("div",null,t.name?t.name:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Continent"),r.a.createElement("div",null,n||"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Created"),r.a.createElement("div",null,this.state.created_at?this.state.created_at:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Modified"),r.a.createElement("div",null,this.state.updated_at?this.state.updated_at:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Status"),r.a.createElement("div",null,r.a.createElement("span",{onClick:function(a){return e.handleModalShow(a,"status")},className:1===this.state.region.is_active?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===t.is_active?"defaultChecked":"",value:1===t.is_active?"1":"0",name:"is_active"}),r.a.createElement("span",null))))))))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:this.confirm},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:this.handleModalClose},"No"))))}}]),a}(r.a.Component),fp=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).setMainTitle=function(e){t.setState({title:e})};e.match.params.type;return t.state={errors:{},showError:!1,title:"Region"},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.title,jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/region",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/region/"+this.props.match.params.region_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(bp,{data:this.props,sendError:this.sendError,setTitle:this.setMainTitle}))))))}}]),a}(r.a.Component),vp=Object(B.o)(fp),gp=(r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),{success:fa.a,warning:va.a,error:ga.a,info:_a.a}),_p=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function yp(e){var a=_p(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=gp[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var kp=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),Np=function(e){var a=kp(),t=e.numSelected,n=(e.type,e.selected),l=e.setSelected,c=e.setSelectedMany,s=e.setRowsData,i=e.rows,o=e.setTemp;e.csvData;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,t>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon-cogwheel"})),t>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},t," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"Seo")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},t>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(n.length){var a={ids:n};ge("seos/"+n[0]+"/",a).then((function(e){for(var a in i)n.indexOf(i[a].id)>-1&&delete i[a];s(i),n.length=0,l(n),c(!1);var t=[];t.push(1),o(t),Op()}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/seos/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record")))))))},Cp=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),wp=t(36);function Op(e,a){wp("#seos").DataTable().ajax.reload(null,!1)}wp.DataTable=t(40);var Sp=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function jp(e){var a=Cp(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState([]),te=Object(H.a)(ae,2),ne=te[0],re=(te[1],r.a.useState(!1)),le=Object(H.a)(re,2),ce=le[0],se=le[1],oe=r.a.useState({create:Ee("add_abseos"),edit:Ee("change_abseos"),delete:Ee("delete_abseos"),view:Ee("view_abseos")}),me=Object(H.a)(oe,2),de=me[0],ue=(me[1],Object(B.k)());function pe(e){S(!1)}function he(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){wp.fn.dataTable.isDataTable("#seos")&&(wp("#seos").DataTable().destroy(),se(!0))}),[]),r.a.useEffect((function(){ce&&wp.fn.dataTable.isDataTable("#seos")?JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_):(se(!0),function(){var a=ie+"seos?format=datatables",t=[{bVisible:!1,aTargets:[1]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:ve(t.id),onChange:function(e){return function(e,a){var t=m.indexOf(a),n=m;-1===t?n.push(a):n.splice(t,1);d(n);var r=Object(ha.a)(U);r.push(1),G(r),Op()}(0,t.id)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{onClick:function(){return ue.push("/admin/seos/"+t.id)}},a),e)}},{targets:4,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return he(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(de.create||de.edit)&&t.push({targets:5,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:Sp}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},de.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return ue.push("/admin/seos/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",de.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return he(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});wp("#seos").DataTable({responsive:{details:{renderer:wp.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("seos",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n           <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[4,"desc"]],columnDefs:t}),wp("#seos").on("page.dt",(function(){Pa(wp("#seos"),"seos",e)}))}())}),[_]);var be=function(e,a){K(!1)},ve=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(Np,{csvData:ne,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length}),r.a.createElement("div",{className:"kt-portlet__body"},de.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){wp("#seos").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",de.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"seos"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),Op()},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"model_type"},"Model Type"),r.a.createElement("th",{"data-data":"title"},"Title"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:pe},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("seos/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),Op(),K(!0);var t=1===e.data.is_active?"activated":"deactivated";$("Record successfully "+t)}))}else"delete"==R&&ge("seos/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),Op(),K(!0),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:pe},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:16e5,onClose:be},r.a.createElement(yp,{onClose:be,variant:"success",message:Z})))}var Tp=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).fileChangedHandler=function(e){var a=t.state.seos,n=e.target.files[0];if(t.setState({previewFile:URL.createObjectURL(n)}),void 0!=n)if(n.size_c=n.size/1024,n.size_c/1024>2)n.size_c=(n.size_c/1024).toFixed(2)+" MB",n.error="Error: File is too big",a.file={},t.setState({selectedFile:n});else{n.error=null,n.size_c=n.size_c.toFixed(2)+" KB";var r=new FileReader;r.readAsDataURL(n),r.onloadend=function(){a.file=r.result,t.setState({selectedFile:n,seos:a})}}},t.handleFileRemove=function(e){var a=t.state.seos;a.file={},t.setState({selectedFile:null,seos:a}),document.getElementById("seos-image-upload").value=""},t.clearForm=function(e){t.props.data.history.replace("/admin/seos"),t.props.data.history.replace("/admin/seos/create")},t.state={seos:{is_active:0},validated:!1,action:"",page:{value:""}},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"selectPage",value:function(e,a){var t,n=this.state.seos;n.model_id=e&&e.value?e.value:"",n.model_type=e&&e.label?e.label:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"seos",n),t))}},{key:"handleChange",value:function(e){var a=this.state.seos,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({seos:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;delete this.state.seos.url,e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),ve("seos",this.state.seos).then((function(e){a.setState({seos:e.data}),"save_new"==a.state.action?a.clearForm("create-seo-from"):a.props.data.history.push("/admin/seos")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.seos,a.page),n=a.selectedFile;return r.a.createElement(mt.a,{noValidate:!0,id:"create-seo-from",onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"3"},r.a.createElement(mt.a.Label,null,"Page *"),r.a.createElement(nn.a,{required:!0,value:t.value?t:"select...",model:"seos",name:"page",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectPage(a,"page")},options:ye})),r.a.createElement(mt.a.Group,{as:dt.a,md:"9"},r.a.createElement(mt.a.Label,null,"Title *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"seos",name:"title",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Description *"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"5",type:"text",placeholder:"",model:"seos",name:"description",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement("input",{accept:"image/*",style:{display:"none"},type:"file",id:"seos-image-upload",name:"image",onChange:this.fileChangedHandler}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"seos-image-upload"},r.a.createElement(Tc.a,{variant:"outlined",color:"inherit",component:"span"},"Select Image",r.a.createElement(xc.a,{style:{marginLeft:"5px"}}))),r.a.createElement("div",{className:"form-group form-group-last row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"dropzone dropzone-multi",id:"kt_dropzone_5"},r.a.createElement("div",{className:"dropzone-items",style:{display:n?"block":"none"}},r.a.createElement("div",{className:"dropzone-item"},r.a.createElement("div",{className:"dropzone-file"},this.state.previewFile&&r.a.createElement("div",{style:{"max-width":"250px"}},r.a.createElement("img",{style:{width:"100%"},src:this.state.previewFile})),r.a.createElement("div",{className:"dropzone-filename",title:"some_image_file_name.jpg"},r.a.createElement("span",{"data-dz-name":!0},n?n.name:"No file selected"),r.a.createElement("strong",null,"(",r.a.createElement("span",{"data-dz-size":!0},n&&n.size_c?n.size_c:""),")")),r.a.createElement("div",{className:"dropzone-error","data-dz-errormessage":!0},n&&n.error?n.error:"")),r.a.createElement("div",{className:"dropzone-toolbar"},r.a.createElement("span",{onClick:function(a){return e.handleFileRemove(a)},className:"dropzone-delete","data-dz-remove":!0},r.a.createElement("i",{className:"flaticon2-cross"})))))),r.a.createElement("span",{className:"form-text text-muted"},"Max file size is 2MB."))))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/seos",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),xp=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Seo Create",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/seos",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Tp,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Mp=Object(B.o)(xp),Dp=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).fileChangedHandler=function(e){var a=t.state.seos,n=e.target.files[0];if(t.setState({previewFile:URL.createObjectURL(n)}),void 0!=n)if(n.size_c=n.size/1024,n.size_c/1024>2)n.size_c=(n.size_c/1024).toFixed(2)+" MB",n.error="Error: File is too big",a.file={},t.setState({selectedFile:n});else{n.error=null,n.size_c=n.size_c.toFixed(2)+" KB";var r=new FileReader;r.readAsDataURL(n),r.onloadend=function(){a.file=r.result,t.setState({selectedFile:n,seos:a})}}},t.handleFileRemove=function(e){var a=t.state.seos;delete a.file,t.setState({selectedFile:null,seos:a}),document.getElementById("seos-image-upload").value=""};var n=t.props.data.match.params.seo_id;return t.state={validated:!1,seos:{id:n}},t.getSeo(n),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"selectPage",value:function(e,a){var t,n=this.state.seos;n.model_id=e&&e.value?e.value:"",n.model_type=e&&e.label?e.label:"",this.setState((t={},Object(b.a)(t,a,e),Object(b.a)(t,"seos",n),t))}},{key:"getSeo",value:function(e){var a=this;be("seos/"+e+"/").then((function(e){var t=a.state.page;ye.map((function(a){a.label===e.data.model_type&&(t={label:a.label,value:a.value},e.data.model_id=a.value,e.data.model_type=a.label)})),a.setState({seos:e.data,page:t,previewFile:e.data.media?oe+e.data.media.original_file_name:null}),a.setSelectfile()}))}},{key:"handleChange",value:function(e){var a=this.state.seos,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({seos:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),fe("seos/"+this.state.seos.id+"/",this.state.seos).then((function(e){a.setState({seos:e.data}),a.props.data.history.push("/admin/seos")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"setSelectfile",value:function(){if(this.state.seos.media){var e={},a=this.state.seos.media.original_file_name.split("/");e.name_c=a[a.length-1],this.setState({selectedFile:e})}}},{key:"render",value:function(){var e=this,a=this.state,t=a.seos,n=a.page,l=a.selectedFile;return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"3"},r.a.createElement(mt.a.Label,null,"Page *"),r.a.createElement(nn.a,{required:!0,value:n||"select...",model:"seos",name:"page",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectPage(a,"page")},options:ye})),r.a.createElement(mt.a.Group,{as:dt.a,md:"9"},r.a.createElement(mt.a.Label,null,"Title *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"seos",name:"title",value:t.title,onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Description *"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"5",type:"text",placeholder:"",model:"seos",name:"description",value:t.description,onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement("input",{accept:"image/*",style:{display:"none"},type:"file",id:"seos-image-upload",name:"image",onChange:this.fileChangedHandler}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"seos-image-upload"},r.a.createElement(Tc.a,{variant:"outlined",color:"inherit",component:"span"},"Select Image",r.a.createElement(xc.a,{style:{marginLeft:"5px"}}))),r.a.createElement("div",{className:"form-group form-group-last row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"dropzone dropzone-multi",id:"kt_dropzone_5"},r.a.createElement("div",{className:"dropzone-items",style:{display:l?"block":"none"}},r.a.createElement("div",{className:"dropzone-item"},r.a.createElement("div",{className:"dropzone-file"},this.state.previewFile&&r.a.createElement("div",{style:{"max-width":"250px"}},r.a.createElement("img",{style:{width:"100%"},src:this.state.previewFile})),r.a.createElement("div",{className:"dropzone-filename",title:"some_image_file_name.jpg"},r.a.createElement("span",{"data-dz-name":!0},l?l.name:"No file selected"),r.a.createElement("strong",null,r.a.createElement("span",{"data-dz-size":!0},l&&l.size_c?"("+l.size_c+")":""))),r.a.createElement("div",{className:"dropzone-error","data-dz-errormessage":!0},l&&l.error?l.error:"")),r.a.createElement("div",{className:"dropzone-toolbar"},r.a.createElement("span",{onClick:function(a){return e.handleFileRemove(a)},className:"dropzone-delete","data-dz-remove":!0},r.a.createElement("i",{className:"flaticon2-cross"})))))),r.a.createElement("span",{className:"form-text text-muted"},"Max file size is 2MB."))))),r.a.createElement(Ma.a,{type:"submit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/seos",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Ap=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this,a=r.a.createElement(P.Link,{to:"/admin/seos",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Seo",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},a))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Dp,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Rp=Object(B.o)(Ap),Lp=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,r=n.seo_id,l=n.type;return t.txt_weight={fontWeight:500},t.handleModalShow=t.handleModalShow.bind(Object(at.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.confirm=t.confirm.bind(Object(at.a)(t)),t.state={type:l,seos:{id:r},action:"",showModal:!1,created_at:"",updated_at:"",image:null,is_active:""},t.getSeo(r),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getSeo",value:function(e){var a=this;be("seos/"+e+"/").then((function(e){a.setState({created_at:e.data.created_at?(new Intl.DateTimeFormat).format(new Date(e.data.created_at)):"",updated_at:e.data.updated_at?(new Intl.DateTimeFormat).format(new Date(e.data.updated_at)):"",image:e.data.media?e.data.media.original_file_name:null,seos:e.data}),a.props.setTitle(e.data.model_type)}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.seos;n[a]=e,this.setState({seos:n}),fe("seos/"+this.state.seos.id+"/",this.state.seos).then((function(e){t.setState({seos:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalShow",value:function(e,a){var t=e.target.value;"status"===a&&(t=parseInt(t),this.setState({is_active:1===t?0:1})),this.setState({action:a}),this.setState({showModal:!0})}},{key:"handleModalClose",value:function(){this.setState({showModal:!1})}},{key:"confirm",value:function(){var e=this;"status"===this.state.action&&(this.state.seos.is_active=this.state.is_active,fe("seos/"+this.state.seos.id+"/",this.state.seos).then((function(a){delete a.data.type,e.setState({seos:a.data}),e.setState({showModal:!1})})).catch((function(a){e.props.sendError(a.response.data),e.setState({showModal:!1})})))}},{key:"render",value:function(){var e=this.state.seos;return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Page"),r.a.createElement("div",null,e.model_type?e.model_type:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Title"),r.a.createElement("div",null,e.title?e.title:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Description"),r.a.createElement("div",null,e.description?e.description:"---"))))),r.a.createElement(ut.a,{item:!0,xs:12,md:3},r.a.createElement("img",{style:{maxHeight:"220px",maxWidth:"200px"},src:this.state.image?oe+this.state.image:oe+"dummy_image.svg"}))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:this.confirm},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:this.handleModalClose},"No"))))}}]),a}(r.a.Component),Ip=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).setMainTitle=function(e){t.setState({title:e})},t.state={errors:{},showError:!1,title:"Seo"},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.title,jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/seos",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/seos/"+this.props.match.params.seo_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Lp,{data:this.props,sendError:this.sendError,setTitle:this.setMainTitle}))))))}}]),a}(r.a.Component),Fp=Object(B.o)(Ip),Up=(r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),{success:fa.a,warning:va.a,error:ga.a,info:_a.a}),Gp=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function Pp(e){var a=Gp(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=Up[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var zp=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),Vp=function(e){var a=zp(),t=e.numSelected,n=(e.type,e.selected),l=e.setSelected,c=e.setSelectedMany,s=e.setRowsData,i=e.rows,o=e.setTemp;e.csvData;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,t>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon2-open-box"})),t>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},t," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"Specialities")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},t>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(n.length){var a={ids:n};ge("speciality/"+n[0]+"/",a).then((function(e){for(var a in i)n.indexOf(i[a].id)>-1&&delete i[a];s(i),n.length=0,l(n),c(!1);var t=[];t.push(1),o(t),qp()}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/speciality/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record")))))))},Hp=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),Bp=t(36);function qp(e,a){Bp("#specialities").DataTable().ajax.reload(null,!1)}Bp.DataTable=t(40);var Wp=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function Yp(e){var a=Hp(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState([]),te=Object(H.a)(ae,2),ne=te[0],re=(te[1],r.a.useState(!1)),le=Object(H.a)(re,2),ce=le[0],se=le[1],oe=r.a.useState({create:Ee("add_abspecialities"),edit:Ee("change_abspecialities"),delete:Ee("delete_abspecialities"),view:Ee("view_abspecialities")}),me=Object(H.a)(oe,2),de=me[0],ue=(me[1],Object(B.k)());function pe(e){S(!1)}function he(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){Bp.fn.dataTable.isDataTable("#specialities")&&(Bp("#specialities").DataTable().destroy(),se(!0));return function(){y([]),Bp("#specialities").DataTable().destroy(!0),se(!0)}}),[]),r.a.useEffect((function(){if(ce&&Bp.fn.dataTable.isDataTable("#specialities"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{se(!0);try{!function(){var a=ie+"speciality?format=datatables",t=[{bVisible:!1,aTargets:[1]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:ve(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),Bp("#specialities").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:ve(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{onClick:function(){return ue.push("/admin/speciality/"+t.id)}},a),e)}},{targets:3,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return he(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(de.create||de.edit)&&t.push({targets:4,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:Wp}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},de.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return ue.push("/admin/speciality/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",de.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return he(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});Bp("#specialities").DataTable({responsive:{details:{renderer:Bp.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("speciality",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n\t\t\t\t <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[4,"desc"]],columnDefs:t}),Bp("#specialities").on("page.dt",(function(){Pa(Bp("#specialities"),"speciality",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var be=function(e,a){K(!1)},ve=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(Vp,{csvData:ne,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length}),r.a.createElement("div",{className:"kt-portlet__body"},de.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){Bp("#specialities").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",de.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"specialities"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),qp()},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:pe},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("speciality/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),qp(),K(!0);var t=1===e.data.is_active?"activated":"deactivated";$("Record successfully "+t)}))}else"delete"==R&&ge("speciality/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),qp(),K(!0),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:pe},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:16e5,onClose:be},r.a.createElement(Pp,{onClose:be,variant:"success",message:Z})))}var Jp=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).clearForm=function(e){t.props.data.history.replace("/admin/speciality"),t.props.data.history.replace("/admin/speciality/create")},t.state={speciality:{is_active:0},validated:!1,action:""},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"handleChange",value:function(e){var a=this.state.speciality,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({speciality:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),ve("speciality",this.state.speciality).then((function(e){a.setState({speciality:e.data}),"save_new"==a.state.action?a.clearForm("create-speciality-form"):a.props.data.history.push("/admin/speciality")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.speciality);return r.a.createElement(mt.a,{noValidate:!0,id:"create-speciality-form",onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"specialities",name:"name",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/speciality",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Kp=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Job Speciality",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/speciality",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Jp,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Xp=Object(B.o)(Kp),Qp=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params.speciality_id;return t.state={validated:!1,speciality:{}},t.getSpeciality(n),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getSpeciality",value:function(e){var a=this;be("speciality/"+e+"/").then((function(e){a.setState({speciality:e.data})}))}},{key:"handleChange",value:function(e){var a=this.state.speciality,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({speciality:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),fe("speciality/"+this.state.speciality.id+"/",this.state.speciality).then((function(e){a.setState({speciality:e.data}),a.props.data.history.push("/admin/speciality")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.speciality);return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"specialities",name:"name",defaultValue:t?t.name:"",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/speciality",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Zp=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this,a=r.a.createElement(P.Link,{to:"/admin/speciality",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Company Speciality",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},a))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Qp,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),$p=Object(B.o)(Zp),eh=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,r=n.speciality_id,l=n.type;return t.txt_weight={fontWeight:500},t.handleModalShow=t.handleModalShow.bind(Object(at.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.confirm=t.confirm.bind(Object(at.a)(t)),t.state={type:l,speciality:{},action:"",showModal:!1,created_at:"",updated_at:"",is_active:""},t.getSpeciality(r),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getSpeciality",value:function(e){var a=this;be("speciality/"+e+"/").then((function(e){delete e.data.type,a.setState({created_at:e.data.created_at?(new Intl.DateTimeFormat).format(new Date(e.data.created_at)):"",updated_at:e.data.updated_at?(new Intl.DateTimeFormat).format(new Date(e.data.updated_at)):""}),a.props.setTitle(e.data.name),a.setState({speciality:e.data})}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.speciality;n[a]=e,this.setState({speciality:n}),fe("speciality/"+this.state.speciality.id+"/",this.state.speciality).then((function(e){t.setState({speciality:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalShow",value:function(e,a){var t=e.target.value;"status"===a&&(t=parseInt(t),this.setState({is_active:1===t?0:1})),this.setState({action:a}),this.setState({showModal:!0})}},{key:"handleModalClose",value:function(){this.setState({showModal:!1})}},{key:"confirm",value:function(){var e=this;"status"===this.state.action&&(this.state.speciality.is_active=this.state.is_active,fe("speciality/"+this.state.speciality.id+"/",this.state.speciality).then((function(a){delete a.data.type,e.setState({speciality:a.data}),e.setState({showModal:!1})})).catch((function(a){e.props.sendError(a.response.data),e.setState({showModal:!1})})))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.speciality);return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Name"),r.a.createElement("div",null,t.name?t.name:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Created"),r.a.createElement("div",null,this.state.created_at?this.state.created_at:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Modified"),r.a.createElement("div",null,this.state.updated_at?this.state.updated_at:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Status"),r.a.createElement("div",null,r.a.createElement("span",{onClick:function(a){return e.handleModalShow(a,"status")},className:1===this.state.speciality.is_active?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===t.is_active?"defaultChecked":"",value:1===t.is_active?"1":"0",name:"is_active"}),r.a.createElement("span",null))))))))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:this.confirm},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:this.handleModalClose},"No"))))}}]),a}(r.a.Component),ah=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).setMainTitle=function(e){t.setState({title:e})};e.match.params.type;return t.state={errors:{},showError:!1,title:"Speciality"},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.title,jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/speciality",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/speciality/"+this.props.match.params.speciality_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(eh,{data:this.props,sendError:this.sendError,setTitle:this.setMainTitle}))))))}}]),a}(r.a.Component),th=Object(B.o)(ah),nh=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),rh={success:fa.a,warning:va.a,error:ga.a,info:_a.a},lh=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function ch(e){var a=lh(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=rh[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var sh=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),ih=function(e){var a=sh(),t=e.setMessageType,n=e.setMessage,l=e.setOpen,c=e.exportSpinner,s=e.setExpSpin,i=e.csvData,o=e.setCsvData,m=e.numSelected,d=e.selected,u=e.setSelected,p=e.setSelectedMany,h=e.setRowsData,E=e.rows,f=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,m>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon2-open-box"})),m>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},m," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"States")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},m>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(d.length){var a={ids:d};ge("states/"+d[0]+"/",a).then((function(e){for(var a in E)d.indexOf(E[a].id)>-1&&delete E[a];h(E),d.length=0,u(d),p(!1);var t=[];t.push(1),f(t),dh()}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/states/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:nh,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){s(""),be("states",{records:"all"}).then((function(e){var a=["country"];s("d-none");var t=e.data.map((function(e,t){return a.map((function(a){e[a]=e[a]?e[a].name:e[a]})),e}));o(t),document.getElementById("states-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+c})),r.a.createElement(Ha.CSVLink,{data:i,filename:"states.csv",className:"d-none",id:"states-csv-btn",target:"_blank"})),r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement(St.a,{inputId:"states-csv-reader",cssClass:"kt-nav__link-text",cssInputClass:"d-none",label:"Import",onFileLoaded:function(e){return _e(e,"AbStates").then((function(e){e.data.success?t("success"):t("error"),n(e.data.message),l(!0),dh()}))}}))))))))))))},oh=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),mh=t(36);function dh(e,a){mh("#state").DataTable().ajax.reload(null,!1)}mh.DataTable=t(40);var uh=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function ph(e){var a=oh(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState([]),te=Object(H.a)(ae,2),ne=te[0],re=te[1],le=r.a.useState(!1),ce=Object(H.a)(le,2),se=ce[0],oe=ce[1],me=r.a.useState("d-none"),de=Object(H.a)(me,2),ue=de[0],pe=de[1],he=r.a.useState("success"),be=Object(H.a)(he,2),ve=be[0],_e=be[1],ye=r.a.useState({create:Ee("add_abstates"),edit:Ee("change_abstates"),delete:Ee("delete_abstates"),view:Ee("view_abstates")}),ke=Object(H.a)(ye,2),Ne=ke[0],Ce=(ke[1],Object(B.k)());function we(e){S(!1)}function Oe(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){mh.fn.dataTable.isDataTable("#state")&&(mh("#state").DataTable().destroy(),oe(!0));return function(){y([]),mh("#state").DataTable().destroy(!0),oe(!0)}}),[]),r.a.useEffect((function(){if(se&&mh.fn.dataTable.isDataTable("#state"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{oe(!0);try{!function(){var a=ie+"states?format=datatables",t=[{bVisible:!1,aTargets:[1]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:je(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),mh("#state").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:je(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{onClick:function(){return Ce.push("/admin/states/"+t.id)}},a),e)}},{targets:4,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return Oe(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(Ne.create||Ne.edit)&&t.push({targets:5,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:uh}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},Ne.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return Ce.push("/admin/states/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",Ne.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return Oe(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});mh("#state").DataTable({responsive:{details:{renderer:mh.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("states",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){a.country?e[t].country__name=a.country.name:e[t].country__name="",e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n           <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[4,"desc"]],columnDefs:t}),mh("#state").on("page.dt",(function(){Pa(mh("#state"),"states",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var Se=function(e,a){K(!1)},je=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(ih,{setMessageType:_e,setMessage:$,setOpen:K,exportSpinner:ue,setExpSpin:pe,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,csvData:ne,setCsvData:re}),r.a.createElement("div",{className:"kt-portlet__body"},Ne.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){mh("#state").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",Ne.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"state"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),dh()},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"country__name"},"Country"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:we},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("states/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),dh(),K(!0);var t=1===e.data.is_active?"activated":"deactivated";_e("success"),$("Record successfully "+t)}))}else"delete"==R&&ge("states/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),dh(),K(!0),_e("success"),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:we},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:1500,onClose:Se},r.a.createElement(ch,{onClose:Se,variant:ve,message:Z})))}var hh=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).clearForm=function(e){t.props.data.history.replace("/admin/states"),t.props.data.history.replace("/admin/states/create")},t.state={initialOptions:[],modelsLoaded:!1,state:{is_active:0},validated:!1,action:"",countries:[],country:{value:""},fields:{},errorsf:{}},t.loadModels(),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"loadModels",value:function(){ve("abmodels",{models:{AbCountries:{}}}).then(function(e){var a=function(a){e.data[a].map((function(t,n){e.data[a][n].label=t.name,e.data[a][n].value=t.id}))};for(var t in e.data)a(t);this.setState({countries:e.data.AbCountries,modelsLoaded:!0})}.bind(this))}},{key:"selectCountry",value:function(e,a){var t,n=this.state.state;n.country=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"state",n),t))}},{key:"handleChange",value:function(e){var a=this.state.state,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({state:a});var r=this.state.fields;r[t]=n,this.setState({fields:r})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.handleValidation()&&(this.setState({validated:!0}),ve("states",this.state.state).then((function(e){a.setState({state:e.data}),"save_new"==a.state.action?a.clearForm("create-state-form"):a.props.data.history.push("/admin/states")})).catch((function(e){a.props.sendError(e.response.data)})))}},{key:"handleValidation",value:function(){var e=this.state.fields,a={},t=!0,n=Object.keys({name:"name"});for(var r in n)"undefined"!==typeof e[n[r]]&&""!==e[n[r]]&&(e[n[r]].match(/^([a-z]+\s)*[a-z]+$/i)||(t=!1,a[n[r]]=["Only alphabets are allowed."]));return this.setState({errorsf:a},function(){this.props.sendError(this.state.errorsf)}.bind(this)),t}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.state),n=a.countries,l=a.country,c=a.modelsLoaded,s=a.initialOptions;return r.a.createElement(mt.a,{noValidate:!0,id:"create-state-form",onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"state",name:"name",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Country *"),r.a.createElement(rn.a,{options:s,value:l.value?l:"select...",model:"countries",name:"country",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectCountry(a,"country")},loadOptions:function(e,a){return Pe(e,a,n,c)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/states",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Eh=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"States",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/states",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(hh,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),bh=Object(B.o)(Eh),fh=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params.state_id;return t.state={validated:!1,state:{id:n},countries:[],country:{},fields:{},errorsf:{},initialOptions:[],modelsLoaded:!1},t.getState(n),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getState",value:function(e){var a=this;be("states/"+e+"/").then((function(e){delete e.data.state,a.setState({state:e.data}),a.loadModels()}))}},{key:"loadModels",value:function(){var e=this.state.state,a={AbCountries:["country"]};ve("abmodels",{models:{AbCountries:{}}}).then(function(t){var n={},r=function(r){t.data[r].map((function(l,c){t.data[r][c].label=l.name,t.data[r][c].value=l.id,Object.keys(a).map((function(t,c){a[t].map((function(a,c){r===t&&null!==e[a]&&void 0!==e[a].id&&e[a].id===l.id&&(n[a]=l)}))}))}))};for(var l in t.data)r(l);n.countries=t.data.AbCountries,n.modelsLoaded=!0,this.setState(n)}.bind(this))}},{key:"getCountries",value:function(){be("countries",{is_active:1,records:"all"}).then(function(e){var a=e.data;for(var t in a)a[t].label=a[t].name,a[t].value=a[t].id;this.setState({countries:a}),this.getState(this.state.state.id)}.bind(this))}},{key:"selectCountry",value:function(e,a){var t,n=this.state.state;n.country=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"state",n),t))}},{key:"handleChange",value:function(e){var a=this.state.state,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({state:a});var r=this.state.fields;r[t]=n,this.setState({fields:r})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.handleValidation()&&(this.setState({validated:!0}),fe("states/"+this.state.state.id+"/",this.state.state).then((function(e){a.setState({state:e.data}),a.props.data.history.push("/admin/states")})).catch((function(e){a.props.sendError(e.response.data)})))}},{key:"handleValidation",value:function(){var e=this.state.fields,a={},t=!0,n=Object.keys({name:"name"});for(var r in n)"undefined"!==typeof e[n[r]]&&""!==e[n[r]]&&(e[n[r]].match(/^([a-z]+\s)*[a-z]+$/i)||(t=!1,a[n[r]]=["Only alphabets are allowed."]));return this.setState({errorsf:a},function(){this.props.sendError(this.state.errorsf)}.bind(this)),t}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.state),n=a.countries,l=a.country,c=(a.initialOptions,a.modelsLoaded);return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"states",name:"name",defaultValue:t?t.name:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Country *"),r.a.createElement(rn.a,{value:l.value?l:"select...",model:"countries",name:"country",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectCountry(a,"country")},options:n,loadOptions:function(e,a){return Pe(e,a,n,c)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/states",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),vh=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this,a=r.a.createElement(P.Link,{to:"/admin/states",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"State",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},a))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(fh,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),gh=Object(B.o)(vh),_h=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,r=n.state_id,l=n.type;return t.txt_weight={fontWeight:500},t.handleModalShow=t.handleModalShow.bind(Object(at.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.confirm=t.confirm.bind(Object(at.a)(t)),t.state={type:l,state:{},action:"",showModal:!1,created_at:"",updated_at:"",is_active:""},t.getState(r),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getState",value:function(e){var a=this;be("states/"+e+"/").then((function(e){delete e.data.type;var t=e.data.country.name;e.data.country=e.data.country.id,a.setState({created_at:e.data.created_at?(new Intl.DateTimeFormat).format(new Date(e.data.created_at)):"",updated_at:e.data.updated_at?(new Intl.DateTimeFormat).format(new Date(e.data.updated_at)):"",selected_country:t,state:e.data}),a.props.setTitle(e.data.name)}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.state;n[a]=e,this.setState({state:n}),fe("states/"+this.state.state.id+"/",this.state.state).then((function(e){t.setState({state:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalShow",value:function(e,a){var t=e.target.value;"status"===a&&(t=parseInt(t),this.setState({is_active:1===t?0:1})),this.setState({action:a}),this.setState({showModal:!0})}},{key:"handleModalClose",value:function(){this.setState({showModal:!1})}},{key:"confirm",value:function(){var e=this;"status"===this.state.action&&(this.state.state.is_active=this.state.is_active,fe("states/"+this.state.state.id+"/",this.state.state).then((function(a){delete a.data.type,e.setState({state:a.data}),e.setState({showModal:!1})})).catch((function(a){e.props.sendError(a.response.data),e.setState({showModal:!1})})))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.state),n=a.selected_country;return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Name"),r.a.createElement("div",null,t.name?t.name:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Country"),r.a.createElement("div",null,n||"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Created"),r.a.createElement("div",null,this.state.created_at?this.state.created_at:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Modified"),r.a.createElement("div",null,this.state.updated_at?this.state.updated_at:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Status"),r.a.createElement("div",null,r.a.createElement("span",{onClick:function(a){return e.handleModalShow(a,"status")},className:1===this.state.state.is_active?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===t.is_active?"defaultChecked":"",value:1===t.is_active?"1":"0",name:"is_active"}),r.a.createElement("span",null))))))))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:this.confirm},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:this.handleModalClose},"No"))))}}]),a}(r.a.Component),yh=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).setMainTitle=function(e){t.setState({title:e})};e.match.params.type;return t.state={errors:{},showError:!1,title:"State"},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.title,jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/states",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/states/"+this.props.match.params.state_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(_h,{data:this.props,sendError:this.sendError,setTitle:this.setMainTitle}))))))}}]),a}(r.a.Component),kh=Object(B.o)(yh),Nh=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),Ch={success:fa.a,warning:va.a,error:ga.a,info:_a.a},wh=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function Oh(e){var a=wh(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=Ch[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var Sh=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),jh=function(e){var a=Sh(),t=e.exportSpinner,n=e.setExpSpin,l=e.csvData,c=e.setCsvData,s=e.numSelected,i=(e.type,e.selected),o=e.setSelected,m=e.setSelectedMany,d=e.setRowsData,u=e.rows,p=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,s>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon2-open-box"})),s>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},s," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"Job Titles")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},s>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(i.length){var a={ids:i};ge("job_titles/"+i[0]+"/",a).then((function(e){for(var a in u)i.indexOf(u[a].id)>-1&&delete u[a];d(u),i.length=0,o(i),m(!1);var t=[];t.push(1),p(t),Mh()}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/titles/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:Nh,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){n(""),be("job_titles",{records:"all"}).then((function(e){n("d-none"),c(e.data),document.getElementById("job_titles-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+t})),r.a.createElement(Ha.CSVLink,{data:l,filename:"job_titles.csv",className:"d-none",id:"job_titles-csv-btn",target:"_blank"})))))))))))},Th=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),xh=t(36);function Mh(e,a){xh("#titles").DataTable().ajax.reload(null,!1)}xh.DataTable=t(40);var Dh=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function Ah(e){var a=Th(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState([]),te=Object(H.a)(ae,2),ne=te[0],re=te[1],le=r.a.useState(!1),ce=Object(H.a)(le,2),se=ce[0],oe=ce[1],me=r.a.useState("d-none"),de=Object(H.a)(me,2),ue=de[0],pe=de[1],he=r.a.useState({create:Ee("add_abtitles"),edit:Ee("change_abtitles"),delete:Ee("delete_abtitles"),view:Ee("view_abtitles")}),be=Object(H.a)(he,2),ve=be[0],_e=(be[1],Object(B.k)());function ye(e){S(!1)}function ke(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){xh.fn.dataTable.isDataTable("#titles")&&(xh("#titles").DataTable().destroy(),oe(!0));return function(){y([]),xh("#titles").DataTable().destroy(!0),oe(!0)}}),[]),r.a.useEffect((function(){if(se&&xh.fn.dataTable.isDataTable("#titles"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{oe(!0);try{!function(){var a=ie+"job_titles?format=datatables",t=[{bVisible:!1,aTargets:[1]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:Ce(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),xh("#titles").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:Ce(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{onClick:function(){return _e.push("/admin/titles/"+t.id)}},a),e)}},{targets:3,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return ke(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(ve.create||ve.edit)&&t.push({targets:4,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:Dh}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},ve.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return _e.push("/admin/titles/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",ve.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return ke(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});xh("#titles").DataTable({responsive:{details:{renderer:xh.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("job_titles",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n\t\t\t\t <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[4,"desc"]],columnDefs:t}),xh("#titles").on("page.dt",(function(){Pa(xh("#titles"),"job_titles",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var Ne=function(e,a){K(!1)},Ce=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(jh,{exportSpinner:ue,setExpSpin:pe,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,csvData:ne,setCsvData:re}),r.a.createElement("div",{className:"kt-portlet__body"},ve.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){xh("#titles").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",ve.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"titles"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),Mh()},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:ye},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("job_titles/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),Mh(),K(!0);var t=1===e.data.is_active?"activated":"deactivated";$("Record successfully "+t)}))}else"delete"==R&&ge("job_titles/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),Mh(),K(!0),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:ye},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:16e5,onClose:Ne},r.a.createElement(Oh,{onClose:Ne,variant:"success",message:Z})))}var Rh=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).clearForm=function(e){t.props.data.history.replace("/admin/titles"),t.props.data.history.replace("/admin/titles/create")},t.state={title:{is_active:0},validated:!1,action:"",fields:{},errorsf:{}},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"handleChange",value:function(e){var a=this.state.title,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({title:a});var r=this.state.fields;r[t]=n,this.setState({fields:r})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.handleValidation()&&(this.setState({validated:!0}),ve("job_titles",this.state.title).then((function(e){a.setState({title:e.data}),"save_new"==a.state.action?a.clearForm("job-title-form"):a.props.data.history.push("/admin/titles")})).catch((function(e){a.props.sendError(e.response.data)})))}},{key:"handleValidation",value:function(){var e=this.state.fields,a={},t=!0,n=Object.keys({name:"name"});for(var r in n)"undefined"!==typeof e[n[r]]&&""!==e[n[r]]&&(e[n[r]].match(/^([a-z]+\s)*[a-z]+$/i)||(t=!1,a[n[r]]=["Only alphabets are allowed."]));return this.setState({errorsf:a},function(){this.props.sendError(this.state.errorsf)}.bind(this)),t}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.title);return r.a.createElement(mt.a,{noValidate:!0,id:"job-title-form",onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"titles",name:"name",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/titles",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Lh=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Job Title",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/titles",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Rh,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Ih=Object(B.o)(Lh),Fh=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params.title_id;return t.state={validated:!1,title:{},fields:{},errorsf:{}},t.getTitle(n),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getTitle",value:function(e){var a=this;be("job_titles/"+e+"/").then((function(e){a.setState({title:e.data})}))}},{key:"handleChange",value:function(e){var a=this.state.title,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({title:a});var r=this.state.fields;r[t]=n,this.setState({fields:r})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.handleValidation()&&(this.setState({validated:!0}),fe("job_titles/"+this.state.title.id+"/",this.state.title).then((function(e){a.setState({title:e.data}),a.props.data.history.push("/admin/titles")})).catch((function(e){a.props.sendError(e.response.data)})))}},{key:"handleValidation",value:function(){var e=this.state.fields,a={},t=!0,n=Object.keys({name:"name"});for(var r in n)"undefined"!==typeof e[n[r]]&&""!==e[n[r]]&&(e[n[r]].match(/^([a-z]+\s)*[a-z]+$/i)||(t=!1,a[n[r]]=["Only alphabets are allowed."]));return this.setState({errorsf:a},function(){this.props.sendError(this.state.errorsf)}.bind(this)),t}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.title);return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"titles",name:"name",defaultValue:t?t.name:"",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/titles",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Uh=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this,a=r.a.createElement(P.Link,{to:"/admin/titles",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Job Title",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},a))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Fh,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Gh=Object(B.o)(Uh),Ph=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,r=n.title_id,l=n.type;return t.txt_weight={fontWeight:500},t.handleModalShow=t.handleModalShow.bind(Object(at.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.confirm=t.confirm.bind(Object(at.a)(t)),t.state={type:l,job_titles:{},action:"",showModal:!1,created_at:"",updated_at:"",is_active:""},t.getTitle(r),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getTitle",value:function(e){var a=this;be("job_titles/"+e+"/").then((function(e){delete e.data.type,a.setState({created_at:e.data.created_at?(new Intl.DateTimeFormat).format(new Date(e.data.created_at)):"",updated_at:e.data.updated_at?(new Intl.DateTimeFormat).format(new Date(e.data.updated_at)):""}),a.props.setTitle(e.data.name),a.setState({job_titles:e.data})}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.job_titles;n[a]=e,this.setState({job_titles:n}),fe("job_titles/"+this.state.job_titles.id+"/",this.state.job_titles).then((function(e){t.setState({job_titles:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalShow",value:function(e,a){var t=e.target.value;"status"===a&&(t=parseInt(t),this.setState({is_active:1===t?0:1})),this.setState({action:a}),this.setState({showModal:!0})}},{key:"handleModalClose",value:function(){this.setState({showModal:!1})}},{key:"confirm",value:function(){var e=this;"status"===this.state.action&&(this.state.job_titles.is_active=this.state.is_active,fe("job_titles/"+this.state.job_titles.id+"/",this.state.job_titles).then((function(a){delete a.data.type,e.setState({job_titles:a.data}),e.setState({showModal:!1})})).catch((function(a){e.props.sendError(a.response.data),e.setState({showModal:!1})})))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.job_titles);return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Name"),r.a.createElement("div",null,t.name?t.name:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Created"),r.a.createElement("div",null,this.state.created_at?this.state.created_at:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Modified"),r.a.createElement("div",null,this.state.updated_at?this.state.updated_at:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Status"),r.a.createElement("div",null,r.a.createElement("span",{onClick:function(a){return e.handleModalShow(a,"status")},className:1===this.state.job_titles.is_active?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===t.is_active?"defaultChecked":"",value:1===t.is_active?"1":"0",name:"is_active"}),r.a.createElement("span",null))))))))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:this.confirm},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:this.handleModalClose},"No"))))}}]),a}(r.a.Component),zh=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).setMainTitle=function(e){t.setState({title:e})};e.match.params.type;return t.state={errors:{},showError:!1,title:"Job Title"},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.title,jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/titles",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/titles/"+this.props.match.params.title_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Ph,{data:this.props,sendError:this.sendError,setTitle:this.setMainTitle}))))))}}]),a}(r.a.Component),Vh=Object(B.o)(zh),Hh=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),Bh={success:fa.a,warning:va.a,error:ga.a,info:_a.a},qh=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function Wh(e){var a=qh(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=Bh[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var Yh=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),Jh=function(e){var a=Yh(),t=e.exportSpinner,n=e.setExpSpin,l=e.csvData,c=e.setCsvData,s=e.numSelected,i=(e.type,e.selected),o=e.setSelected,m=e.setSelectedMany,d=e.setRowsData,u=e.rows,p=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,s>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon2-open-box"})),s>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},s," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"Departments")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},s>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(i.length){var a={ids:i};ge("departments/"+i[0]+"/",a).then((function(e){for(var a in u)i.indexOf(u[a].id)>-1&&delete u[a];d(u),i.length=0,o(i),m(!1);var t=[];t.push(1),p(t),Qh()}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/departments/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:Hh,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){n(""),be("departments",{records:"all"}).then((function(e){n("d-none"),c(e.data),document.getElementById("departments-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+t})),r.a.createElement(Ha.CSVLink,{data:l,filename:"departments.csv",className:"d-none",id:"departments-csv-btn",target:"_blank"})))))))))))},Kh=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),Xh=t(36);function Qh(e,a){Xh("#departments").DataTable().ajax.reload(null,!1)}Xh.DataTable=t(40);var Zh=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function $h(e){var a=Kh(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState([]),te=Object(H.a)(ae,2),ne=te[0],re=te[1],le=r.a.useState(!1),ce=Object(H.a)(le,2),se=ce[0],oe=ce[1],me=r.a.useState("d-none"),de=Object(H.a)(me,2),ue=de[0],pe=de[1],he=r.a.useState({create:Ee("add_abdepartments"),edit:Ee("change_abdepartments"),delete:Ee("delete_abdepartments"),view:Ee("view_abdepartments")}),be=Object(H.a)(he,2),ve=be[0],_e=(be[1],Object(B.k)());function ye(e){S(!1)}function ke(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){Xh.fn.dataTable.isDataTable("#departments")&&(Xh("#departments").DataTable().destroy(),oe(!0));return function(){y([]),Xh("#departments").DataTable().destroy(!0),oe(!0)}}),[]),r.a.useEffect((function(){if(se&&Xh.fn.dataTable.isDataTable("#departments"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{oe(!0);try{!function(){var a=ie+"departments?format=datatables",t=[{bVisible:!1,aTargets:[1]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:Ce(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),Xh("#departments").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:Ce(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{onClick:function(){return _e.push("/admin/departments/"+t.id)}},a),e)}},{targets:3,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return ke(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(ve.create||ve.edit)&&t.push({targets:4,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:Zh}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},ve.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return _e.push("/admin/departments/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",ve.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return ke(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});Xh("#departments").DataTable({responsive:{details:{renderer:Xh.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("departments",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n\t\t\t\t <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[4,"desc"]],columnDefs:t}),Xh("#departments").on("page.dt",(function(){Pa(Xh("#departments"),"departments",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var Ne=function(e,a){K(!1)},Ce=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(Jh,{exportSpinner:ue,setExpSpin:pe,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,csvData:ne,setCsvData:re}),r.a.createElement("div",{className:"kt-portlet__body"},ve.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){Xh("#departments").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",ve.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"departments"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),Qh()},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:ye},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("departments/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),Qh(),K(!0);var t=1===e.data.is_active?"activated":"deactivated";$("Record successfully "+t)}))}else"delete"==R&&ge("departments/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),Qh(),K(!0),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:ye},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:16e5,onClose:Ne},r.a.createElement(Wh,{onClose:Ne,variant:"success",message:Z})))}var eE=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).clearForm=function(e){t.props.data.history.replace("/admin/departments"),t.props.data.history.replace("/admin/departments/create")},t.state={title:{is_active:0},validated:!1,action:"",fields:{},errorsf:{}},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"handleChange",value:function(e){var a=this.state.title,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({title:a});var r=this.state.fields;r[t]=n,this.setState({fields:r})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.handleValidation()&&(this.setState({validated:!0}),ve("departments",this.state.title).then((function(e){a.setState({title:e.data}),"save_new"==a.state.action?a.clearForm("job-title-form"):a.props.data.history.push("/admin/departments")})).catch((function(e){a.props.sendError(e.response.data)})))}},{key:"handleValidation",value:function(){var e=this.state.fields,a={},t=!0,n=Object.keys({name:"name"});for(var r in n)"undefined"!==typeof e[n[r]]&&""!==e[n[r]]&&(e[n[r]].match(/^([a-z]+\s)*[a-z]+$/i)||(t=!1,a[n[r]]=["Only alphabets are allowed."]));return this.setState({errorsf:a},function(){this.props.sendError(this.state.errorsf)}.bind(this)),t}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.title);return r.a.createElement(mt.a,{noValidate:!0,id:"job-title-form",onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"departments",name:"name",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Type *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"departments",name:"type",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/departments",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),aE=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Department",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/departments",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(eE,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),tE=Object(B.o)(aE),nE=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params.department_id;return t.state={validated:!1,department:{},fields:{},errorsf:{}},t.getTitle(n),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getTitle",value:function(e){var a=this;be("departments/"+e+"/").then((function(e){a.setState({department:e.data})}))}},{key:"handleChange",value:function(e){var a=this.state.department,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({department:a});var r=this.state.fields;r[t]=n,this.setState({fields:r})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.handleValidation()&&(this.setState({validated:!0}),fe("departments/"+this.state.department.id+"/",this.state.department).then((function(e){a.setState({department:e.data}),a.props.data.history.push("/admin/departments")})).catch((function(e){a.props.sendError(e.response.data)})))}},{key:"handleValidation",value:function(){var e=this.state.fields,a={},t=!0,n=Object.keys({name:"name"});for(var r in n)"undefined"!==typeof e[n[r]]&&""!==e[n[r]]&&(e[n[r]].match(/^([a-z]+\s)*[a-z]+$/i)||(t=!1,a[n[r]]=["Only alphabets are allowed."]));return this.setState({errorsf:a},function(){this.props.sendError(this.state.errorsf)}.bind(this)),t}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.department);return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"departments",name:"name",defaultValue:t?t.name:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Type *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"departments",name:"type",defaultValue:t?t.type:"",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/departments",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),rE=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this,a=r.a.createElement(P.Link,{to:"/admin/departments",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Department",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},a))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(nE,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),lE=Object(B.o)(rE),cE=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,r=n.department_id,l=n.type;return t.txt_weight={fontWeight:500},t.handleModalShow=t.handleModalShow.bind(Object(at.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.confirm=t.confirm.bind(Object(at.a)(t)),t.state={type:l,departments:{},action:"",showModal:!1,created_at:"",updated_at:"",is_active:""},t.getTitle(r),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getTitle",value:function(e){var a=this;be("departments/"+e+"/").then((function(e){delete e.data.type,a.setState({created_at:e.data.created_at?(new Intl.DateTimeFormat).format(new Date(e.data.created_at)):"",updated_at:e.data.updated_at?(new Intl.DateTimeFormat).format(new Date(e.data.updated_at)):""}),a.props.setTitle(e.data.name),a.setState({departments:e.data})}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.departments;n[a]=e,this.setState({departments:n}),fe("departments/"+this.state.departments.id+"/",this.state.departments).then((function(e){t.setState({departments:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalShow",value:function(e,a){var t=e.target.value;"status"===a&&(t=parseInt(t),this.setState({is_active:1===t?0:1})),this.setState({action:a}),this.setState({showModal:!0})}},{key:"handleModalClose",value:function(){this.setState({showModal:!1})}},{key:"confirm",value:function(){var e=this;"status"===this.state.action&&(this.state.departments.is_active=this.state.is_active,fe("departments/"+this.state.departments.id+"/",this.state.departments).then((function(a){delete a.data.type,e.setState({departments:a.data}),e.setState({showModal:!1})})).catch((function(a){e.props.sendError(a.response.data),e.setState({showModal:!1})})))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.departments);return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Name"),r.a.createElement("div",null,t.name?t.name:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Created"),r.a.createElement("div",null,this.state.created_at?this.state.created_at:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Modified"),r.a.createElement("div",null,this.state.updated_at?this.state.updated_at:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Status"),r.a.createElement("div",null,r.a.createElement("span",{onClick:function(a){return e.handleModalShow(a,"status")},className:1===this.state.departments.is_active?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===t.is_active?"defaultChecked":"",value:1===t.is_active?"1":"0",name:"is_active"}),r.a.createElement("span",null))))))))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:this.confirm},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:this.handleModalClose},"No"))))}}]),a}(r.a.Component),sE=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).setMainTitle=function(e){t.setState({title:e})};e.match.params.type;return t.state={errors:{},showError:!1,title:"Department"},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.title,jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/departments",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/departments/"+this.props.match.params.department_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(cE,{data:this.props,sendError:this.sendError,setTitle:this.setMainTitle}))))))}}]),a}(r.a.Component),iE=Object(B.o)(sE);function oE(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}var mE=t(36);mE.DataTable=t(40);var dE=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params.user_id;return t.state={table:null,user:{id:n},contenttypes:[]},t.handleChange=t.handleChange.bind(Object(at.a)(t)),t.parseRowData=t.parseRowData.bind(Object(at.a)(t)),t.loadDatatable=t.loadDatatable.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"componentDidMount",value:function(){this.getUser()}},{key:"componentDidUpdate",value:function(e,a){if(this.state.table&&mE.fn.dataTable.isDataTable("#role_perm_table")){var t=this.parseRowData(this.state.contenttypes);if(JSON.stringify(t)!==JSON.stringify(window.prevRows))window.prevRows=t,mE("#role_perm_table").DataTable().ajax.reload(null,!1)}else this.loadDatatable()}},{key:"getUser",value:function(){var e=this;be("users/"+this.state.user.id+"/").then((function(a){e.setState({user:a.data}),e.props.setUser(a.data)}))}},{key:"getContenttypes",value:function(e){var a=this,t={};null!=e&&(t=function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?oE(Object(t),!0).forEach((function(a){Object(b.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):oE(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},t,{},e)),be("contenttypes",t).then((function(e){a.setState({contenttypes:e.data})}))}},{key:"loadDatatable",value:function(){var e=this,a=ie+"contenttypes?format=datatables";this.state.table=mE("#role_perm_table"),this.state.table=this.state.table.DataTable({responsive:!0,serverSide:!0,displayStart:za("user_permissions",e.props.data),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(a){var t=JSON.parse(a),n=e.parseRowData(t.data);return e.setState({contenttypes:n}),t.data=n,JSON.stringify(t)}},dom:"<'row'<'col-sm-12'tr>>\n           <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:e.state.contenttypes.recordsTotal,recordsFiltered:e.state.contenttypes.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[1,"asc"]],columnDefs:[{bVisible:!1,aTargets:[0]},{targets:-1,orderable:!1,searchable:!1,createdCell:function(a,t,n,l,s){c.a.render(r.a.createElement(wt.a,{checked:t.checked,color:"primary",value:t.permission_id,onChange:function(n){return e.handleChange(n,t,l,s,a)},inputProps:{"aria-label":"secondary checkbox"}}),a)}},{targets:-2,orderable:!1,searchable:!1,createdCell:function(a,t,n,l,s){c.a.render(r.a.createElement(wt.a,{checked:t.checked,value:t.permission_id,onChange:function(n){return e.handleChange(n,t,l,s,a)},color:"primary",inputProps:{"aria-label":"default checkbox"}}),a)}},{targets:-3,orderable:!1,searchable:!1,createdCell:function(a,t,n,l,s){c.a.render(r.a.createElement(wt.a,{color:"primary",checked:t.checked,value:t.permission_id,onChange:function(n){return e.handleChange(n,t,l,s,a)},inputProps:{"aria-label":"secondary checkbox"}}),a)}},{targets:-4,orderable:!1,searchable:!1,createdCell:function(a,t,n,l,s){c.a.render(r.a.createElement(wt.a,{color:"primary",checked:t.checked,value:t.permission_id,onChange:function(n){return e.handleChange(n,t,l,s,a)},inputProps:{"aria-label":"secondary checkbox"}}),a)}}]}),mE("#role_perm_table").on("page.dt",(function(){Pa(mE("#role_perm_table"),"user_permissions",e.props.data)}))}},{key:"handleChange",value:function(e,a,t,n,r){var l=this.state.user;a.checked?l.user_permissions.splice(l.user_permissions.indexOf(a.permission_id),1):l.user_permissions.push(a.permission_id),this.setState({user:l});var c={user_permissions:l.user_permissions};fe("users/"+this.state.user.id+"/",c).then((function(e){}))}},{key:"handleSearch",value:function(e){mE("#role_perm_table").DataTable().search(e.target.value).draw()}},{key:"parseRowData",value:function(e){var a=this;return Array.isArray(e)&&e.length>0&&e.forEach((function(t,n){if(t.model?e[n].model=t.model.charAt(0).toUpperCase()+t.model.slice(1):e[n].model="",t.permission_set&&t.permission_set[0]){var r=a.createPermissions(t.permission_set[0]);e[n].create__check=r}else e[n].create__check="";if(t.permission_set&&t.permission_set[1]){var l=a.createPermissions(t.permission_set[1]);e[n].edit__check=l}else e[n].edit__check="";if(t.permission_set&&t.permission_set[2]){var c=a.createPermissions(t.permission_set[2]);e[n].delete__check=c}else e[n].delete__check="";if(t.permission_set&&t.permission_set[3]){var s=a.createPermissions(t.permission_set[3]);e[n].view__check=s}else e[n].view__check=""})),e}},{key:"createPermissions",value:function(e){var a={permission_id:e.id};return this.state.user.user_permissions&&this.state.user.user_permissions.indexOf(e.id)>-1?a.checked=!0:a.checked=!1,a}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(a){return e.handleSearch(a)},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"})))))))))}}]),a}(r.a.Component),uE=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).setPrevUrl(),t.state={errors:{},showError:!1,user:{}},t.sendError=t.sendError.bind(Object(at.a)(t)),t.setUser=t.setUser.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"setPrevUrl",value:function(){this.prev_url=this.props.match.url.split("/")[2],"admin-user"==this.prev_url?this.prev_url="/admin/admin-user":this.prev_url="/admin/airbookers"}},{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"setUser",value:function(e){this.setState({user:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.user.contact?this.state.user.contact.first_name+" "+this.state.user.contact.last_name:"User",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:this.prev_url,className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(dE,{data:this.props,setUser:this.setUser,sendError:this.sendError}),r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"role_perm_table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"id"},"Id"),r.a.createElement("th",{"data-data":"model"},"Module"),r.a.createElement("th",{"data-data":"create__check"},"Create"),r.a.createElement("th",{"data-data":"edit__check"},"Edit"),r.a.createElement("th",{"data-data":"delete__check"},"Delete"),r.a.createElement("th",{"data-data":"view__check"},"View"))))))))))}}]),a}(r.a.Component),pE=Object(B.o)(uE),hE=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).clearForm=function(e){t.props.data.history.replace("/admin/role-permission"),t.props.data.history.replace("/admin/role-permission/create")};t.props.data.match.params.user_id;return t.state={validated:!1,role:{},action:""},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"handleChange",value:function(e){var a=this.state.role,t=e.target.name,n=e.target.value;a[t]=n,this.setState({role:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),ve("groups",this.state.role).then((function(e){a.setState({role:e.data}),"save_new"==a.state.action?a.clearForm("role-permission-form"):a.props.data.history.push("/admin/role-permission")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"render",value:function(){var e=this,a=this.state;a.validated,a.user;return r.a.createElement(mt.a,{noValidate:!0,id:"role-permission-form",onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",model:"contact",name:"name",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/role-permission",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),EE=r.a.createElement(P.Link,{to:"/admin/role-permission",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),bE=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Add Role",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},EE))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(hE,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),fE=Object(B.o)(bE),vE=function(e){function a(){return Object(Qa.a)(this,a),Object($a.a)(this,Object(et.a)(a).apply(this,arguments))}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(We.a,null,r.a.createElement("div",null,r.a.createElement("div",{className:"kt-portlet__body"},r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission")))))}}]),a}(r.a.Component),gE=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),_E={success:fa.a,warning:va.a,error:ga.a,info:_a.a},yE=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function kE(e){var a=yE(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=_E[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var NE=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),CE=function(e){var a=NE(),t=e.exportSpinner,n=e.setExpSpin,l=e.csvData,c=e.setCsvData,s=e.numSelected,i=e.type,o=e.selected,m=e.setSelected,d=e.setSelectedMany,u=e.setRowsData,p=e.rows,h=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,s>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand fa fa-ticket-alt"})),s>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},s," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"Aircraft Assets")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},s>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(o.length){var a={ids:o};ge("aircrafts/"+o[0]+"/",a).then((function(e){for(var a in p)o.indexOf(p[a].id)>-1&&delete p[a];u(p),o.length=0,m(o),d(!1);var t=[];t.push(1),h(t),SE(i)}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/aircraft/asset/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:gE,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){n(""),be("aircrafts",{records:"all"}).then((function(e){var a=["type","user","model","manufacturer","category","owner","registration_country","current_operator","previous_operator","manager","seller","current_location","configuration","engine_type","engine_model","engine_manufacturer"];n("d-none");var t=e.data.map((function(e,t){return a.map((function(a){e[a]=e[a]?e[a].name:e[a]})),e.primary_contact=e.primary_contact?e.primary_contact.first_name+" "+e.primary_contact.last_name:e.primary_contact,e}));c(t),document.getElementById("aircraft-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+t})),r.a.createElement(Ha.CSVLink,{data:l,filename:"aircrafts.csv",className:"d-none",id:"aircraft-csv-btn",target:"_blank"})))))))))))},wE=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),OE=t(36);function SE(e){OE("#aircraft").DataTable().ajax.reload(null,!1)}OE.DataTable=t(40);var jE=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function TE(e){var a=wE(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState(!1),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState("Changes applied successfully!"),te=Object(H.a)(ae,2),ne=te[0],re=te[1],le=r.a.useState(!1),ce=Object(H.a)(le,2),se=ce[0],oe=ce[1],me=r.a.useState([]),de=Object(H.a)(me,2),ue=de[0],pe=de[1],he=r.a.useState(!1),be=Object(H.a)(he,2),_e=be[0],ye=be[1],ke=r.a.useState({}),Ne=Object(H.a)(ke,2),Ce=Ne[0],we=Ne[1],Oe=r.a.useState(""),je=Object(H.a)(Oe,2),Te=je[0],xe=je[1],Me=r.a.useState("d-none"),De=Object(H.a)(Me,2),Ae=De[0],Re=De[1],Le=r.a.useState({create:Ee("add_abaircrafts"),edit:Ee("change_abaircrafts"),delete:Ee("delete_abaircrafts"),view:Ee("view_abaircrafts")}),Ie=Object(H.a)(Le,2),Fe=Ie[0],Ue=(Ie[1],Object(B.k)()),Ge=e.match.params.type,Pe=[{value:"",label:"All Assets"}];Se.map((function(e,a){Pe.push(e)}));function ze(e){S(!1)}function He(e){if("send"===e){var a=[];a=_.length?_:window.prevRows,Ce.status_reason=Te,qe(Ce,x,a),$(!0)}else oe(!1)}function Be(e,a,t){M(a),L(t),S(!0)}function qe(e,a,t){ve("assets/update_status",e).then((function(n){var r=t.map((function(t,n){return n===a&&(t.isactivestatus=e.isactivestatus),t}));y(r),K(!0),oe(!1),re("Status successfully updated"),$(!1),SE()}))}r.a.useEffect((function(){OE.fn.dataTable.isDataTable("#aircraft")&&(OE("#aircraft").DataTable().destroy(),ye(!0));return function(){y([]),OE("#aircraft").DataTable().destroy(!0),ye(!0)}}),[]),r.a.useEffect((function(){if(_e&&OE.fn.dataTable.isDataTable("#aircraft"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{ye(!0);try{!function(){var a=ie+"aircrafts?format=datatables",t=[{bVisible:!1,aTargets:[1]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:Je(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),OE("#aircraft").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:Je(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){var s=t.model__name+" "+t.manufacturer__name,i=t.id+"-"+s.replace(/\s+/g,"-").toLowerCase();c.a.render(r.a.createElement("a",{target:"_blank",style:{cursor:"pointer"},href:"/aircraft/"+i+"/"},a),e)}},{targets:7,orderable:!0,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return Be(e,n,"is_featured")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}},{targets:8,title:"Created",createdCell:function(e,a,t,n,r){c.a.render(Va(new Date(a),"MMM DD, YYYY"),e)}},{targets:9,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){var s="",i="";c.a.render(r.a.createElement(mt.a.Control,{onChange:function(e){return function(e,a){var t=[];t=_.length?_:window.prevRows;e.target.value;var n={isactivestatus:e.target.value,model:"AbAircrafts",id:t[a].id};M(a),"Revise"===n.isactivestatus||"Rejected"===n.isactivestatus?(oe(!0),we(n)):(qe(n,a,t),$(!0))}(e,n)},as:"select"},Se.map((function(e,t){return s=e.value===a?"selected":"",i="Expired"===e.value?"disabled":"",r.a.createElement("option",{disabled:i,selected:s,key:t},e.label)}))),e)}}];(Fe.create||Fe.edit)&&t.push({targets:10,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:jE}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},r.a.createElement(Ve.a.Item,{onClick:function(){return Ue.push("/admin/aircraft/asset/"+t.id,"_blank")}},r.a.createElement("i",{className:"flaticon-eye"})," Views Details"),Fe.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return Ue.push("/admin/aircraft/asset/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",Fe.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return Be(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});OE("#aircraft").DataTable({responsive:{details:{renderer:OE.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("aircrafts",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){null!==a.type?e[t].type__name=a.type.name:e[t].type__name="",null!==a.model?e[t].model__name=a.model.name:e[t].model__name="",null!==a.manufacturer?e[t].manufacturer__name=a.manufacturer.name:e[t].manufacturer__name="",e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n         <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[9,"desc"]],columnDefs:t}),OE("#aircraft").on("page.dt",(function(){Pa(OE("#aircraft"),"aircrafts",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var Ye=function(e,a){K(!1)},Je=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(CE,{exportSpinner:Ae,setExpSpin:Re,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,type:Ge,csvData:ue,setCsvData:pe}),r.a.createElement("div",{className:"kt-portlet__body"},Fe.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile col-xs-12"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){OE("#aircraft").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))),r.a.createElement("div",{className:"col-md-4 col-xs-12 kt-margin-b-20-tablet-and-mobile"},r.a.createElement(nn.a,{defaultValue:"",name:"status_",onChange:function(e){OE("#aircraft").DataTable().columns(9).search(e.value).draw()},options:Pe})),r.a.createElement("div",{className:"col-md-4 col-xs-12 kt-margin-b-20-tablet-and-mobile"},r.a.createElement(nn.a,{defaultValue:"",placeholder:"Promote...",name:"promote_",onChange:function(e){OE("#aircraft").DataTable().columns(7).search(e.value).draw()},options:[{value:1,label:"Active"},{value:0,label:"Inactive"}]})))))):"",Fe.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"aircraft"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),SE()},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"manufacturer__name"},"Manufacturer"),r.a.createElement("th",{"data-data":"type__name"},"Type"),r.a.createElement("th",{"data-data":"model__name"},"Model"),r.a.createElement("th",{"data-data":"msn"},"MSN"),r.a.createElement("th",{"data-data":"offer_for"},"Offer"),r.a.createElement("th",{"data-data":"is_featured"},"Promote"),r.a.createElement("th",{"data-data":"created_at"},"Created"),r.a.createElement("th",{"data-data":"isactivestatus"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:ze},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("aircrafts/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),SE(),K(!0);var t=1===e.data.is_active?"activated":"deactivated";re("Record successfully "+t)}))}else if("delete"==R)ge("aircrafts/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),SE(),K(!0),re("Record successfully deleted")}));else if("is_featured"===R){a={is_featured:1===_[x].is_featured?0:1};ve("aircrafts/"+_[x].id+"/promote/",a).then((function(e){_[x]=e.data,y(_),S(!1),SE(),K(!0),re(e.data.message)}))}}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:ze},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:16e5,onClose:Ye},r.a.createElement(kE,{onClose:Ye,variant:"success",message:ne})),r.a.createElement(xa.a,{show:se,onHide:He,centered:!0},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Send mail to ",Ce?Ce.isactivestatus:"")),r.a.createElement(xa.a.Body,null,r.a.createElement("textarea",{rows:"5",onChange:function(e){return xe(e.target.value)},style:{display:"block",width:"100%"}})),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",className:!0===Z?"kt-spinner kt-spinner--right kt-spinner--sm kt-spinner--light":"",onClick:function(){return He("send")}},"Send"),r.a.createElement(Ma.a,{variant:"danger",onClick:He},"Cancel"))))}var xE=t(1359),ME=(t(1203),t(94)),DE=t.n(ME),AE=t(165),RE=t.n(AE),LE=t(1368),IE=t(362),FE=t.n(IE);function UE(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function GE(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?UE(Object(t),!0).forEach((function(a){Object(b.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):UE(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var PE=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={selected_media_tab:t.props.showLibrary?"my_library":"airbook_library",selected_sort_col:"",selected_sort_type:"",galleryModal:!1,user_media:[],airbook_media:[],meta_name:""},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"galleryModalOpener",value:function(){this.setState({galleryModal:!0}),this.props.showLibrary&&(this.state.user_media.length?this.makeGallery(this.state.user_media):this.getMedia("App\\User")),this.state.airbook_media.length?this.makeGallery(this.state.airbook_media):this.getMedia("Global")}},{key:"getMedia",value:function(e){var a=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n={mediable_type:e,mediableId:this.props.user};null!=t&&(n=GE({},n,{},t)),be("medias",n).then((function(e){var t="user";"Global"===n.mediable_type&&(t="airbook"),a.setState(Object(b.a)({},t+"_media",a.makeGallery(e.data))),a.isAnyImageSelected()}))}},{key:"makeGallery",value:function(e){var a=this.props.selected_images,t=[];return a.map((function(e,a){t.push(e.original_file_name)})),e.map((function(a,n){e[n].src=oe+a.original_file_name,e[n].thumbnail=oe+a.original_file_name,e[n].thumbnailWidth=150,e[n].thumbnailHeight=150,t.indexOf(e[n].original_file_name)>-1?e[n].isSelected=!0:e[n].isSelected=!1})),e}},{key:"searchMedia",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===e&&(e=this.state.search);var a=this.state.selected_sort_type,t=this.state.selected_sort_col,n="my_library"===this.state.selected_media_tab?"App\\User":"Global",r={search:e};""!==t&&(r.ordering="-"===a?a.value+t.value:t.value),this.getMedia(n,r)}},{key:"selectImage",value:function(e,a){var t=this.state[a+"_media"];t[e].isSelected=!t[e].isSelected,this.setState(Object(b.a)({},a+"_media",t)),this.isAnyImageSelected()}},{key:"isAnyImageSelected",value:function(){var e=!1,a=this.state.user_media;a.map((function(a,t){!0===a.isSelected&&(e=!0)})),(a=this.state.airbook_media).map((function(a,t){!0===a.isSelected&&(e=!0)})),this.setState({isAnySelected:e})}},{key:"deletePhotos",value:function(e){var a=this,t=this.state[e+"_media"],n=this.props.selected_images,r=[],l=[];t=t.filter((function(e){return!e.isSelected||(r.push(e.id),l.push(e.original_file_name),!1)})),n=n.filter((function(e){return!(l.indexOf(e.original_file_name)>-1)})),ge("medias/"+r[0]+"/",{ids:r}).then((function(r){var l;a.setState((l={},Object(b.a)(l,e+"_media",t),Object(b.a)(l,"isAnySelected",!1),l)),a.props.showLibrary&&a.props.insertImages(n)}))}},{key:"cancelSelection",value:function(){var e=[];this.props.selected_images.map((function(a,t){e.push(a.original_file_name)}));var a=this.state.user_media;a.map((function(t,n){e.indexOf(t.original_file_name)>-1?a[n].isSelected=!0:a[n].isSelected=!1})),this.setState({user_media:a,galleryModal:!1})}},{key:"insertSelectedImages",value:function(){var e=this.state.user_media,a=[];e.map((function(e,t){if(e.isSelected){var n={};Object.keys(e).map((function(a,t){n[a]=e[a]})),n.customOverlay=r.a.createElement(ut.a,{item:!0,xs:8},r.a.createElement(RE.a,null)),n.isSelected=!1,a.push(n)}})),this.state.airbook_media.map((function(e,t){if(e.isSelected){var n={};Object.keys(e).map((function(a,t){n[a]=e[a]})),n.customOverlay=r.a.createElement(ut.a,{item:!0,xs:8},r.a.createElement(RE.a,null)),n.isSelected=!1,a.push(n)}})),this.setState({galleryModal:!1}),this.props.showLibrary&&this.props.insertImages(a)}},{key:"onImageUpload",value:function(e){this.props.showLibrary?(document.getElementById("gallery-tabs-tab-my_library").click(),this.getMedia("App\\User")):(document.getElementById("gallery-tabs-tab-airbook_library").click(),this.getMedia("Global"))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.selected_images,a.selected_media_tab),n=a.selected_sort_col,l=a.selected_sort_type,c=this.props.classes;return r.a.createElement("div",null,this.props.modal?r.a.createElement(xa.a,{size:"xl",show:this.state.galleryModal,onHide:function(){return e.setState({galleryModal:!1})},"aria-labelledby":"example-modal-sizes-title-lg"},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,{id:"example-modal-sizes-title-lg"},"Media")),r.a.createElement(xa.a.Body,null,r.a.createElement(LE.a,{bg:"light",style:{marginBottom:0}},r.a.createElement(Be.a.Container,{id:"gallery-tabs",defaultActiveKey:t},r.a.createElement(mt.a.Row,{style:{display:"block",width:"100%"}},r.a.createElement(dt.a,{sm:12},r.a.createElement(qe.a,{variant:"pills"},r.a.createElement(qe.a.Item,null,r.a.createElement(qe.a.Link,{onClick:function(){return e.setState({selected_media_tab:"upload"})},eventKey:"upload"},"Upload")),this.props.showLibrary?r.a.createElement(qe.a.Item,null,r.a.createElement(qe.a.Link,{onClick:function(){return e.setState({selected_media_tab:"my_library"})},eventKey:"my_library"},"My Library")):"",r.a.createElement(qe.a.Item,null,r.a.createElement(qe.a.Link,{onClick:function(){return e.setState({selected_media_tab:"airbook_library"})},eventKey:"airbook_library"},"Airbook Gallery")),"upload"!==t?r.a.createElement(qe.a.Item,{className:"pull-right",style:{marginLeft:"auto"}},r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"airbook_library"===t?"search global images":"search my library",onChange:function(a){e.setState({search:a.target.value}),e.searchMedia(a.target.value)}})):""),r.a.createElement(Be.a.Content,null,r.a.createElement(Be.a.Pane,{eventKey:"upload"},this.props.showLibrary?"":r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,xs:"12"},r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"add suffix",onChange:function(a){return e.setState({meta_name:a.target.value})}})),r.a.createElement("br",null)),this.props.showLibrary||""!==this.state.meta_name?r.a.createElement(FE.a,{action:ie+"medias",headers:{Authorization:"Token "+he()},send:void 0!==this.props.user&&""!=this.props.user?{meta_name:this.state.meta_name,gallery:this.props.showLibrary?"user":"airbook",user:this.props.user}:{meta_name:this.state.meta_name,gallery:this.props.showLibrary?"user":"airbook"},source:function(e){return oe+e.original_file_name},onSuccess:function(a){return e.onImageUpload(a)}}):""),this.props.showLibrary?r.a.createElement(Be.a.Pane,{eventKey:"my_library"},r.a.createElement(mt.a.Row,null,r.a.createElement(dt.a,{xl:9,md:8,sm:8,xs:12},r.a.createElement(DE.a,{enableImageSelection:!0,images:this.state.user_media,onSelectImage:function(a){return e.selectImage(a,"user")},enableLightbox:!1,rowHeight:150})),r.a.createElement(dt.a,{xl:3,md:4,sm:4,xs:12},r.a.createElement(mt.a.Group,null,r.a.createElement(mt.a.Label,null,"Sort By"),r.a.createElement(nn.a,{value:n,onChange:function(a){e.setState({selected_sort_col:a}),e.searchMedia()},options:[{label:"",value:""},{label:"Name",value:"meta_name"},{label:"Created At",value:"created_at"}]})),r.a.createElement(mt.a.Group,null,r.a.createElement(mt.a.Label,null,"Sort By"),r.a.createElement(nn.a,{value:l,onChange:function(a){e.setState({selected_sort_type:a}),e.searchMedia()},options:[{label:"",value:""},{label:"Ascending",value:"+"},{label:"Descending",value:"-"}]})),this.state.isAnySelected?r.a.createElement(Ma.a,{className:"btn btn-danger btn-sm",onClick:function(a){return e.deletePhotos("user")}},"Delete Photo"):""))):"",r.a.createElement(Be.a.Pane,{eventKey:"airbook_library"},r.a.createElement(mt.a.Row,null,r.a.createElement(dt.a,{xl:9,md:8,sm:8,xs:12},r.a.createElement(DE.a,{enableImageSelection:!0,images:this.state.airbook_media,onSelectImage:function(a){return e.selectImage(a,"airbook")},enableLightbox:!1,rowHeight:150})),r.a.createElement(dt.a,{xl:3,md:4,sm:4,xs:12},r.a.createElement(mt.a.Group,null,r.a.createElement(mt.a.Label,null,"Sort By"),r.a.createElement(nn.a,{value:n,onChange:function(a){e.setState({selected_sort_col:a}),e.searchMedia()},options:[{label:"",value:""},{label:"Name",value:"meta_name"},{label:"Created At",value:"created_at"}]})),r.a.createElement(mt.a.Group,null,r.a.createElement(mt.a.Label,null,"Sort By"),r.a.createElement(nn.a,{value:l,onChange:function(a){e.setState({selected_sort_type:a}),e.searchMedia()},options:[{label:"",value:""},{label:"Ascending",value:"+"},{label:"Descending",value:"-"}]})),this.state.isAnySelected&&!this.props.showLibrary?r.a.createElement(Ma.a,{className:"btn btn-danger btn-sm",onClick:function(a){return e.deletePhotos("airbook")}},"Delete Photo"):""))),"upload"!==t?r.a.createElement(mt.a.Row,null,r.a.createElement(dt.a,{xs:12},r.a.createElement(Ma.a,{onClick:function(a){return e.insertSelectedImages()},className:"btn btn-primary btn-sm"},"Insert"),"\xa0\xa0\xa0",r.a.createElement(Ma.a,{onClick:function(){return e.cancelSelection()},className:"btn btn-danger btn-sm"},"Cancel"))):""))))))):r.a.createElement("div",{className:c.root},r.a.createElement(We.a,{className:c.paper},r.a.createElement("div",{className:c.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(Sa.a,{className:c.rootToolbar},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon2-image-file"})),r.a.createElement("h3",{className:"kt-portlet__head-title"},"Media Gallery")))),r.a.createElement("div",{className:"kt-portlet__body"},r.a.createElement(LE.a,{bg:"light",style:{marginBottom:0}},r.a.createElement(Be.a.Container,{id:"gallery-tabs",defaultActiveKey:t},r.a.createElement(mt.a.Row,{style:{display:"block",width:"100%"}},r.a.createElement(dt.a,{sm:12},r.a.createElement(qe.a,{variant:"pills"},r.a.createElement(qe.a.Item,null,r.a.createElement(qe.a.Link,{onClick:function(){return e.setState({selected_media_tab:"upload"})},eventKey:"upload"},"Upload")),this.props.showLibrary?r.a.createElement(qe.a.Item,null,r.a.createElement(qe.a.Link,{onClick:function(){return e.setState({selected_media_tab:"my_library"})},eventKey:"my_library"},"My Library")):"",r.a.createElement(qe.a.Item,null,r.a.createElement(qe.a.Link,{onClick:function(){return e.setState({selected_media_tab:"airbook_library"})},eventKey:"airbook_library"},"Airbook Gallery")),"upload"!==t?r.a.createElement(qe.a.Item,{className:"pull-right",style:{marginLeft:"auto"}},r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"airbook_library"===t?"search global images":"search my library",onChange:function(a){e.setState({search:a.target.value}),e.searchMedia(a.target.value)}})):""),r.a.createElement(Be.a.Content,null,r.a.createElement(Be.a.Pane,{eventKey:"upload"},this.props.showLibrary?"":r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,xs:"12"},r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"add suffix",onChange:function(a){return e.setState({meta_name:a.target.value})}})),r.a.createElement("br",null)),this.props.showLibrary||""!==this.state.meta_name?r.a.createElement(FE.a,{action:ie+"medias",headers:{Authorization:"Token "+he()},send:void 0!==this.props.user&&""!=this.props.user?{meta_name:this.state.meta_name,gallery:this.props.showLibrary?"user":"airbook",user:this.props.user}:{meta_name:this.state.meta_name,gallery:this.props.showLibrary?"user":"airbook"},source:function(e){return oe+e.original_file_name},onSuccess:function(a){return e.onImageUpload(a)}}):""),this.props.showLibrary?r.a.createElement(Be.a.Pane,{eventKey:"my_library"},r.a.createElement(mt.a.Row,null,r.a.createElement(dt.a,{xl:10,md:8,sm:8,xs:12},r.a.createElement(DE.a,{enableImageSelection:!0,images:this.state.user_media,onSelectImage:function(a){return e.selectImage(a,"user")},enableLightbox:!1,rowHeight:150})),r.a.createElement(dt.a,{xl:2,md:4,sm:4,xs:12},r.a.createElement(mt.a.Group,null,r.a.createElement(mt.a.Label,null,"Sort By"),r.a.createElement(nn.a,{value:n,onChange:function(a){e.setState({selected_sort_col:a}),e.searchMedia()},options:[{label:"",value:""},{label:"Name",value:"meta_name"},{label:"Created At",value:"created_at"}]})),r.a.createElement(mt.a.Group,null,r.a.createElement(mt.a.Label,null,"Sort By"),r.a.createElement(nn.a,{value:l,onChange:function(a){e.setState({selected_sort_type:a}),e.searchMedia()},options:[{label:"",value:""},{label:"Ascending",value:"+"},{label:"Descending",value:"-"}]})),this.state.isAnySelected?r.a.createElement(Ma.a,{className:"btn btn-danger btn-sm",onClick:function(a){return e.deletePhotos("user")}},"Delete Photo"):""))):"",r.a.createElement(Be.a.Pane,{eventKey:"airbook_library"},r.a.createElement(mt.a.Row,null,r.a.createElement(dt.a,{xl:10,md:8,sm:8,xs:12},r.a.createElement(DE.a,{enableImageSelection:!0,images:this.state.airbook_media,onSelectImage:function(a){return e.selectImage(a,"airbook")},enableLightbox:!1,rowHeight:150})),r.a.createElement(dt.a,{xl:2,md:4,sm:4,xs:12},r.a.createElement(mt.a.Group,null,r.a.createElement(mt.a.Label,null,"Sort By"),r.a.createElement(nn.a,{value:n,onChange:function(a){e.setState({selected_sort_col:a}),e.searchMedia()},options:[{label:"",value:""},{label:"Name",value:"meta_name"},{label:"Created At",value:"created_at"}]})),r.a.createElement(mt.a.Group,null,r.a.createElement(mt.a.Label,null,"Sort By"),r.a.createElement(nn.a,{value:l,onChange:function(a){e.setState({selected_sort_type:a}),e.searchMedia()},options:[{label:"",value:""},{label:"Ascending",value:"+"},{label:"Descending",value:"-"}]})),this.state.isAnySelected&&!this.props.showLibrary?r.a.createElement(Ma.a,{className:"btn btn-danger btn-sm",onClick:function(a){return e.deletePhotos("airbook")}},"Delete Photo"):""))))))))))))))}}]),a}(r.a.Component),zE=Object(ft.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)},rootToolbar:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},title:{flex:"0 0 auto"}}}))(PE),VE=(t(213),t(133)),HE=t.n(VE),BE=Object(Wi.a)({props:{MuiInput:{disableUnderline:!0},MuiTextField:{style:{display:"block"}},MuiInputBase:{style:{display:"block"},disableUnderline:!0,inputProps:{style:{display:"block",height:"calc(1.5em + 1.3rem + 2px)",padding:"0.65rem 1rem",fontSize:"1rem",fontWeight:"400",lineHeight:"1.5",color:"#495057",backgroundColor:"#fff",backgroundClip:"padding-box",border:"1px solid #e2e5ec",borderRadius:"4px",transition:"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out",boxSizing:"border-box"}}}}}),qE=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,l=n.aircraft_id;n.type;return t.medialibraryAsset=r.a.createRef(),t.state={validated:!1,aircraft:{},selectedFile:null,category:[],manufacturer:[],initialOptions:[],countries:[],contacts:[],type:[],model:[],engine_type:[],engine_model:[],engine_manufacturer:[],companies:[],configuration:[],users:[],search:"",selected_primary_contact:{value:""},selected_category:{value:""},selected_type:{value:""},selected_engine_type:{value:""},selected_manufacturer:{value:""},selected_engine_manufacturer:{value:""},selected_current_location:{value:""},selected_model:{value:""},selected_engine_model:{value:""},selected_owner:{value:""},selected_current_operator:{value:""},selected_previous_operator:{value:""},selected_manager:{value:""},selected_seller:{value:""},selected_configuration:{value:""},selected_user:{value:""},selected_status:{value:""},selected_compliance:{value:""},selected_offer_for:{value:""},selected_registration_country:{value:""},selected_images:[],yom:new Date,attachments:[],initialFiles:[],fields:{},errorsf:{},modelsLoaded:!1},t.getAircraft(l),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getAircraft",value:function(e){var a=this;be("aircrafts/"+e+"/").then((function(e){var t=e.data.availability;a.setState({aircraft:e.data,yom:le()(e.data.yom,"YYYY"),availability:t,last_c_check:e.data.last_c_check}),a.loadModels(),a.loadSelectedImages(e.data.media),a.loadInitialFields()}))}},{key:"handleChange",value:function(e,a){var t=this.state.aircraft;if("yom"!==a&&"availability"!==a&&"last_c_check"!==a)var n=e.target.name,r=e.target.value;else if("yom"==a){n=a,r=le()(e).format("YYYY");this.setState({yom:e})}else{n=a,r=le()(e).format();this.setState({availability:"availability"===a?e:this.state.availability,last_c_check:"last_c_check"===a?e:this.state.last_c_check})}"is_active"===n&&(r=parseInt(r)),t[n]=r,this.setState({aircraft:t});var l=this.state.fields;l[n]=r,this.setState({fields:l})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),this.checkDataFormat(),this.state.selectedFile||delete this.state.aircraft.file,this.handleValidation()&&fe("aircrafts/"+this.state.aircraft.id+"/",this.state.aircraft).then((function(e){a.setState({aircraft:e.data}),a.props.data.history.push("save_new"==a.state.action?"/admin/aircraft/asset/create":"/admin/aircraft/asset")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"handleValidation",value:function(){var e=this.state.fields,a={},t=!0,n=Object.keys({tsn:"tsn",csn:"csn"}),r=Object.keys({msn:"msn"});for(var l in n)"undefined"!==typeof e[n[l]]&&""!==e[n[l]]&&(e[n[l]].match(/^\d+$/)||(t=!1,a[n[l]]=["Only numbers are allowed."]));for(var c in r)"undefined"!==typeof e[r[c]]&&""!==e[r[c]]&&(e[r[c]].match(/^[a-z0-9]+$/i)||(t=!1,a[r[c]]=["Only alphabets and numbers are allowed."]));return this.setState({errorsf:a},function(){this.props.sendError(this.state.errorsf)}.bind(this)),t}},{key:"checkDataFormat",value:function(){var e=this,a=this.state.aircraft;["category","primary_contact","configuration","manufacturer","current_location","type","model","owner","user","current_operator","previous_operator","manager","seller","engine_manufacturer","registration_country","engine_type","engine_model"].map((function(t,n){a[t]=e.state["selected_"+t].value})),a.images=this.state.selected_images,a.attachments=this.state.attachments,this.setState({aircraft:a})}},{key:"removeImage",value:function(e){var a=this.state.selected_images;a=a.filter((function(a,t){return e!==t})),this.setState({selected_images:a})}},{key:"loadModels",value:function(){var e=this.state.aircraft,a={status:Te,compliance:xe,offer_for:Me},t=Object.keys(a);for(var n in t)for(var r in a[t[n]])if(a[t[n]][r].value===e[t[n]]){this.setState(Object(b.a)({},"selected_"+t[n],a[t[n]][r]));break}var l={AbUsers:{},AbCategories:{type:"aircraft"},AbContacts:{},AbConfigurations:{},AbManufacturers:{type:"engine"},AbCountries:{},AbCompanies:{}},c={AbUsers:["user"],AbContacts:["primary_contact"],AbCategories:["category"],AbConfigurations:["configuration"],AbManufacturers:["engine_manufacturer"],AbCountries:["current_location","registration_country"],AbCompanies:["owner","current_operator","previous_operator","manager","seller"]};null!==e.category&&void 0!==e.category.id&&(l.AbManufacturers__aircraft={type:"aircraft",categories__id:e.category.id},c.AbManufacturers__aircraft=["manufacturer"]),null!=e.manufacturer&&void 0!=e.manufacturer.id&&(l.AbTypes={type:"aircraft",manufacturer_id:e.manufacturer.id},c.AbTypes=["type"]),null!=e.type&&void 0!=e.type.id&&(l.AbModels={type:"aircraft",type_0:e.type.id},c.AbModels=["model"]),null!=e.engine_manufacturer&&void 0!=e.engine_manufacturer.id&&(l.AbTypes__engine={type:"engine",manufacturer_id:e.engine_manufacturer.id},c.AbTypes__engine=["engine_type"]),null!=e.engine_type&&void 0!=e.engine_type.id&&(l.AbModels__engine={type:"engine",type_0:e.engine_type.id},c.AbModels__engine=["engine_model"]),ve("abmodels",{models:l}).then(function(a){var t={},n=function(n){a.data[n].map((function(r,s){"AbContacts"!==n&&"AbUsers"!==n||(r.name=r.first_name+" "+r.last_name),"AbUsers"===n&&(r.id=r.user_id),a.data[n][s].label=r.name,a.data[n][s].value=r.id,Object.keys(c).map((function(a,s){c[a].map((function(c,s){n===a&&null!==e[c]&&void 0!==e[c].id&&e[c].id===r.id&&(t["selected_"+c]=r),null!=e.engine_type&&void 0!=e.engine_type.id&&(l.AbModels__engine={type:"engine",type_0:e.engine_type.id})}))}))}))};for(var r in a.data)n(r);t.users=a.data.AbUsers,t.category=a.data.AbCategories,t.contacts=a.data.AbContacts,t.configuration=a.data.AbConfigurations,t.engine_manufacturer=a.data.AbManufacturers,t.countries=a.data.AbCountries,t.companies=a.data.AbCompanies,null!==e.category&&void 0!==e.category.id&&(t.manufacturer=a.data.AbManufacturers__aircraft),null!=e.manufacturer&&void 0!=e.manufacturer.id&&(t.type=a.data.AbTypes),null!=e.type&&void 0!=e.type.id&&(t.model=a.data.AbModels),null!=e.engine_manufacturer&&void 0!=e.engine_manufacturer.id&&(t.engine_type=a.data.AbTypes__engine),null!=e.engine_type&&void 0!=e.engine_type.id&&(t.engine_model=a.data.AbModels__engine),t.modelsLoaded=!0,this.setState(t)}.bind(this))}},{key:"getDropdownsListing",value:function(){var e=this,a=this.state.aircraft,t={category:"category",primary_contact:"contacts",configuration:"configuration",manufacturer:"manufacturer",current_location:"countries",engine_manufacturer:"engine_manufacturer",owner:"companies",user:"users"},n={companies:["current_operator","previous_operator","manager","seller"],countries:["registration_country"]},r={status:Te,compliance:xe,offer_for:Me},l=Object.keys(r);for(var c in l)for(var s in r[l[c]])if(r[l[c]][s].value===a[l[c]]){this.setState(Object(b.a)({},"selected_"+l[c],r[l[c]][s]));break}l=Object.keys(t);var i=function(r){var c={records:"all",is_active:1},s=t[l[r]];"category"===l[r]?c.type="aircraft":"manufacturer"===l[r]?c.type="aircraft":"engine_manufacturer"===l[r]&&(s="manufacturer",c.type="engine"),be(s,c).then(function(e){var c,s=e.data,i={};for(var o in s)if("contacts"===t[l[r]]?s[o].name=s[o].first_name+" "+s[o].last_name:"users"===t[l[r]]&&(s[o].name=s[o].contact.first_name+" "+s[o].contact.last_name),s[o].label=s[o].name,s[o].value=s[o].id,void 0!=a[l[r]]&&s[o].id===a[l[r]].id&&(i=s[o]),void 0!=n[t[l[r]]])for(var m in n[t[l[r]]]){var d=n[t[l[r]]][m];void 0!=a[d]&&s[o].id===a[d].id&&this.setState(Object(b.a)({},"selected_"+d,i))}this.setState((c={},Object(b.a)(c,t[l[r]],s),Object(b.a)(c,"selected_"+l[r],i),Object(b.a)(c,"aircraft",a),c))}.bind(e))};for(var o in l)i(o)}},{key:"selectChange",value:function(e,a){var t,n=this.state.aircraft;n[a]=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,"selected_"+a,e||""),Object(b.a)(t,"aircraft",n),t)),this.setDynamicDropdowns(e&&e.id?e.id:"",a)}},{key:"setDynamicDropdowns",value:function(e,a){if(["category","manufacturer","type","engine_manufacturer","engine_type"].indexOf(a)>-1&&""!==e){var t="",n={};"category"===a?(n={AbManufacturers:{categories__id:e,type:"aircraft"}},t="manufacturer"):"manufacturer"===a?(n={AbTypes:{manufacturer_id:e,type:"aircraft"}},t="type"):"type"===a?(n={AbModels:{type_0:e,type:"aircraft"}},t="model"):"engine_manufacturer"===a?(n={AbTypes:{manufacturer_id:e,type:"engine"}},t="engine_type"):"engine_type"===a&&(n={AbModels:{type_0:e,type:"engine"}},t="engine_model"),ve("abmodels",{models:n}).then(function(e){var a=this,n={},r=function(r){var l;e.data[r].map((function(a,t){e.data[r][t].label=a.name,e.data[r][t].value=a.id,n=a})),a.setState((l={},Object(b.a)(l,t,e.data[r]),Object(b.a)(l,"selected_"+t,n),l))};for(var l in e.data)r(l)}.bind(this))}}},{key:"selectYear",value:function(e,a){var t=this.state.aircraft;t[a]=e,this.setState({aircraft:t})}},{key:"setTab",value:function(e,a){document.getElementById("aircraft-tabs-tab-"+a).click()}},{key:"loadSelectedImages",value:function(e){e.map((function(a,t){e[t].src=oe+a.original_file_name,e[t].thumbnail=oe+a.original_file_name,e[t].thumbnailWidth=150,e[t].thumbnailHeight=150,e[t].is_featured?(e[t].isSelected=!0,e[t].tags=[{value:"Featured",title:"Featured"}]):e[t].isSelected=!1,e[t].customOverlay=r.a.createElement(ut.a,{item:!0,xs:8}," ",r.a.createElement(RE.a,null)," ")})),this.setState({selected_images:e})}},{key:"onClickThumbnail",value:function(e){var a=this.state.selected_images;a.map((function(t,n){n===e?(a[n].is_featured=1,a[n].isSelected=!0,a[n].tags=[{value:"Featured",title:"Featured"}]):(a[n].is_featured=0,a[n].isSelected=!1,delete a[n].tags)})),this.setState({selected_images:a})}},{key:"getUploadParams",value:function(e){var a=new FormData;return a.append("original_file_name",e.file),a.append("user",this.state.selected_user.value),a.append("attachable_type","Aircraft"),"existing"in e.file&&a.append("existing_id",e.file.id),{url:ie+"attaches",dataType:"json",body:a,headers:{Authorization:"Token "+he()}}}},{key:"onAttachmentUpload",value:function(e,a){if("done"===a){var t=JSON.parse(e.xhr.response);this.setState({attachments:[].concat(Object(ha.a)(this.state.attachments),[t])})}else if("removed"===a){var n=JSON.parse(e.xhr.response),r=this.state.attachments.filter((function(e,a){return e.id!==n.id}));this.setState({attachments:r})}}},{key:"loadInitialFields",value:function(){if(void 0!==this.state.aircraft.attachments){var e=[];this.state.aircraft.attachments.map((function(a,t){var n=new File(["foo"],oe+a.original_file_name);n.id=a.id,n.existing=!0,e.push(n)})),this.setState({initialFiles:e})}}},{key:"render",value:function(){var e=this,a=this.state,t=a.modelsLoaded,n=a.initialOptions,l=a.last_c_check,c=a.aircraft,s=a.availability,i=a.selected_manufacturer,o=a.manufacturer,m=a.selected_category,d=a.category,u=a.selected_current_location,p=a.countries,h=a.selected_type,E=a.type,b=a.selected_primary_contact,f=a.contacts,v=a.model,g=(a.selected_model,a.selected_registration_country),_=a.selected_owner,y=a.selected_current_operator,k=a.selected_previous_operator,N=a.companies,C=a.selected_seller,w=a.selected_manager,O=a.selected_configuration,S=a.configuration,j=a.selected_engine_model,T=a.selected_engine_type,x=a.selected_engine_manufacturer,M=a.selected_user,D=a.users,A=a.selected_status,R=a.selected_compliance,L=a.selected_offer_for,I=a.yom,F=a.initialFiles,U=a.engine_manufacturer,G=a.engine_type,z=a.engine_model;return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(xE.a,{defaultActiveKey:"basic",id:"aircraft-tabs"},r.a.createElement(Be.a,{eventKey:"basic",title:"Basic"},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"User *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,options:n,model:"user",isClearable:!0,escapeClearsValue:!0,value:M.value?M:"select...",name:"name",loadOptions:function(e,a){return Pe(e,a,D,t)},onChange:function(a){return e.selectChange(a,"user")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Category *"),r.a.createElement(nn.a,{value:m.value?m:"select...",model:"category",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"category")},options:d})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Manufacturer *"),r.a.createElement(nn.a,{value:i.value?i:"select...",model:"manufacturer",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"manufacturer")},options:o})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Type *"),r.a.createElement(nn.a,{value:h.value?h:"select...",model:"type",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"type")},options:E})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Model"),r.a.createElement(nn.a,{value:M.value?M:"select...",model:"model",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"model")},options:v}))),r.a.createElement(Ma.a,{onClick:function(a){return e.setTab(a,"aircraft")},className:"btn btn-primary"},"Next")),r.a.createElement(Be.a,{eventKey:"aircraft",title:"Aircraft"},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"MSN"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"aircraft",name:"msn",defaultValue:c?c.msn:"",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"YOM"),r.a.createElement(Yi.a,{theme:BE},r.a.createElement(Bi.a,{utils:Hi.a},r.a.createElement(qi.a,{views:["year"],minDate:new Date("1980"),name:"yom",value:I,onChange:function(a){return e.handleChange(a,"yom")}})))),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Configuration"),r.a.createElement(nn.a,{value:O.value?O:"select...",model:"current_configuration",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"configuration")},options:S})),r.a.createElement(mt.a.Group,{as:dt.a,xs:"12",style:{marginBottom:0}},r.a.createElement(mt.a.Label,null,"Seating"),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"Y (Economy)",model:"aircraft",name:"seating_first_class",defaultValue:c?c.seating_first_class:"",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"Y (Business)",model:"aircraft",name:"seating_business",defaultValue:c?c.seating_business:"",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"Y (First Class)",model:"aircraft",name:"seating_economy",defaultValue:c?c.seating_economy:"",onBlur:function(a){return e.handleChange(a)}})))),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Status"),r.a.createElement(nn.a,{value:A.value?A:"select...",model:"aircraft",name:"status",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"status")},options:Te})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Compliance"),r.a.createElement(nn.a,{value:R,model:"aircraft",name:"compliance",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"compliance")},options:xe})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"TSN"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"aircraft",name:"tsn",defaultValue:c?c.tsn:"",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"CSN"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"aircraft",name:"csn",defaultValue:c?c.csn:"",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"MTOW Kg"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"aircraft",name:"mtow",defaultValue:c?c.mtow:"",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"MLGW Kg"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"aircraft",name:"mlgw",defaultValue:c?c.mlgw:"",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Last C Check"),r.a.createElement(Yi.a,{theme:BE},r.a.createElement(Bi.a,{utils:Hi.a},r.a.createElement(qi.a,{required:!0,minDate:new Date("1990-01-01"),value:l||null,format:"dd/MM/yyyy",onChange:function(a){return e.handleChange(a,"last_c_check")},animateYearScrolling:!0})))),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Registration Number"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"aircraft",name:"registration_number",defaultValue:c?c.registration_number:"",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Registration Country"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"registration_country",isClearable:!0,escapeClearsValue:!0,value:g.value?g:"select...",name:"name",loadOptions:function(e,a){return Pe(e,a,p,t)},onChange:function(a){return e.selectChange(a,"registration_country")}}))),r.a.createElement(Ma.a,{onClick:function(a){return e.setTab(a,"engine")},className:"btn btn-primary"},"Next")),r.a.createElement(Be.a,{eventKey:"engine",title:"Engines"},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Engine Manufacturer"),r.a.createElement(nn.a,{value:x.value?x:"select...",model:"engine_manufacturer",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"engine_manufacturer")},options:U})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Engine Type"),r.a.createElement(nn.a,{value:T.value?T:"select...",model:"engine_type",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"engine_type")},options:G})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Engine Model"),r.a.createElement(nn.a,{value:j.value?j:"select...",model:"engine_model",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"engine_model")},options:z}))),r.a.createElement(Ma.a,{onClick:function(a){return e.setTab(a,"commercial")},className:"btn btn-primary"},"Next")),r.a.createElement(Be.a,{eventKey:"commercial",title:"Commerical"},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Offered For *"),r.a.createElement(nn.a,{value:L.value?L:"select...",model:"aircraft",name:"offer_for",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"offer_for")},options:Me})),"Sale"===this.state.aircraft.offer_for&&r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Asking Price"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"aircraft",name:"price",defaultValue:c?c.price:"",onBlur:function(a){return e.handleChange(a)}})),"ACMI"===this.state.aircraft.offer_for&&r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"MGH / m"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"aircraft",name:"mgh",defaultValue:c?c.mgh:"",onBlur:function(a){return e.handleChange(a)}})),("Dry Lease"===this.state.aircraft.offer_for||"Wet Lease"===this.state.aircraft.offer_for||"Lease Purchase"===this.state.aircraft.offer_for||"Exchange"===this.state.aircraft.offer_for||"Charter"===this.state.aircraft.offer_for)&&r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,this.state.aircraft.offer_for," terms"),r.a.createElement(mt.a.Control,{model:"aircraft",name:"terms",defaultValue:c?c.terms:"",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Availability"),r.a.createElement(Yi.a,{theme:BE},r.a.createElement(Bi.a,{utils:Hi.a},r.a.createElement(qi.a,{required:!0,minDate:s,value:s,format:"dd/MM/yyyy",onChange:function(a){return e.handleChange(a,"availability")},animateYearScrolling:!0})))),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Current Location"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"current_location",isClearable:!0,escapeClearsValue:!0,value:u,name:"name",loadOptions:function(e,a){return Pe(e,a,p,t)},onChange:function(a){return e.selectChange(a,"current_location")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Primary Contact"),r.a.createElement(rn.a,{model:"primary_contact",isClearable:!0,escapeClearsValue:!0,value:b,name:"name",loadOptions:function(e,a){return Pe(e,a,f,t)},onChange:function(a){return e.selectChange(a,"primary_contact")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Owner"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"owner",isClearable:!0,escapeClearsValue:!0,value:_,name:"name",loadOptions:function(e,a){return Pe(e,a,N,t)},onChange:function(a){return e.selectChange(a,"owner")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Seller"),r.a.createElement(rn.a,{model:"seller",isClearable:!0,escapeClearsValue:!0,value:C.value?C:"select...",name:"name",loadOptions:function(e,a){return Pe(e,a,N,t)},onChange:function(a){return e.selectChange(a,"seller")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Manager"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"selected_manager",isClearable:!0,escapeClearsValue:!0,value:w,name:"name",loadOptions:function(e,a){return Pe(e,a,N,t)},onChange:function(a){return e.selectChange(a,"manager")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Previous Operator"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"previous_operator",isClearable:!0,escapeClearsValue:!0,value:k.value?k:"select...",name:"name",loadOptions:function(e,a){return Pe(e,a,N,t)},onChange:function(a){return e.selectChange(a,"previous_operator")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Current Operator"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"current_operator",isClearable:!0,escapeClearsValue:!0,value:y.value?y:"select...",name:"name",loadOptions:function(e,a){return Pe(e,a,N,t)},onChange:function(a){return e.selectChange(a,"current_operator")}}))),r.a.createElement(Ma.a,{onClick:function(a){return e.setTab(a,"files_photos")},className:"btn btn-primary"},"Next")),r.a.createElement(Be.a,{eventKey:"files_photos",title:"Files & Photos"},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,xs:"12",md:"6"},r.a.createElement(Ma.a,{onClick:function(){return e.medialibraryAsset.current.galleryModalOpener()},className:"btn btn-primary"},r.a.createElement("i",{className:"fa fa-upload"})," Select or Upload Images"),r.a.createElement(zE,{modal:!0,ref:this.medialibraryAsset,user:M.value,showLibrary:""!==M.value,selected_images:this.state.selected_images,insertImages:function(a){return e.setState({selected_images:a})}}),r.a.createElement(DE.a,{enableLightbox:!1,id:"readonlygallery",rowHeight:150,margin:5,enableImageSelection:!0,onSelectImage:function(a){return e.removeImage(a)},images:this.state.selected_images,onClickThumbnail:function(a){return e.onClickThumbnail(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,xs:"12",md:"6"},r.a.createElement(HE.a,{inputContent:"Drop a PDF file here, or click to select a file to upload.",accept:".pdf",styles:{dropzone:{height:250}},getUploadParams:function(a){return e.getUploadParams(a)},onChangeStatus:function(a,t){return e.onAttachmentUpload(a,t)},maxSizeBytes:2097152,initialFiles:F}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,xs:"12"},r.a.createElement(Ma.a,{onClick:function(a){return e.setTab(a,"custom_info")},className:"btn btn-primary"},"Next")))),r.a.createElement(Be.a,{eventKey:"custom_info",title:"Custom Info"},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,xs:"12"},r.a.createElement(mt.a.Label,null,"Additional details"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"5",required:!0,type:"text",placeholder:"",model:"aircraft",name:"description",defaultValue:c?c.description:"",onBlur:function(a){return e.handleChange(a)}}))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/aircraft/asset",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))))}}]),a}(r.a.Component),WE=function(e){function a(e){var t;Object(Qa.a)(this,a),t=Object($a.a)(this,Object(et.a)(a).call(this,e));var n=e.match.params.type;return t.state={errors:{},showError:!1},t.state.type=n,t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){var l=a.charAt(0).toUpperCase()+a.slice(1);return r.a.createElement("li",{key:t+n},r.a.createElement("span",{style:{"text-transform":"capitalize"}},l.replace(/_/g," "))," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Aircraft",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/aircraft/asset",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(qE,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),YE=Object(B.o)(WE),JE=Object(Wi.a)({props:{MuiInput:{disableUnderline:!0},MuiTextField:{style:{display:"block"}},MuiInputBase:{style:{display:"block"},disableUnderline:!0,inputProps:{style:{display:"block",height:"calc(1.5em + 1.3rem + 2px)",padding:"0.65rem 1rem",fontSize:"1rem",fontWeight:"400",lineHeight:"1.5",color:"#495057",backgroundColor:"#fff",backgroundClip:"padding-box",border:"1px solid #e2e5ec",borderRadius:"4px",transition:"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out",boxSizing:"border-box"}}}}}),KE=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).fileChangedHandler=function(e){var a=t.state.aircraft,n=e.target.files[0];if(t.setState({previewFile:URL.createObjectURL(n)}),void 0!=n)if(n.size_c=n.size/1024,n.size_c/1024>2)n.size_c=(n.size_c/1024).toFixed(2)+" MB",n.error="Error: File is too big",a.file={},t.setState({selectedFile:n});else{n.error=null,n.size_c=n.size_c.toFixed(2)+" KB";var r=new FileReader;r.readAsDataURL(n),r.onloadend=function(){a.file=r.result,t.setState({selectedFile:n,aircraft:a})}}},t.clearForm=function(){t.props.data.history.replace("/admin/aircraft/asset"),t.props.data.history.replace("/admin/aircraft/asset/create")},t.medialibraryAsset=r.a.createRef(),t.state={validated:!1,initialOptions:[],aircraft:{yom:new Date},selectedFile:null,category:[],manufacturer:[],engine_manufacturer:[],countries:[],type:[],model:[],engine_type:[],engine_model:[],contacts:[],companies:[],configuration:[],users:[],selected_primary_contact:{value:""},selected_category:{value:""},selected_type:{value:""},selected_engine_type:{value:""},selected_manufacturer:{value:""},selected_engine_manufacturer:{value:""},selected_current_location:{value:""},selected_model:{value:""},selected_engine_model:{value:""},selected_owner:{value:""},selected_current_operator:{value:""},selected_previous_operator:{value:""},selected_manager:{value:""},selected_seller:{value:""},selected_configuration:{value:""},selected_user:{value:0},selected_status:{value:""},selected_compliance:{value:""},selected_offer_for:{value:""},selected_registration_country:{value:""},yom:new Date,selected_images:[],attachments:[],initialFiles:[],fields:{},errorsf:{},modelsLoaded:!1,last_c_check:null},t.loadModels(),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"handleChange",value:function(e,a){var t=this.state.aircraft;if("yom"!==a&&"availability"!==a&&"last_c_check"!==a)var n=e.target.name,r=e.target.value;else if("yom"==a){n=a,r=le()(e).format("YYYY");this.setState({yom:e})}else{n=a,r=le()(e).format();this.setState({availability:"availability"===a?e:this.state.availability,last_c_check:"last_c_check"===a?e:this.state.last_c_check})}"is_active"===n&&(r=parseInt(r)),t[n]=r,this.setState({aircraft:t});var l=this.state.fields;l[n]=r,this.setState({fields:l})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),this.state.selectedFile||delete this.state.aircraft.file;var t=this.state.aircraft;t.images=this.state.selected_images,t.attachments=this.state.attachments,this.handleValidation()&&ve("aircrafts",t).then((function(e){a.setState({aircraft:e.data}),"save_new"==a.state.action?a.clearForm("parts-form"):a.props.data.history.push("/admin/aircraft/asset")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"loadModels",value:function(){this.setState({cacheUnique:this.state.cacheUnique+1}),ve("abmodels",{models:{AbUsers:{},AbCategories:{type:"aircraft"},AbContacts:{},AbConfigurations:{},AbManufacturers:{type:"engine"},AbCountries:{},AbCompanies:{}}}).then(function(e){var a=function(a){e.data[a].map((function(t,n){"AbContacts"!==a&&"AbUsers"!==a||(t.name=t.first_name+" "+t.last_name),"AbUsers"===a&&(t.id=t.user_id),e.data[a][n].label=t.name,e.data[a][n].value=t.id}))};for(var t in e.data)a(t);this.setState({users:e.data.AbUsers,category:e.data.AbCategories,contacts:e.data.AbContacts,configuration:e.data.AbConfigurations,engine_manufacturer:e.data.AbManufacturers,countries:e.data.AbCountries,companies:e.data.AbCompanies,modelsLoaded:!0})}.bind(this))}},{key:"handleValidation",value:function(){var e=this.state.fields,a={},t=!0,n=Object.keys({tsn:"tsn",csn:"csn"}),r=Object.keys({msn:"msn"});for(var l in n)"undefined"!==typeof e[n[l]]&&""!==e[n[l]]&&(e[n[l]].match(/^\d+$/)||(t=!1,a[n[l]]=["Only numbers are allowed."]));for(var c in r)"undefined"!==typeof e[r[c]]&&""!==e[r[c]]&&(e[r[c]].match(/^([a-z0-9]+\s)*[a-z0-9]+$/i)||(t=!1,a[r[c]]=["Only alphabets and numbers are allowed."]));return this.setState({errorsf:a},function(){this.props.sendError(this.state.errorsf)}.bind(this)),t}},{key:"getDropdownsListing",value:function(){var e=this,a={category:"category",primary_contact:"contacts",configuration:"configuration",manufacturer:"manufacturer",current_location:"countries",engine_manufacturer:"engine_manufacturer",owner:"companies",user:"users"},t={companies:["current_operator","previous_operator","manager","seller"],countries:["registration_country"]},n=Object.keys(a),r=function(r){var l={records:"all",is_active:1},c=a[n[r]];"category"===n[r]?l.type="aircraft":"manufacturer"===n[r]?l.type="aircraft":"engine_manufacturer"===n[r]&&(c="manufacturer",l.type="engine"),be(c,l).then(function(e){var l,c=e.data,s={};for(var i in c)if("contacts"===a[n[r]]?c[i].name=c[i].first_name+" "+c[i].last_name:"users"===a[n[r]]&&(c[i].name=c[i].contact.first_name+" "+c[i].contact.last_name),c[i].label=c[i].name,c[i].value=c[i].id,void 0!=this.state.aircraft[n[r]]&&c[i].id===this.state.aircraft[n[r]].id&&(s=c[i]),void 0!=t[a[n[r]]])for(var o in t[a[n[r]]]){var m=t[a[n[r]]][o];void 0!=this.state.aircraft[m]&&c[i].id===this.state.aircraft[m].id&&this.setState(Object(b.a)({},"selected_"+m,s))}this.setState((l={},Object(b.a)(l,a[n[r]],c),Object(b.a)(l,"selected_"+n[r],s),l))}.bind(e))};for(var l in n)r(l)}},{key:"selectChange",value:function(e,a){var t,n=this.state.aircraft;if(n[a]=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,"selected_"+a,e||""),Object(b.a)(t,"aircraft",n),t)),["category","manufacturer","type","engine_manufacturer","engine_type"].indexOf(a)>-1&&e){var r="",l={};"category"===a?(l={AbManufacturers:{categories__id:e.id,type:"aircraft"}},r="manufacturer"):"manufacturer"===a?(l={AbTypes:{manufacturer_id:e.id,type:"aircraft"}},r="type"):"type"===a?(l={AbModels:{type_0:e.id,type:"aircraft"}},r="model"):"engine_manufacturer"===a?(l={AbTypes:{manufacturer_id:e.id,type:"engine"}},r="engine_type"):"engine_type"===a&&(l={AbModels:{type_0:e.id,type:"engine"}},r="engine_model"),ve("abmodels",{models:l}).then(function(e){var a=this,t={},n=function(n){var l;e.data[n].map((function(l,c){e.data[n][c].label=l.name,e.data[n][c].value=l.id,void 0!=a.state.aircraft[r]&&l.id===a.state.aircraft[r].id&&(t=l)})),a.setState((l={},Object(b.a)(l,r,e.data[n]),Object(b.a)(l,"selected_"+r,t),l))};for(var l in e.data)n(l)}.bind(this))}}},{key:"setTab",value:function(e,a){document.getElementById("aircraft-tabs-tab-"+a).click()}},{key:"removeImage",value:function(e){var a=this.state.selected_images;a=a.filter((function(a,t){return e!==t})),this.setState({selected_images:a})}},{key:"onClickThumbnail",value:function(e){var a=this.state.selected_images;a.map((function(t,n){n===e?(a[n].is_featured=1,a[n].isSelected=!0,a[n].tags=[{value:"Featured",title:"Featured"}]):(a[n].is_featured=0,a[n].isSelected=!1,delete a[n].tags)})),this.setState({selected_images:a})}},{key:"getUploadParams",value:function(e){var a=new FormData;return a.append("original_file_name",e.file),a.append("user",this.state.selected_user.value),a.append("attachable_type","Aircraft"),"existing"in e.file&&a.append("existing_id",e.file.id),{url:ie+"attaches",dataType:"json",body:a,headers:{Authorization:"Token "+he()}}}},{key:"onAttachmentUpload",value:function(e,a){if("done"===a){var t=JSON.parse(e.xhr.response);this.setState({attachments:[].concat(Object(ha.a)(this.state.attachments),[t])})}else if("removed"===a){var n=JSON.parse(e.xhr.response),r=this.state.attachments.filter((function(e,a){return e.id!==n.id}));this.setState({attachments:r})}}},{key:"onBlur",value:function(){}},{key:"render",value:function(){var e=this,a=this.state,t=a.modelsLoaded,n=a.initialOptions,l=(a.value,a.availability),c=a.aircraft,s=a.last_c_check,i=a.selected_manufacturer,o=a.manufacturer,m=a.selected_category,d=a.category,u=a.selected_current_location,p=a.countries,h=a.selected_type,E=a.type,b=a.selected_primary_contact,f=a.contacts,v=a.model,g=a.engine_type,_=a.engine_model,y=a.selected_model,k=a.selected_registration_country,N=a.selected_owner,C=a.selected_current_operator,w=a.selected_previous_operator,O=a.companies,S=a.selected_seller,j=a.selected_manager,T=a.selected_configuration,x=a.configuration,M=a.selected_engine_model,D=a.selected_engine_type,A=a.selected_engine_manufacturer,R=a.selected_user,L=a.users,I=a.selected_status,F=a.selected_compliance,U=a.selected_offer_for,G=a.yom,z=a.initialFiles,V=a.engine_manufacturer;return r.a.createElement(mt.a,{noValidate:!0,id:"create-course-form",onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(xE.a,{defaultActiveKey:"basic",id:"aircraft-tabs"},r.a.createElement(Be.a,{eventKey:"basic",title:"Basic"},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"User *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,options:n,model:"user",isClearable:!0,escapeClearsValue:!0,value:R.value?R:"select...",name:"name",loadOptions:function(e,a){return Pe(e,a,L,t)},onChange:function(a){return e.selectChange(a,"user")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Category *"),r.a.createElement(nn.a,{value:m.value?m:"select...",model:"category",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"category")},options:d})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Manufacturer *"),r.a.createElement(nn.a,{value:i.value?i:"select...",model:"manufacturer",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"manufacturer")},options:o})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Type *"),r.a.createElement(nn.a,{value:h.value?h:"select...",model:"type",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"type")},options:E})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Model"),r.a.createElement(nn.a,{value:y.value?y:"select...",model:"model",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"model")},options:v}))),r.a.createElement(Ma.a,{onClick:function(a){return e.setTab(a,"aircraft")},className:"btn btn-primary"},"Next")),r.a.createElement(Be.a,{eventKey:"aircraft",title:"Aircraft"},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"MSN"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"aircraft",name:"msn",defaultValue:c?c.msn:"",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"YOM"),r.a.createElement(Yi.a,{theme:JE},r.a.createElement(Bi.a,{utils:Hi.a},r.a.createElement(qi.a,{views:["year"],minDate:new Date("1980"),name:"yom",value:G,onChange:function(a){return e.handleChange(a,"yom")}})))),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Configuration"),r.a.createElement(nn.a,{value:T.value?T:"select...",model:"current_configuration",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"configuration")},options:x})),r.a.createElement(mt.a.Group,{as:dt.a,xs:"12",style:{marginBottom:0}},r.a.createElement(mt.a.Label,null,"Seating"),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"Y (Economy)",model:"aircraft",name:"seating_first_class",defaultValue:c?c.seating_first_class:"",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"Y (Business)",model:"aircraft",name:"seating_business",defaultValue:c?c.seating_business:"",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"Y (First Class)",model:"aircraft",name:"seating_economy",defaultValue:c?c.seating_economy:"",onBlur:function(a){return e.handleChange(a)}})))),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Status"),r.a.createElement(nn.a,{value:I.value?I:"select...",model:"aircraft",name:"status",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"status")},options:Te})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Compliance"),r.a.createElement(nn.a,{value:F.value?F:"select...",model:"aircraft",name:"compliance",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"compliance")},options:xe})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"TSN"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"aircraft",name:"tsn",defaultValue:c?c.tsn:"",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"CSN"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"aircraft",name:"csn",defaultValue:c?c.csn:"",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"MTOW Kg"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"aircraft",name:"mtow",defaultValue:c?c.mtow:"",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"MLGW Kg"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"aircraft",name:"mlgw",defaultValue:c?c.mlgw:"",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Last C Check"),r.a.createElement(Yi.a,{theme:JE},r.a.createElement(Bi.a,{utils:Hi.a},r.a.createElement(qi.a,{minDate:new Date("1990-01-01"),value:s,format:"dd/MM/yyyy",onChange:function(a){return e.handleChange(a,"last_c_check")},animateYearScrolling:!0})))),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Registration Number"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"aircraft",name:"registration_number",defaultValue:c?c.registration_number:"",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Registration Country"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,options:n,model:"registration_country",isClearable:!0,escapeClearsValue:!0,value:k.value?k:"select...",name:"name",loadOptions:function(e,a){return Pe(e,a,p,t)},onChange:function(a){return e.selectChange(a,"registration_country")}}))),r.a.createElement(Ma.a,{onClick:function(a){return e.setTab(a,"engine")},className:"btn btn-primary"},"Next")),r.a.createElement(Be.a,{eventKey:"engine",title:"Engines"},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Engine Manufacturer"),r.a.createElement(nn.a,{value:A.value?A:"select...",model:"engine_manufacturer",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"engine_manufacturer")},options:V})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Engine Type"),r.a.createElement(nn.a,{value:D.value?D:"select...",model:"engine_type",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"engine_type")},options:g})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Engine Model"),r.a.createElement(nn.a,{value:M.value?M:"select...",model:"engine_model",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"engine_model")},options:_}))),r.a.createElement(Ma.a,{onClick:function(a){return e.setTab(a,"commercial")},className:"btn btn-primary"},"Next")),r.a.createElement(Be.a,{eventKey:"commercial",title:"Commerical"},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Offered For *"),r.a.createElement(nn.a,{value:U.value?U:"select...",model:"aircraft",name:"offer_for",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"offer_for")},options:Me})),"Sale"===this.state.aircraft.offer_for&&r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Asking Price"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"aircraft",name:"price",defaultValue:c?c.price:"",onBlur:function(a){return e.handleChange(a)}})),"ACMI"===this.state.aircraft.offer_for&&r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"MGH / m"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"aircraft",name:"mgh",defaultValue:c?c.mgh:"",onBlur:function(a){return e.handleChange(a)}})),("Dry Lease"===this.state.aircraft.offer_for||"Wet Lease"===this.state.aircraft.offer_for||"Lease Purchase"===this.state.aircraft.offer_for||"Exchange"===this.state.aircraft.offer_for||"Charter"===this.state.aircraft.offer_for)&&r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,this.state.aircraft.offer_for," terms"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"5",model:"aircraft",name:"terms",defaultValue:c?c.terms:"",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Availablity"),r.a.createElement(Yi.a,{theme:JE},r.a.createElement(Bi.a,{utils:Hi.a},r.a.createElement(qi.a,{required:!0,minDate:new Date,disablePast:!0,value:l,format:"dd/MM/yyyy",onChange:function(a){return e.handleChange(a,"availability")},animateYearScrolling:!0})))),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Current Location"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,options:n,model:"current_location",isClearable:!0,escapeClearsValue:!0,value:u.value?u:"select...",name:"name",loadOptions:function(e,a){return Pe(e,a,p,t)},onChange:function(a){return e.selectChange(a,"current_location")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Primary Contact"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,options:n,model:"primary_contact",isClearable:!0,escapeClearsValue:!0,value:b.value?b:"select...",name:"name",loadOptions:function(e,a){return Pe(e,a,f,t)},onChange:function(a){return e.selectChange(a,"primary_contact")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Owner"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,options:n,model:"owner",isClearable:!0,escapeClearsValue:!0,value:N.value?N:"select...",name:"name",loadOptions:function(e,a){return Pe(e,a,O,t)},onChange:function(a){return e.selectChange(a,"owner")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Seller"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,options:n,model:"seller",isClearable:!0,escapeClearsValue:!0,value:S.value?S:"select...",name:"name",loadOptions:function(e,a){return Pe(e,a,O,t)},onChange:function(a){return e.selectChange(a,"seller")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Manager"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,options:n,model:"selected_manager",isClearable:!0,escapeClearsValue:!0,value:j.value?j:"select...",name:"name",loadOptions:function(e,a){return Pe(e,a,O,t)},onChange:function(a){return e.selectChange(a,"manager")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Previous Operator"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,options:n,model:"previous_operator",isClearable:!0,escapeClearsValue:!0,value:w.value?w:"select...",name:"name",loadOptions:function(e,a){return Pe(e,a,O,t)},onChange:function(a){return e.selectChange(a,"previous_operator")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Current Operator"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,options:n,model:"current_operator",isClearable:!0,escapeClearsValue:!0,value:C.value?C:"select...",name:"name",loadOptions:function(e,a){return Pe(e,a,O,t)},onChange:function(a){return e.selectChange(a,"current_operator")}}))),r.a.createElement(Ma.a,{onClick:function(a){return e.setTab(a,"files_photos")},className:"btn btn-primary"},"Next")),r.a.createElement(Be.a,{eventKey:"files_photos",title:"Files & Photos"},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,xs:"12",md:"6"},r.a.createElement(Ma.a,{onClick:function(){return e.medialibraryAsset.current.galleryModalOpener()},className:"btn btn-primary"},r.a.createElement("i",{className:"fa fa-upload"})," Select or Upload Images"),r.a.createElement(zE,{modal:!0,ref:this.medialibraryAsset,user:R.value,showLibrary:""!==R.value,selected_images:this.state.selected_images,insertImages:function(a){return e.setState({selected_images:a})}}),r.a.createElement(DE.a,{enableLightbox:!1,id:"readonlygallery",rowHeight:150,margin:5,enableImageSelection:!0,onSelectImage:function(a){return e.removeImage(a)},images:this.state.selected_images,onClickThumbnail:function(a){return e.onClickThumbnail(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,xs:"12",md:"6"},r.a.createElement(HE.a,{inputContent:"Drop a PDF file here, or click to select a file to upload.",accept:".pdf",styles:{dropzone:{height:250}},getUploadParams:function(a){return e.getUploadParams(a)},onChangeStatus:function(a,t){return e.onAttachmentUpload(a,t)},maxSizeBytes:2097152,initialFiles:z}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,xs:"12"},r.a.createElement(Ma.a,{onClick:function(a){return e.setTab(a,"custom_info")},className:"btn btn-primary"},"Next")))),r.a.createElement(Be.a,{eventKey:"custom_info",title:"Custom Info"},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,xs:"12"},r.a.createElement(mt.a.Label,null,"Additional details"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"5",required:!0,type:"text",placeholder:"",model:"aircraft",name:"description",defaultValue:c?c.description:"",onBlur:function(a){return e.handleChange(a)}}))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/aircraft/asset",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))))}}]),a}(r.a.Component),XE=function(e){function a(e){var t;Object(Qa.a)(this,a),t=Object($a.a)(this,Object(et.a)(a).call(this,e));var n=e.match.params.type;return t.state={errors:{},showError:!1},t.state.type=n,t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){var l=a.charAt(0).toUpperCase()+a.slice(1);return r.a.createElement("li",{key:t+n},r.a.createElement("span",{style:{"text-transform":"capitalize"}},l.replace(/_/g," "))," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Aircraft",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/aircraft/asset",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(KE,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),QE=Object(B.o)(XE),ZE=t(167),$E={success:fa.a,warning:va.a,error:ga.a,info:_a.a};var eb=Object(ft.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}))((function(e){var a=e.classes,t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["classes","className","message","onClose","variant"]),i=$E[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))})),ab=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).handleCloseSnackbar=function(){t.setState({showSnackbar:!1})};var n=t.props.data.match.params,r=n.aircraft_id,l=n.type;return t.txt_weight={fontWeight:500},t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.state={type:l,aircraft:{},action:"",showModal:!1,showSnackbar:!1,variant:"success",created_at:"",updated_at:"",image:[],is_published:""},t.getAircraft(r),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getAircraft",value:function(e){var a=this;be("aircrafts/"+e+"/").then((function(e){e.data.media&&null!==e.data.media&&e.data.media.map((function(e,a){var t=e.path+"/",n=e.original_file_name.replace(t,e.path+"/thumb_"),r=new Image;e.original_file_name;try{r.onload=function(){e.thumb_file=n},r.onerror=function(){e.thumb_file=e.original_file_name},r.src=oe+n}catch(l){}return e})),a.setState({created_at:(new Intl.DateTimeFormat).format(new Date(e.data.created_at)),updated_at:(new Intl.DateTimeFormat).format(new Date(e.data.updated_at)),image:e.data.media?e.data.media:null}),a.setState({aircraft:e.data})}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.aircraft;n[a]=e,this.setState({aircraft:n}),fe("aircrafts/"+this.state.aircraft.id+"/",this.state.aircraft).then((function(e){t.setState({aircraft:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalClose",value:function(e){if("send"===e){this.setState({showSpinner:!0});var a=this.state.statusData;a.status_reason=this.state.mailText,this.sendMail(a)}else this.setState({showModal:!1})}},{key:"changeStatus",value:function(e,a){var t=this.state.aircraft,n={isactivestatus:e.target.value,model:"AbAircrafts",id:t.id};this.setState({statusData:n}),"Revise"===n.isactivestatus||"Rejected"===n.isactivestatus?this.setState({showModal:!0}):(this.sendMail(n),this.setState({showSpinner:!0}))}},{key:"sendMail",value:function(e){var a=this;ve("assets/update_status",e).then((function(e){a.setState({showSnackbar:!0,variant:"success",snackMessage:"Mail successfully sent.",showModal:!1,showSpinner:!1})})).catch((function(e){a.setState({showSnackbar:!0,variant:"error",snackMessage:"An error occurred.",showModal:!1,showSpinner:!1})}))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.aircraft),n=t.user?t.user.contact?t.user.contact.first_name+" "+t.user.contact.last_name:t.user.email:"",l="",c="";return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"User"),r.a.createElement("div",null,t.user?r.a.createElement(P.Link,{target:"_blank",to:"/contact/"+t.user.id+"/"},n):"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Category"),r.a.createElement("div",null,t.category?t.category.name:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Manufacturer"),r.a.createElement("div",null,t.manufacturer?t.manufacturer.name:"")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Type"),r.a.createElement("div",null,t.type?t.type.name:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Model"),r.a.createElement("div",null,t.model?t.model.name:"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"MSN"),r.a.createElement("div",null,t.msn?t.msn:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"YOM"),r.a.createElement("div",null,t.yom?t.yom:"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Configuration"),r.a.createElement("div",null,t.configuration?t.configuration.name:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Seating"),r.a.createElement("div",null,"Economy (Y) ",t.seating_economy?t.seating_economy:0,", Business (C) ",t.seating_business?t.seating_business:0,", First (F) ",t.seating_first_class?t.seating_first_class:0)),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Current Status"),r.a.createElement("div",null,t.status?t.status:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Compliance"),r.a.createElement("div",null,t.compliance?t.compliance:"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"TSN"),r.a.createElement("div",null,t.tsn?t.tsn:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"CSN"),r.a.createElement("div",null,t.csn?t.csn:"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"MTOW Kg"),r.a.createElement("div",null,t.mtow?t.mtow:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"MLGW Kg"),r.a.createElement("div",null,t.mlgw?t.mlgw:"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Last C Check"),r.a.createElement("div",null,t.last_c_check?(new Intl.DateTimeFormat).format(new Date(t.last_c_check)):"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Registration Number"),r.a.createElement("div",null,t.registration_number?t.registration_number:"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Registration Country"),r.a.createElement("div",null,t.registration_country?t.registration_country.name:"-----"))),r.a.createElement("hr",null),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Engine Manufacturer"),r.a.createElement("div",null,t.engine_manufacturer?t.engine_manufacturer.name:"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Engine Type"),r.a.createElement("div",null,t.engine_type?t.engine_type.name:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Engine Model"),r.a.createElement("div",null,t.engine_model?t.engine_model.name:"-----"))),r.a.createElement("hr",null),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Offer For"),r.a.createElement("div",null,t.offer_for?t.offer_for:"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Price"),r.a.createElement("div",null,t.price?t.price:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Availability"),r.a.createElement("div",null,t.availability?(new Intl.DateTimeFormat).format(new Date(t.availability)):"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Current Location"),r.a.createElement("div",null,t.current_location?t.current_location.name:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Primary Contact"),r.a.createElement("div",null,t.primary_contact?t.primary_contact.first_name+" "+t.primary_contact.last_name:"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Owner"),r.a.createElement("div",null,t.owner?t.owner.name:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Seller"),r.a.createElement("div",null,t.seller?t.seller.name:"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Manager"),r.a.createElement("div",null,t.manager?t.manager.name:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Previous Operator"),r.a.createElement("div",null,t.previous_operator?t.previous_operator.name:"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Current Operator"),r.a.createElement("div",null,t.current_operator?t.current_operator.name:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Additional details"),r.a.createElement("div",null,t.description?t.description:"-----"))),r.a.createElement("hr",null),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Views"),r.a.createElement("div",null,t.views?t.views:0)),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Likes"),r.a.createElement("div",null,t.likes?t.likes:0))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Promote Status"),r.a.createElement("div",null,t.is_featured?"Yes":"No")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Active Status"),r.a.createElement("div",{className:"d-flex align-items-center",style:{width:"230px;"}},r.a.createElement(mt.a.Control,{className:"btn-danger approvals",onChange:function(a){return e.changeStatus(a,t)},as:"select",style:{width:"200px"}},Se.map((function(e,a){return l=e.value===t.isactivestatus?"selected":"",c="Expired"===e.value?"disabled":"",r.a.createElement("option",{disabled:c,selected:l,key:a},e.label)}))),!0===this.state.showSpinner&&!this.state.showModal&&r.a.createElement("div",{className:"kt-spinner kt-spinner--md kt-spinner--brand ml-2"})))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Published Status"),r.a.createElement("div",null,t.is_published?"Yes":"No")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Created"),r.a.createElement("div",null,this.state.created_at?this.state.created_at:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Modified"),r.a.createElement("div",null,this.state.updated_at?this.state.updated_at:"-----"))))),r.a.createElement(ut.a,{item:!0,xs:12,md:3},""!==this.state.image&&this.state.image.length>0?r.a.createElement(ZE.a,null,this.state.image&&this.state.image.map((function(e,a){return r.a.createElement(ZE.a.Item,{key:a},r.a.createElement("img",{className:"d-block w-100",src:oe+e.original_file_name}))}))):r.a.createElement("img",{className:"d-block w-100",src:me}))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Send mail to ",this.state.statusData?this.state.statusData.isactivestatus:"")),r.a.createElement(xa.a.Body,null,r.a.createElement("textarea",{rows:"5",onChange:function(a){return e.setState({mailText:a.target.value})},style:{display:"block",width:"100%"}})),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",className:!0===this.state.showSpinner?"kt-spinner kt-spinner--right kt-spinner--sm kt-spinner--light":"",onClick:function(){return e.handleModalClose("send")}},"Send"),r.a.createElement(Ma.a,{variant:"danger",onClick:this.handleModalClose},"Cancel"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:this.state.showSnackbar,autoHideDuration:16e5,onClose:this.handleCloseSnackbar},r.a.createElement(eb,{onClose:this.handleCloseSnackbar,variant:this.state.variant,message:this.state.snackMessage})))}}]),a}(r.a.Component),tb=function(e){function a(e){var t;Object(Qa.a)(this,a),t=Object($a.a)(this,Object(et.a)(a).call(this,e));var n=e.match.params.type;return t.state={errors:{},showError:!1},t.state.type=n,t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Aircraft",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/aircraft/asset",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/aircraft/asset/"+this.props.match.params.aircraft_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(ab,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),nb=Object(B.o)(tb),rb=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),lb={success:fa.a,warning:va.a,error:ga.a,info:_a.a},cb=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function sb(e){var a=cb(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=lb[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var ib=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),ob=function(e){var a=ib(),t=e.exportSpinner,n=e.setExpSpin,l=e.csvData,c=e.setCsvData,s=e.numSelected,i=e.type,o=e.selected,m=e.setSelected,d=e.setSelectedMany,u=e.setRowsData,p=e.rows,h=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,s>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand fa fa-ticket-alt"})),s>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},s," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"Engine Assets")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},s>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(o.length){var a={ids:o};ge("engines/"+o[0]+"/",a).then((function(e){for(var a in p)o.indexOf(p[a].id)>-1&&delete p[a];u(p),o.length=0,m(o),d(!1);var t=[];t.push(1),h(t),ub(i)}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/engine/asset/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:rb,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){n(""),be("engines",{records:"all"}).then((function(e){var a=["type","user","model","manufacturer","category","owner","seller","primary_contact","current_location"];n("d-none");var t=e.data.map((function(e,t){return a.map((function(a){e[a]=e[a]?e[a].name:e[a]})),e.primary_contact=e.primary_contact?e.primary_contact.first_name+" "+e.primary_contact.last_name:e.primary_contact,e}));c(t),document.getElementById("engine-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+t})),r.a.createElement(Ha.CSVLink,{data:l,filename:"engines.csv",className:"d-none",id:"engine-csv-btn",target:"_blank"})))))))))))},mb=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),db=t(36);function ub(e){db("#engine").DataTable().ajax.reload(null,!1)}db.DataTable=t(40);var pb=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function hb(e){var a=mb(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState(!1),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState("Changes applied successfully!"),te=Object(H.a)(ae,2),ne=te[0],re=te[1],le=r.a.useState(!1),ce=Object(H.a)(le,2),se=ce[0],oe=ce[1],me=r.a.useState([]),de=Object(H.a)(me,2),ue=de[0],pe=de[1],he=r.a.useState(!1),be=Object(H.a)(he,2),_e=be[0],ye=be[1],ke=r.a.useState({}),Ne=Object(H.a)(ke,2),Ce=Ne[0],we=Ne[1],Oe=r.a.useState(""),je=Object(H.a)(Oe,2),Te=je[0],xe=je[1],Me=r.a.useState("d-none"),De=Object(H.a)(Me,2),Ae=De[0],Re=De[1],Le=r.a.useState({create:Ee("add_abengines"),edit:Ee("change_abengines"),delete:Ee("delete_abengines"),view:Ee("view_abengines")}),Ie=Object(H.a)(Le,2),Fe=Ie[0],Ue=(Ie[1],Object(B.k)()),Ge=e.match.params.type,Pe=[{value:"",label:"All Assets"}];Se.map((function(e,a){Pe.push(e)}));function ze(e){S(!1)}function He(e){if("send"===e){var a=[];a=_.length?_:window.prevRows,Ce.status_reason=Te,qe(Ce,x,a),$(!0)}else oe(!1)}function Be(e,a,t){M(a),L(t),S(!0)}function qe(e,a,t){ve("assets/update_status",e).then((function(n){var r=t.map((function(t,n){return n===a&&(t.isactivestatus=e.isactivestatus),t}));y(r),K(!0),oe(!1),$(!1),re("Status successfully updated"),ub()}))}r.a.useEffect((function(){db.fn.dataTable.isDataTable("#engine")&&(db("#engine").DataTable().destroy(),ye(!0));return function(){y([]),db("#engine").DataTable().destroy(!0),ye(!0)}}),[]),r.a.useEffect((function(){if(_e&&db.fn.dataTable.isDataTable("#engine"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{ye(!0);try{!function(){var a=ie+"engines?format=datatables",t=[{bVisible:!1,aTargets:[1]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:Je(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),db("#engine").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:Je(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){var s=t.model__name+" "+t.manufacturer__name,i=t.id+"-"+s.replace(/\s+/g,"-").toLowerCase();c.a.render(r.a.createElement("a",{target:"_blank",style:{cursor:"pointer"},href:"/engine/"+i.replace(/ /g,"-").replace(/\//g,"-")+"/"},a),e)}},{targets:7,orderable:!0,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return Be(e,n,"is_featured")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}},{targets:8,title:"Created",createdCell:function(e,a,t,n,r){c.a.render(Va(new Date(a),"MMM DD, YYYY"),e)}},{targets:9,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){var s="",i="";c.a.render(r.a.createElement(mt.a.Control,{onChange:function(e){return function(e,a){var t=[];t=_.length?_:window.prevRows;e.target.value;var n={isactivestatus:e.target.value,model:"AbEngines",id:t[a].id};M(a),"Revise"===n.isactivestatus||"Rejected"===n.isactivestatus?(oe(!0),we(n)):(qe(n,a,t),$(!0))}(e,n)},as:"select"},Se.map((function(e,t){return s=e.value===a?"selected":"",i="Expired"===e.value?"disabled":"",r.a.createElement("option",{disabled:i,selected:s,key:t},e.label)}))),e)}}];(Fe.create||Fe.edit)&&t.push({targets:10,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:pb}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},Fe.view?r.a.createElement(Ve.a.Item,{onClick:function(){return Ue.push("/admin/engine/asset/"+t.id,"_blank")}},r.a.createElement("i",{className:"flaticon-eye"})," Views Details"):"",Fe.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return Ue.push("/admin/engine/asset/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",Fe.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return Be(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});db("#engine").DataTable({responsive:{details:{renderer:db.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("engines",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){null!==a.type?e[t].type__name=a.type.name:e[t].type__name="",null!==a.model?e[t].model__name=a.model.name:e[t].model__name="",null!==a.manufacturer?e[t].manufacturer__name=a.manufacturer.name:e[t].manufacturer__name="",e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n         <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[9,"desc"]],columnDefs:t}),db("#engine").on("page.dt",(function(){Pa(db("#engine"),"engines",e)}))}()}catch(a){console.log("ignore - dt destroy",a)}}}),[_]);var Ye=function(e,a){K(!1)},Je=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(ob,{exportSpinner:Ae,setExpSpin:Re,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,type:Ge,csvData:ue,setCsvData:pe}),r.a.createElement("div",{className:"kt-portlet__body"},Fe.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile col-xs-12"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){db("#engine").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))),r.a.createElement("div",{className:"col-md-4 col-xs-12 kt-margin-b-20-tablet-and-mobile"},r.a.createElement(nn.a,{defaultValue:"",name:"status_",onChange:function(e){db("#engine").DataTable().columns(9).search(e.value).draw()},options:Pe})),r.a.createElement("div",{className:"col-md-4 col-xs-12 kt-margin-b-20-tablet-and-mobile"},r.a.createElement(nn.a,{defaultValue:"",placeholder:"Promote...",name:"promote_",onChange:function(e){db("#engine").DataTable().columns(7).search(e.value).draw()},options:[{value:1,label:"Active"},{value:0,label:"Inactive"}]})))))):"",Fe.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"engine"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),ub()},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"manufacturer__name"},"Manufacturer"),r.a.createElement("th",{"data-data":"type__name"},"Type"),r.a.createElement("th",{"data-data":"model__name"},"Model"),r.a.createElement("th",{"data-data":"esn"},"ESN"),r.a.createElement("th",{"data-data":"offer_for"},"Offer"),r.a.createElement("th",{"data-data":"is_featured"},"Promote"),r.a.createElement("th",{"data-data":"created_at"},"Created"),r.a.createElement("th",{"data-data":"isactivestatus"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:ze},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("engines/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),ub(),K(!0);var t=1===e.data.is_active?"activated":"deactivated";re("Record successfully "+t)}))}else if("delete"==R)ge("engines/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),ub(),K(!0),re("Record successfully deleted")}));else if("is_featured"===R){a={is_featured:1===_[x].is_featured?0:1};ve("engines/"+_[x].id+"/promote/",a).then((function(e){_[x]=e.data,y(_),S(!1),ub(),K(!0),re(e.data.message)}))}}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:ze},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:16e5,onClose:Ye},r.a.createElement(sb,{onClose:Ye,variant:"success",message:ne})),r.a.createElement(xa.a,{show:se,onHide:He,centered:!0},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Send mail to ",Ce?Ce.isactivestatus:"")),r.a.createElement(xa.a.Body,null,r.a.createElement("textarea",{rows:"5",onChange:function(e){return xe(e.target.value)},style:{display:"block",width:"100%"}})),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",className:!0===Z?"kt-spinner kt-spinner--right kt-spinner--sm kt-spinner--light":"",onClick:function(){return He("send")}},"Send"),r.a.createElement(Ma.a,{variant:"danger",onClick:He},"Cancel"))))}var Eb=Object(Wi.a)({props:{MuiInput:{disableUnderline:!0},MuiTextField:{style:{display:"block"}},MuiInputBase:{style:{display:"block"},disableUnderline:!0,inputProps:{style:{display:"block",height:"calc(1.5em + 1.3rem + 2px)",padding:"0.65rem 1rem",fontSize:"1rem",fontWeight:"400",lineHeight:"1.5",color:"#495057",backgroundColor:"#fff",backgroundClip:"padding-box",border:"1px solid #e2e5ec",borderRadius:"4px",transition:"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out",boxSizing:"border-box"}}}}}),bb=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,l=n.engine_id;n.type;return t.medialibraryAsset=r.a.createRef(),t.state={validated:!1,engine:{},selectedFile:null,category:[],manufacturer:[],countries:[],type:[],contacts:[],model:[],companies:[],users:[],selected_primary_contact:{value:""},selected_category:{value:""},selected_type:{value:""},selected_manufacturer:{value:""},selected_current_location:{value:""},selected_model:{value:""},selected_owner:{value:""},selected_seller:{value:""},selected_user:{value:""},selected_status:{value:""},selected_offer_for:{value:""},selected_images:[],attachments:[],initialFiles:[],modelsLoaded:!1},t.getEngine(l),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getEngine",value:function(e){var a=this;be("engines/"+e+"/").then((function(e){a.setState({engine:e.data}),a.loadModels(),void 0!=e.data.manufacturer.id&&""!=e.data.manufacturer.id&&a.setDynamicDropdowns(e.data.manufacturer.id,"manufacturer"),void 0!=e.data.type.id&&""!=e.data.type.id&&a.setDynamicDropdowns(e.data.type.id,"type"),a.loadSelectedImages(e.data.media),a.loadInitialFields()}))}},{key:"loadModels",value:function(){var e=this.state.engine,a={status:De,offer_for:Ae},t=Object.keys(a);for(var n in t)for(var r in a[t[n]])if(a[t[n]][r].value===e[t[n]]){this.setState(Object(b.a)({},"selected_"+t[n],a[t[n]][r]));break}var l={AbUsers:{},AbCategories:{type:"engine"},AbContacts:{},AbCountries:{},AbCompanies:{}},c={AbUsers:["user"],AbContacts:["primary_contact"],AbCategories:["category"],AbManufacturers:["manufacturer"],AbCountries:["current_location"],AbCompanies:["owner","seller"]};null!==e.category&&void 0!==e.category.id&&(l.AbManufacturers={type:"engine",categories__id:e.category.id},c.AbManufacturers=["manufacturer"]),null!=e.manufacturer&&void 0!=e.manufacturer.id&&(l.AbTypes={type:"engine",manufacturer_id:e.manufacturer.id},c.AbTypes=["type"]),null!=e.type&&void 0!=e.type.id&&(l.AbModels={type:"engine",type_0:e.type.id},c.AbModels=["model"]),ve("abmodels",{models:l}).then(function(a){var t={},n=function(n){a.data[n].map((function(r,l){"AbContacts"!==n&&"AbUsers"!==n||(r.name=r.first_name+" "+r.last_name),"AbUsers"===n&&(r.id=r.user_id),a.data[n][l].label=r.name,a.data[n][l].value=r.id,Object.keys(c).map((function(a,l){c[a].map((function(l,c){n===a&&null!==e[l]&&void 0!==e[l].id&&e[l].id===r.id&&(t["selected_"+l]=r)}))}))}))};for(var r in a.data)n(r);t.users=a.data.AbUsers,t.category=a.data.AbCategories,t.contacts=a.data.AbContacts,t.manufacturer=a.data.AbManufacturers,t.countries=a.data.AbCountries,t.companies=a.data.AbCompanies,null!==e.category&&void 0!==e.category.id&&(t.manufacturer=a.data.AbManufacturers),null!=e.manufacturer&&void 0!=e.manufacturer.id&&(t.type=a.data.AbTypes),null!=e.type&&void 0!=e.type.id&&(t.model=a.data.AbModels),t.modelsLoaded=!0,this.setState(t)}.bind(this))}},{key:"handleChange",value:function(e,a){var t=this.state.engine;if("availability"!==a)var n=e.target.name,r=e.target.value;else{n=a,r=le()(e).format();this.setState({availability:e})}"is_active"===n&&(r=parseInt(r)),t[n]=r,this.setState({engine:t})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),this.checkDataFormat(),this.state.selectedFile||delete this.state.engine.file,fe("engines/"+this.state.engine.id+"/",this.state.engine).then((function(e){a.setState({engine:e.data}),a.props.data.history.push("save_new"==a.state.action?"/admin/engine/asset/create":"/admin/engine/asset")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"checkDataFormat",value:function(){var e=this,a=this.state.engine;["category","primary_contact","manufacturer","current_location","type","model","owner","user","seller"].map((function(t,n){a[t]=e.state["selected_"+t].value})),a.images=this.state.selected_images,a.attachments=this.state.attachments,this.setState({engine:a})}},{key:"getDropdownsListing",value:function(){var e=this,a=this.state.engine,t={category:"category",primary_contact:"contacts",manufacturer:"manufacturer",current_location:"countries",owner:"companies",user:"users"},n={companies:["seller"]},r={status:De,offer_for:Ae},l=Object.keys(r);for(var c in l)for(var s in r[l[c]])if(r[l[c]][s].value===a[l[c]]){this.setState(Object(b.a)({},"selected_"+l[c],r[l[c]][s]));break}l=Object.keys(t);var i=function(r){var c={records:"all",is_active:1};"category"===l[r]?c.type="engine":"manufacturer"===l[r]&&(c.type="engine"),be(t[l[r]],c).then(function(e){var c,s=e.data,i={};for(var o in s)if("contacts"===t[l[r]]?s[o].name=s[o].first_name+" "+s[o].last_name:"users"===t[l[r]]&&(s[o].name=s[o].contact.first_name+" "+s[o].contact.last_name),s[o].label=s[o].name,s[o].value=s[o].id,void 0!=a[l[r]]&&s[o].id===a[l[r]].id&&(i=s[o]),void 0!=n[t[l[r]]])for(var m in n[t[l[r]]]){var d=n[t[l[r]]][m];void 0!=a[d]&&s[o].id===a[d].id&&this.setState(Object(b.a)({},"selected_"+d,s[o]))}this.setState((c={},Object(b.a)(c,t[l[r]],s),Object(b.a)(c,"selected_"+l[r],i),Object(b.a)(c,"engine",a),c))}.bind(e))};for(var o in l)i(o)}},{key:"removeImage",value:function(e){var a=this.state.selected_images;a=a.filter((function(a,t){return e!==t})),this.setState({selected_images:a})}},{key:"selectChange",value:function(e,a){var t,n=this.state.engine;n[a]=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,"selected_"+a,e||""),Object(b.a)(t,"engine",n),t)),this.setDynamicDropdowns(e&&e.id?e.id:"",a)}},{key:"setDynamicDropdowns",value:function(e,a){if(["category","manufacturer","type"].indexOf(a)>-1&&""!==e){var t="",n={};"category"===a?(n={AbManufacturers:{categories__id:e,type:"engine"}},t="manufacturer"):"manufacturer"===a?(n={AbTypes:{manufacturer_id:e,type:"engine"}},t="type"):"type"===a&&(n={AbModels:{type_0:e,type:"engine"}},t="model"),ve("abmodels",{models:n}).then(function(e){var a=this,n={},r=function(r){var l;e.data[r].map((function(a,t){e.data[r][t].label=a.name,e.data[r][t].value=a.id,n=a})),a.setState((l={},Object(b.a)(l,t,e.data[r]),Object(b.a)(l,"selected_"+t,n),l))};for(var l in e.data)r(l)}.bind(this))}}},{key:"setTab",value:function(e,a){document.getElementById("engine-tabs-tab-"+a).click()}},{key:"getUploadParams",value:function(e){var a=new FormData;return a.append("original_file_name",e.file),a.append("user",this.state.selected_user.value),a.append("attachable_type","Engine"),"existing"in e.file&&a.append("existing_id",e.file.id),{url:ie+"attaches",dataType:"json",body:a,headers:{Authorization:"Token "+he()}}}},{key:"onAttachmentUpload",value:function(e,a){if("done"===a){var t=JSON.parse(e.xhr.response);this.setState({attachments:[].concat(Object(ha.a)(this.state.attachments),[t])})}else if("removed"===a){var n=JSON.parse(e.xhr.response),r=this.state.attachments.filter((function(e,a){return e.id!==n.id}));this.setState({attachments:r})}}},{key:"loadInitialFields",value:function(){if(void 0!==this.state.engine.attachments){var e=[];this.state.engine.attachments.map((function(a,t){var n=new File(["foo"],oe+a.original_file_name);n.id=a.id,n.existing=!0,e.push(n)})),this.setState({initialFiles:e})}}},{key:"loadSelectedImages",value:function(e){e.map((function(a,t){e[t].src=oe+a.original_file_name,e[t].thumbnail=oe+a.original_file_name,e[t].thumbnailWidth=150,e[t].thumbnailHeight=150,e[t].isSelected=!0,e[t].is_featured?(e[t].isSelected=!0,e[t].tags=[{value:"Featured",title:"Featured"}]):e[t].isSelected=!1,e[t].customOverlay=r.a.createElement(ut.a,{item:!0,xs:8}," ",r.a.createElement(RE.a,null)," ")})),this.setState({selected_images:e})}},{key:"onClickThumbnail",value:function(e){var a=this.state.selected_images;a.map((function(t,n){n===e?(a[n].is_featured=1,a[n].isSelected=!0,a[n].tags=[{value:"Featured",title:"Featured"}]):(a[n].is_featured=0,a[n].isSelected=!1,delete a[n].tags)})),this.setState({selected_images:a})}},{key:"render",value:function(){var e=this,a=this.state,t=a.modelsLoaded,n=a.availability,l=a.engine,c=(a.selectedFile,a.selected_manufacturer),s=a.manufacturer,i=a.selected_category,o=a.category,m=a.selected_current_location,d=a.countries,u=a.selected_type,p=a.type,h=a.selected_primary_contact,E=a.contacts,b=a.model,f=a.selected_model,v=a.selected_owner,g=a.companies,_=a.selected_seller,y=a.selected_user,k=a.users,N=a.selected_status,C=a.selected_offer_for,w=a.initialFiles;return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(xE.a,{defaultActiveKey:"engine",id:"engine-tabs"},r.a.createElement(Be.a,{eventKey:"engine",title:"Engines"},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"User *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"user",isClearable:!0,escapeClearsValue:!0,value:y.value?y:"select...",name:"name",loadOptions:function(e,a){return Pe(e,a,k,t)},onChange:function(a){return e.selectChange(a,"user")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Category *"),r.a.createElement(nn.a,{value:i.value?i:"select...",model:"category",name:"name",onChange:function(a){return e.selectChange(a,"category")},options:o})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Manfacturer *"),r.a.createElement(nn.a,{value:c.value?c:"select...",model:"manufacturer",name:"name",onChange:function(a){return e.selectChange(a,"manufacturer")},options:s})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Type *"),r.a.createElement(nn.a,{value:u.value?u:"select...",model:"type",name:"name",onChange:function(a){return e.selectChange(a,"type")},options:p})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Model"),r.a.createElement(nn.a,{value:f.value?f:"select...",model:"model",name:"name",onChange:function(a){return e.selectChange(a,"model")},options:b})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"ESN"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"engine",name:"esn",defaultValue:l?l.esn:"",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Cycles Reamining (CR)"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"engine",name:"cycle_remaining",defaultValue:l?l.cycle_remaining:"",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Status"),r.a.createElement(nn.a,{value:N.value?N:"select...",model:"engine",name:"status",onChange:function(a){return e.selectChange(a,"status")},options:De})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"TSO"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"engine",name:"tso",defaultValue:l?l.tso:"",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Thrust Rating"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"engine",name:"thrust_rating",defaultValue:l?l.thrust_rating:"",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"LSV Description"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"engine",name:"lsv_description",defaultValue:l?l.lsv_description:"",onBlur:function(a){return e.handleChange(a)}}))),r.a.createElement(Ma.a,{onClick:function(a){return e.setTab(a,"commercial")},className:"btn btn-primary"},"Next")),r.a.createElement(Be.a,{eventKey:"commercial",title:"Commerical"},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Offered For *"),r.a.createElement(nn.a,{value:C.value?C:"select...",model:"engine",name:"offer_for",onChange:function(a){return e.selectChange(a,"offer_for")},options:Ae})),"Sale"===this.state.engine.offer_for&&r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Asking Price"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"engine",name:"price",defaultValue:l?l.price:"",onBlur:function(a){return e.handleChange(a)}})),("Lease"===this.state.engine.offer_for||"Lease Purchase"===this.state.engine.offer_for)&&r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,this.state.engine.offer_for," terms"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"5",model:"engine",name:"lease_terms",defaultValue:l?l.lease_terms:"",onBlur:function(a){return e.handleChange(a)}})),"Exchange"===this.state.engine.offer_for&&r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,this.state.engine.offer_for," terms"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"5",model:"engine",name:"exchange_terms",defaultValue:l?l.exchange_terms:"",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Availablity"),r.a.createElement(Yi.a,{theme:Eb},r.a.createElement(Bi.a,{utils:Hi.a},r.a.createElement(qi.a,{required:!0,minDate:new Date,disablePast:!0,value:n,format:"dd/MM/yyyy",onChange:function(a){return e.handleChange(a,"availability")},animateYearScrolling:!0})))),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Current Location *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"current_location",isClearable:!0,escapeClearsValue:!0,value:m.value?m:"select...",name:"name",loadOptions:function(e,a){return Pe(e,a,d,t)},onChange:function(a){return e.selectChange(a,"current_location")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Primary Contact *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"primary_contact",isClearable:!0,escapeClearsValue:!0,value:h.value?h:"select...",name:"name",loadOptions:function(e,a){return Pe(e,a,E,t)},onChange:function(a){return e.selectChange(a,"primary_contact")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Owner"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"owner",isClearable:!0,escapeClearsValue:!0,value:v.value?v:"select...",name:"name",loadOptions:function(e,a){return Pe(e,a,g,t)},onChange:function(a){return e.selectChange(a,"owner")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Seller"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"seller",isClearable:!0,escapeClearsValue:!0,value:_.value?_:"select...",name:"name",loadOptions:function(e,a){return Pe(e,a,g,t)},onChange:function(a){return e.selectChange(a,"seller")}}))),r.a.createElement(Ma.a,{onClick:function(a){return e.setTab(a,"files_photos")},className:"btn btn-primary"},"Next")),r.a.createElement(Be.a,{eventKey:"files_photos",title:"Files & Photos"},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,xs:"12",md:"6"},r.a.createElement(Ma.a,{onClick:function(){return e.medialibraryAsset.current.galleryModalOpener()},className:"btn btn-primary"},r.a.createElement("i",{className:"fa fa-upload"})," Select or Upload Images"),r.a.createElement(zE,{modal:!0,ref:this.medialibraryAsset,user:y.value,showLibrary:""!==y.value,selected_images:this.state.selected_images,insertImages:function(a){return e.setState({selected_images:a})}}),r.a.createElement(DE.a,{enableLightbox:!1,id:"readonlygallery",rowHeight:150,margin:5,enableImageSelection:!0,onSelectImage:function(a){return e.removeImage(a)},images:this.state.selected_images,onClickThumbnail:function(a){return e.onClickThumbnail(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,xs:"12",md:"6"},r.a.createElement(HE.a,{inputContent:"Drop a PDF file here, or click to select a file to upload.",accept:".pdf",styles:{dropzone:{height:250}},getUploadParams:function(a){return e.getUploadParams(a)},onChangeStatus:function(a,t){return e.onAttachmentUpload(a,t)},maxSizeBytes:2097152,initialFiles:w}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,xs:"12"},r.a.createElement(Ma.a,{onClick:function(a){return e.setTab(a,"custom_info")},className:"btn btn-primary"},"Next")))),r.a.createElement(Be.a,{eventKey:"custom_info",title:"Custom Info"},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,xs:"12"},r.a.createElement(mt.a.Label,null,"Additional details"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"5",required:!0,type:"text",placeholder:"",model:"engine",name:"description",defaultValue:l?l.description:"",onBlur:function(a){return e.handleChange(a)}}))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/engine/asset",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))))}}]),a}(r.a.Component),fb=function(e){function a(e){var t;Object(Qa.a)(this,a),t=Object($a.a)(this,Object(et.a)(a).call(this,e));var n=e.match.params.type;return t.state={errors:{},showError:!1},t.state.type=n,t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Engine",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/engine/asset",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(bb,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),vb=Object(B.o)(fb),gb=Object(Wi.a)({props:{MuiInput:{disableUnderline:!0},MuiTextField:{style:{display:"block"}},MuiInputBase:{style:{display:"block"},disableUnderline:!0,inputProps:{style:{display:"block",height:"calc(1.5em + 1.3rem + 2px)",padding:"0.65rem 1rem",fontSize:"1rem",fontWeight:"400",lineHeight:"1.5",color:"#495057",backgroundColor:"#fff",backgroundClip:"padding-box",border:"1px solid #e2e5ec",borderRadius:"4px",transition:"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out",boxSizing:"border-box"}}}}}),_b=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).fileChangedHandler=function(e){var a=t.state.engine,n=e.target.files[0];if(t.setState({previewFile:URL.createObjectURL(n)}),void 0!=n)if(n.size_c=n.size/1024,n.size_c/1024>2)n.size_c=(n.size_c/1024).toFixed(2)+" MB",n.error="Error: File is too big",a.file={},t.setState({selectedFile:n});else{n.error=null,n.size_c=n.size_c.toFixed(2)+" KB";var r=new FileReader;r.readAsDataURL(n),r.onloadend=function(){a.file=r.result,t.setState({selectedFile:n,engine:a})}}},t.handleFileRemove=function(e){var a=t.state.category;a.file={},t.setState({selectedFile:null,category:a}),document.getElementById("category-image-upload").value=""},t.clearForm=function(e){t.props.data.history.replace("/admin/engine/asset"),t.props.data.history.replace("/admin/engine/asset/create")},t.medialibraryAsset=r.a.createRef(),t.state={validated:!1,engine:{},selectedFile:null,category:[],manufacturer:[],countries:[],type:[],contacts:[],model:[],companies:[],users:[],selected_primary_contact:{label:"Select..",value:""},selected_category:{label:"Select..",value:""},selected_type:{label:"Select..",value:""},selected_manufacturer:{label:"Select..",value:""},selected_current_location:{label:"Select..",value:""},selected_model:{label:"Select..",value:""},selected_owner:{label:"Select..",value:""},selected_seller:{label:"Select..",value:""},selected_user:{label:"Select..",value:""},selected_status:{label:"Select..",value:""},selected_offer_for:{label:"Select..",value:""},selected_images:[],attachments:[],initialFiles:[],modelsLoaded:!1},t.loadModels(),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"handleChange",value:function(e,a){var t=this.state.engine;if("availability"!==a)var n=e.target.name,r=e.target.value;else{n=a,r=le()(e).format();this.setState({availability:e})}"is_active"===n&&(r=parseInt(r)),t[n]=r,this.setState({engine:t})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),this.state.selectedFile||delete this.state.engine.file;var t=this.state.engine;t.images=this.state.selected_images,t.attachments=this.state.attachments,ve("engines",t).then((function(e){a.setState({engine:e.data}),"save_new"==a.state.action?a.clearForm("parts-form"):a.props.data.history.push("/admin/engine/asset")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"loadModels",value:function(){ve("abmodels",{models:{AbUsers:{},AbCategories:{type:"engine"},AbContacts:{},AbCountries:{},AbCompanies:{}}}).then(function(e){var a=function(a){e.data[a].map((function(t,n){"AbContacts"!==a&&"AbUsers"!==a||(t.name=t.first_name+" "+t.last_name),"AbUsers"===a&&(t.id=t.user_id),e.data[a][n].label=t.name,e.data[a][n].value=t.id}))};for(var t in e.data)a(t);this.setState({users:e.data.AbUsers,category:e.data.AbCategories,contacts:e.data.AbContacts,countries:e.data.AbCountries,companies:e.data.AbCompanies,modelsLoaded:!0})}.bind(this))}},{key:"getDropdownsListing",value:function(){var e=this,a={category:"category",primary_contact:"contacts",manufacturer:"manufacturer",current_location:"countries",owner:"companies",user:"users"},t={companies:["seller"]},n=Object.keys(a),r=function(r){var l={records:"all",is_active:1};"category"===n[r]?l.type="engine":"manufacturer"===n[r]&&(l.type="engine"),be(a[n[r]],l).then(function(e){var l,c=e.data,s={};for(var i in c)if("contacts"===a[n[r]]?c[i].name=c[i].first_name+" "+c[i].last_name:"users"===a[n[r]]&&(c[i].name=c[i].contact.first_name+" "+c[i].contact.last_name),c[i].label=c[i].name,c[i].value=c[i].id,void 0!=this.state.engine[n[r]]&&c[i].id===this.state.engine[n[r]].id&&(s=c[i]),void 0!=t[a[n[r]]])for(var o in t[a[n[r]]]){var m=t[a[n[r]]][o];void 0!=this.state.engine[m]&&c[i].id===this.state.engine[m].id&&this.setState(Object(b.a)({},"selected_"+m,s))}this.setState((l={},Object(b.a)(l,a[n[r]],c),Object(b.a)(l,"selected_"+n[r],s),l))}.bind(e))};for(var l in n)r(l)}},{key:"selectChange",value:function(e,a){var t,n=this.state.engine;if(n[a]=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,"selected_"+a,e||""),Object(b.a)(t,"engine",n),t)),["category","manufacturer","type"].indexOf(a)>-1&&e){var r="",l={};"category"===a?(l={AbManufacturers:{categories__id:e.id,type:"engine"}},r="manufacturer"):"manufacturer"===a?(l={AbTypes:{manufacturer_id:e.id,type:"engine"}},r="type"):"type"===a&&(l={AbModels:{type_0:e.id,type:"engine"}},r="model"),ve("abmodels",{models:l}).then(function(e){var a=this,t={},n=function(n){var l;e.data[n].map((function(l,c){e.data[n][c].label=l.name,e.data[n][c].value=l.id,void 0!=a.state.engine[r]&&l.id===a.state.engine[r].id&&(t=l)})),a.setState((l={},Object(b.a)(l,r,e.data[n]),Object(b.a)(l,"selected_"+r,t),l))};for(var l in e.data)n(l)}.bind(this))}}},{key:"setTab",value:function(e,a){document.getElementById("engine-tabs-tab-"+a).click()}},{key:"removeImage",value:function(e){var a=this.state.selected_images;a=a.filter((function(a,t){return e!==t})),this.setState({selected_images:a})}},{key:"onClickThumbnail",value:function(e){var a=this.state.selected_images;a.map((function(t,n){n===e?(a[n].is_featured=1,a[n].isSelected=!0,a[n].tags=[{value:"Featured",title:"Featured"}]):(a[n].is_featured=0,a[n].isSelected=!1,delete a[n].tags)})),this.setState({selected_images:a})}},{key:"getUploadParams",value:function(e){var a=new FormData;return a.append("original_file_name",e.file),a.append("user",this.state.selected_user?this.state.selected_user.value:""),a.append("attachable_type","Engine"),"existing"in e.file&&a.append("existing_id",e.file.id),{url:ie+"attaches",dataType:"json",body:a,headers:{Authorization:"Token "+he()}}}},{key:"onAttachmentUpload",value:function(e,a){if("done"===a){var t=JSON.parse(e.xhr.response);this.setState({attachments:[].concat(Object(ha.a)(this.state.attachments),[t])})}else if("removed"===a){var n=JSON.parse(e.xhr.response),r=this.state.attachments.filter((function(e,a){return e.id!==n.id}));this.setState({attachments:r})}}},{key:"render",value:function(){var e=this,a=this.state,t=a.modelsLoaded,n=a.availability,l=a.engine,c=(a.selectedFile,a.selected_manufacturer),s=a.manufacturer,i=a.selected_category,o=a.category,m=a.selected_current_location,d=a.countries,u=a.selected_type,p=a.type,h=a.selected_primary_contact,E=a.contacts,b=a.model,f=a.selected_model,v=a.selected_owner,g=a.companies,_=a.selected_seller,y=a.selected_user,k=a.users,N=a.selected_status,C=a.selected_offer_for,w=a.initialFiles;return r.a.createElement(mt.a,{noValidate:!0,id:"create-engine-form",onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(xE.a,{defaultActiveKey:"engine",id:"engine-tabs"},r.a.createElement(Be.a,{eventKey:"engine",title:"Engines"},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"User *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"user",isClearable:!0,escapeClearsValue:!0,value:y||"",name:"name",loadOptions:function(e,a){return Pe(e,a,k,t)},onChange:function(a){return e.selectChange(a,"user")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Category *"),r.a.createElement(nn.a,{value:i,model:"category",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"category")},options:o})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Manfacturer *"),r.a.createElement(nn.a,{value:c,model:"manufacturer",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"manufacturer")},options:s})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Type *"),r.a.createElement(nn.a,{value:u,model:"type",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"type")},options:p})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Model"),r.a.createElement(nn.a,{value:f,model:"model",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"model")},options:b})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"ESN"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"engine",name:"esn",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Cycles Reamining (CR)"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"engine",name:"cycle_remaining",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Status"),r.a.createElement(nn.a,{value:N,model:"engine",name:"status",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"status")},options:De})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"TSO"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"engine",name:"tso",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Thrust Rating"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"engine",name:"thrust_rating",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"LSV Description"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"engine",name:"lsv_description",onBlur:function(a){return e.handleChange(a)}}))),r.a.createElement(Ma.a,{onClick:function(a){return e.setTab(a,"commercial")},className:"btn btn-primary"},"Next")),r.a.createElement(Be.a,{eventKey:"commercial",title:"Commerical"},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Offered For *"),r.a.createElement(nn.a,{value:C,model:"engine",name:"offer_for",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"offer_for")},options:Ae})),"Sale"===this.state.engine.offer_for&&r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Asking Price"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"engine",name:"price",defaultValue:l?l.price:"",onBlur:function(a){return e.handleChange(a)}})),("Lease"===this.state.engine.offer_for||"Lease Purchase"===this.state.engine.offer_for)&&r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,this.state.engine.offer_for," terms"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"5",model:"engine",name:"lease_terms",defaultValue:l?l.lease_terms:"",onBlur:function(a){return e.handleChange(a)}})),"Exchange"===this.state.engine.offer_for&&r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,this.state.engine.offer_for," terms"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"5",model:"engine",name:"exchange_terms",defaultValue:l?l.exchange_terms:"",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Availability"),r.a.createElement(Yi.a,{theme:gb},r.a.createElement(Bi.a,{utils:Hi.a},r.a.createElement(qi.a,{required:!0,minDate:new Date,disablePast:!0,value:n,format:"dd/MM/yyyy",onChange:function(a){return e.handleChange(a,"availability")},animateYearScrolling:!0})))),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Current Location *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"current_location",isClearable:!0,escapeClearsValue:!0,value:m,name:"name",loadOptions:function(e,a){return Pe(e,a,d,t)},onChange:function(a){return e.selectChange(a,"current_location")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Primary Contact *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"primary_contact",isClearable:!0,escapeClearsValue:!0,value:h,name:"name",loadOptions:function(e,a){return Pe(e,a,E,t)},onChange:function(a){return e.selectChange(a,"primary_contact")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Owner"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"owner",isClearable:!0,escapeClearsValue:!0,value:v,name:"name",loadOptions:function(e,a){return Pe(e,a,g,t)},onChange:function(a){return e.selectChange(a,"owner")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Seller"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"seller",isClearable:!0,escapeClearsValue:!0,value:_,name:"name",loadOptions:function(e,a){return Pe(e,a,g,t)},onChange:function(a){return e.selectChange(a,"seller")}}))),r.a.createElement(Ma.a,{onClick:function(a){return e.setTab(a,"files_photos")},className:"btn btn-primary"},"Next")),r.a.createElement(Be.a,{eventKey:"files_photos",title:"Files & Photos"},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,xs:"12",md:"6"},r.a.createElement(Ma.a,{onClick:function(){return e.medialibraryAsset.current.galleryModalOpener()},className:"btn btn-primary"},r.a.createElement("i",{className:"fa fa-upload"})," Select or Upload Images"),r.a.createElement(zE,{modal:!0,ref:this.medialibraryAsset,user:y?y.value:"",showLibrary:!!y&&""!==y.value,selected_images:this.state.selected_images,insertImages:function(a){return e.setState({selected_images:a})}}),r.a.createElement(DE.a,{enableLightbox:!1,id:"readonlygallery",rowHeight:150,margin:5,enableImageSelection:!0,onSelectImage:function(a){return e.removeImage(a)},images:this.state.selected_images,onClickThumbnail:function(a){return e.onClickThumbnail(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,xs:"12",md:"6"},r.a.createElement(HE.a,{inputContent:"Drop a PDF file here, or click to select a file to upload.",accept:".pdf",styles:{dropzone:{height:250}},getUploadParams:function(a){return e.getUploadParams(a)},onChangeStatus:function(a,t){return e.onAttachmentUpload(a,t)},maxSizeBytes:2097152,initialFiles:w}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,xs:"12"},r.a.createElement(Ma.a,{onClick:function(a){return e.setTab(a,"custom_info")},className:"btn btn-primary"},"Next")))),r.a.createElement(Be.a,{eventKey:"custom_info",title:"Custom Info"},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,xs:"12"},r.a.createElement(mt.a.Label,null,"Additional details"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"5",required:!0,type:"text",placeholder:"",model:"engine",name:"description",onBlur:function(a){return e.handleChange(a)}}))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/engine/asset",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))))}}]),a}(r.a.Component),yb=function(e){function a(e){var t;Object(Qa.a)(this,a),t=Object($a.a)(this,Object(et.a)(a).call(this,e));var n=e.match.params.type;return t.state={errors:{},showError:!1},t.state.type=n,t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Engine",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/engine/asset",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(_b,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),kb=Object(B.o)(yb),Nb={success:fa.a,warning:va.a,error:ga.a,info:_a.a};var Cb=Object(ft.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}))((function(e){var a=e.classes,t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["classes","className","message","onClose","variant"]),i=Nb[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))})),wb=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).handleCloseSnackbar=function(){t.setState({showSnackbar:!1})};var n=t.props.data.match.params,r=n.engine_id,l=n.type;return t.txt_weight={fontWeight:500},t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.state={type:l,engine:{},action:"",showModal:!1,showSnackbar:!1,variant:"success",created_at:"",updated_at:"",image:[],is_published:""},t.getEngine(r),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getEngine",value:function(e){var a=this;be("engines/"+e+"/").then((function(e){a.setState({created_at:(new Intl.DateTimeFormat).format(new Date(e.data.created_at)),updated_at:(new Intl.DateTimeFormat).format(new Date(e.data.updated_at)),image:e.data.media?e.data.media:null}),a.setState({engine:e.data})}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.engine;n[a]=e,this.setState({engine:n}),fe("engines/"+this.state.engine.id+"/",this.state.engine).then((function(e){t.setState({engine:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalClose",value:function(e){if("send"===e){this.setState({showSpinner:!0});var a=this.state.statusData;a.status_reason=this.state.mailText,this.sendMail(a)}else this.setState({showModal:!1})}},{key:"changeStatus",value:function(e,a){var t=this.state.engine,n={isactivestatus:e.target.value,model:"AbEngines",id:t.id};this.setState({statusData:n}),"Revise"===n.isactivestatus||"Rejected"===n.isactivestatus?this.setState({showModal:!0}):(this.sendMail(n),this.setState({showSpinner:!0}))}},{key:"sendMail",value:function(e){var a=this;ve("assets/update_status",e).then((function(e){a.setState({showSnackbar:!0,variant:"success",snackMessage:"Mail successfully sent.",showModal:!1,showSpinner:!1})})).catch((function(e){a.setState({showSnackbar:!0,variant:"error",snackMessage:"An error occurred.",showModal:!1,showSpinner:!1})}))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.engine),n=t.user?t.user.contact?t.user.contact.first_name+" "+t.user.contact.last_name:t.user.email:"",l="",c="";return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"User"),r.a.createElement("div",null,t.user?r.a.createElement(P.Link,{target:"_blank",to:"/contact/"+t.user.contact.id+"/"},n):"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Category"),r.a.createElement("div",null,t.category?t.category.name:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Manfacturer"),r.a.createElement("div",null,t.manufacturer?t.manufacturer.name:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Type"),r.a.createElement("div",null,t.type?t.type.name:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Model"),r.a.createElement("div",null,t.model?t.model.name:"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"ESN"),r.a.createElement("div",null,t.esn?t.esn:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Cycles Remaining (CR)"),r.a.createElement("div",null,t.cycle_remaining?t.cycle_remaining:"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Current Status"),r.a.createElement("div",null,t.status?t.status:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"TSO"),r.a.createElement("div",null,t.tso?t.tso:"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Thrust Rating"),r.a.createElement("div",null,t.thrust_rating?t.thrust_rating:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"LSV Description"),r.a.createElement("div",null,t.lsv_description?t.lsv_description:"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Offered For"),r.a.createElement("div",null,t.offer_for?t.offer_for:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Availablility"),r.a.createElement("div",null,t.availability?(new Intl.DateTimeFormat).format(new Date(t.availability)):"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Current Location *"),r.a.createElement("div",null,t.current_location?t.current_location.name:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Primary Contact"),r.a.createElement("div",null,t.primary_contact?t.primary_contact.first_name+" "+t.primary_contact.last_name:"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Owner"),r.a.createElement("div",null,t.owner?t.owner.name:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Seller"),r.a.createElement("div",null,t.seller?t.seller.name:"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Additional details"),r.a.createElement("div",null,t.description?t.description:"-----"))),r.a.createElement("hr",null),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Views"),r.a.createElement("div",null,t.views?t.views:0)),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Likes"),r.a.createElement("div",null,t.likes?t.likes:0))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Promote Status"),r.a.createElement("div",null,t.is_featured?"Yes":"No")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Active Status"),r.a.createElement("div",{className:"d-flex align-items-center",style:{width:"230px;"}},r.a.createElement(mt.a.Control,{className:"btn-danger approvals",onChange:function(a){return e.changeStatus(a,t)},as:"select",style:{width:"200px"}},Se.map((function(e,a){return l=e.value===t.isactivestatus?"selected":"",c="Expired"===e.value?"disabled":"",r.a.createElement("option",{disabled:c,selected:l,key:a},e.label)}))),!0===this.state.showSpinner&&!this.state.showModal&&r.a.createElement("div",{className:"kt-spinner kt-spinner--md kt-spinner--brand ml-2"})))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Published Status"),r.a.createElement("div",null,t.is_published?"Yes":"No")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Created"),r.a.createElement("div",null,this.state.created_at?this.state.created_at:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Modified"),r.a.createElement("div",null,this.state.updated_at?this.state.updated_at:"-----"))))),r.a.createElement(ut.a,{item:!0,xs:12,md:3},""!==this.state.image&&this.state.image.length>0?r.a.createElement(ZE.a,null,this.state.image&&this.state.image.map((function(e,a){return r.a.createElement(ZE.a.Item,{key:a},r.a.createElement("img",{className:"d-block w-100",src:oe+e.original_file_name}))}))):r.a.createElement("img",{className:"d-block w-100",src:me,alt:"First slide"}))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Send mail to ",this.state.statusData?this.state.statusData.isactivestatus:"")),r.a.createElement(xa.a.Body,null,r.a.createElement("textarea",{rows:"5",onChange:function(a){return e.setState({mailText:a.target.value})},style:{display:"block",width:"100%"}})),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",className:!0===this.state.showSpinner?"kt-spinner kt-spinner--right kt-spinner--sm kt-spinner--light":"",onClick:function(){return e.handleModalClose("send")}},"Send"),r.a.createElement(Ma.a,{variant:"danger",onClick:this.handleModalClose},"Cancel"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:this.state.showSnackbar,autoHideDuration:16e5,onClose:this.handleCloseSnackbar},r.a.createElement(Cb,{onClose:this.handleCloseSnackbar,variant:this.state.variant,message:this.state.snackMessage})))}}]),a}(r.a.Component),Ob=function(e){function a(e){var t;Object(Qa.a)(this,a),t=Object($a.a)(this,Object(et.a)(a).call(this,e));var n=e.match.params.type;return t.state={errors:{},showError:!1},t.state.type=n,t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Engine",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/engine/asset",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/engine/asset/"+this.props.match.params.engine_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(wb,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Sb=Object(B.o)(Ob),jb=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),Tb={success:fa.a,warning:va.a,error:ga.a,info:_a.a},xb=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function Mb(e){var a=xb(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=Tb[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var Db=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),Ab=function(e){var a=Db(),t=e.setMessageType,n=e.setMessage,l=e.setOpen,c=e.exportSpinner,s=e.setExpSpin,i=e.csvData,o=e.setCsvData,m=e.numSelected,d=e.selected,u=e.setSelected,p=e.setSelectedMany,h=e.setRowsData,E=e.rows,f=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,m>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand fa fa-plane-arrival"})),m>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},m," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"Airports")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},m>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(d.length){var a={ids:d};ge("airport/"+d[0]+"/",a).then((function(e){for(var a in E)d.indexOf(E[a].id)>-1&&delete E[a];h(E),d.length=0,u(d),p(!1);var t=[];t.push(1),f(t),Ib()}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/airport/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:jb,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){s(""),be("airports",{records:"all"}).then((function(e){var a=["city","state","country","user","airfield_type"];s("d-none");var t=e.data.map((function(e,t){return a.map((function(a){e[a]=e[a]?e[a].name:e[a]})),e}));o(t),document.getElementById("airport-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+c})),r.a.createElement(Ha.CSVLink,{data:i,filename:"airports.csv",className:"d-none",id:"airport-csv-btn",target:"_blank"})),r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement(St.a,{inputId:"airport-csv-reader",cssClass:"kt-nav__link-text",cssInputClass:"d-none",label:"Import",onFileLoaded:function(e){return _e(e,"AbAirports").then((function(e){e.data.success?t("success"):t("error"),n(e.data.message),l(!0),Ib()}))}}))))))))))))},Rb=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),Lb=t(36);function Ib(){Lb("#airports").DataTable().ajax.reload(null,!1)}Lb.DataTable=t(40);var Fb=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function Ub(e){var a=Rb(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState(!1),te=Object(H.a)(ae,2),ne=te[0],re=te[1],le=r.a.useState("d-none"),ce=Object(H.a)(le,2),se=ce[0],oe=ce[1],me=r.a.useState([]),de=Object(H.a)(me,2),ue=de[0],pe=de[1],he=r.a.useState("success"),be=Object(H.a)(he,2),ve=be[0],_e=be[1],ye=r.a.useState({create:Ee("add_abairports"),edit:Ee("change_abairports"),delete:Ee("delete_abairports"),view:Ee("view_abairports")}),ke=Object(H.a)(ye,2),Ne=ke[0],Ce=(ke[1],Object(B.k)());function we(e){S(!1)}function Oe(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){Lb.fn.dataTable.isDataTable("#airports")&&(Lb("#airports").DataTable().destroy(),re(!0));return function(){y([]);var e=Lb("#airports").DataTable();try{e.destroy(!0)}catch(a){console.log("ignore - dt destroy")}re(!0)}}),[]),r.a.useEffect((function(){if(ne&&Lb.fn.dataTable.isDataTable("#airports"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{re(!0);try{!function(){var a=ie+"airports?format=datatables",t=[{bVisible:!1,aTargets:[1]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:je(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),Lb("#airports").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:je(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){var s=t.id+"-"+t.name.replace(/\s+/g,"-").toLowerCase();c.a.render(r.a.createElement("a",{target:"_blank",style:{cursor:"pointer"},href:"/airport/"+s+"/"},a),e)}},{targets:7,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return Oe(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(Ne.create||Ne.edit)&&t.push({targets:8,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:Fb}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},Ne.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return Ce.push("/admin/airport/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",Ne.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return Oe(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});Lb("#airports").DataTable({responsive:{details:{renderer:Lb.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("airports",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){a.city?e[t].city__name=a.city.name:e[t].city__name="",a.country?e[t].country__name=a.country.name:e[t].country__name="",e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n         <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[7,"desc"]],columnDefs:t}),Lb("#airports").on("page.dt",(function(){Pa(Lb("#airports"),"airports",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var Se=function(e,a){K(!1)},je=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(Ab,{setMessageType:_e,setMessage:$,setOpen:K,exportSpinner:se,setExpSpin:oe,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,csvData:ue,setCsvData:pe}),r.a.createElement("div",{className:"kt-portlet__body"},Ne.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){Lb("#airports").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",Ne.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"airports"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),Ib()},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"city__name"},"City"),r.a.createElement("th",{"data-data":"country__name"},"Country"),r.a.createElement("th",{"data-data":"iata_code"},"IATA"),r.a.createElement("th",{"data-data":"icao_code"},"ICAO"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:we},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("airport/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),Ib(),K(!0);var t=1===e.data.is_active?"activated":"deactivated";_e("success"),$("Record successfully "+t)}))}else"delete"==R&&ge("airport/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),Ib(),K(!0),_e("success"),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:we},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:1500,onClose:Se},r.a.createElement(Mb,{onClose:Se,variant:ve,message:Z})))}var Gb=t(1373),Pb=Object(Wi.a)({palette:{primary:dd.a},props:{MuiInput:{disableUnderline:!0},MuiTextField:{style:{display:"block"}},MuiInputBase:{style:{display:"block"},disableUnderline:!0,inputProps:{style:{display:"block",height:"calc(1.5em + 1.3rem + 2px)",padding:"0.65rem 1rem",fontSize:"1rem",fontWeight:"400",lineHeight:"1.5",color:"#495057",backgroundColor:"#fff",backgroundClip:"padding-box",border:"1px solid #e2e5ec",borderRadius:"4px",transition:"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out",boxSizing:"border-box"}}}}}),zb=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=e.data.userProp.id;return(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).clearForm=function(e){t.props.data.history.replace("/admin/airport"),t.props.data.history.replace("/admin/airport/create")},t.state={airport:{description:"",is_active:0,is_published:0,user:n,sunrise:le()(new Date).format("HH:mm"),sunset:le()(new Date).format("HH:mm")},selected_country:{value:""},selected_state:{value:""},selected_city:{value:""},timezone:{value:""},selected_airfield:{value:""},countries:[],states:[],cities:[],initialOptions:[],timezones:pe,sunrise:new Date,sunset:new Date,airfieldtypes:[],validated:!1,action:"",modelsLoaded:!1},t.loadModels(),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"loadModels",value:function(){ve("abmodels",{models:{AbAirfieldTypes:{},AbCountries:{}}}).then(function(e){var a=function(a){e.data[a].map((function(t,n){e.data[a][n].label=t.name,e.data[a][n].value=t.id}))};for(var t in e.data)a(t);this.setState({airfieldtypes:e.data.AbAirfieldTypes,countries:e.data.AbCountries,modelsLoaded:!0})}.bind(this))}},{key:"selectChange",value:function(e,a){var t,n=this.state.airport;if(n[a]=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,"selected_"+a,e||""),Object(b.a)(t,"airport",n),t)),["country","state"].indexOf(a)>-1&&e){var r="",l="",c={};"country"===a?(c={AbStates:{country_id:e.id}},r="state",l="states"):"state"===a&&(c={AbCities:{state_id:e.id}},r="city",l="cities"),ve("abmodels",{models:c}).then(function(e){var a=this,t={},n=function(n){var c;e.data[n].map((function(r,c){e.data[n][c].label=r.name,e.data[n][c].value=r.id,void 0!=a.state.airport[l]&&r.id===a.state.airport[l].id&&(t=r)})),a.setState((c={},Object(b.a)(c,l,e.data[n]),Object(b.a)(c,"selected_"+r,t),c))};for(var c in e.data)n(c)}.bind(this))}}},{key:"selectAirfieldType",value:function(e,a){var t,n=this.state.airport;n.airfield_type=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"airport",n),t))}},{key:"selectTimeZone",value:function(e,a){var t,n=this.state.airport;n.time_zone=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"airport",n),t))}},{key:"handleChange",value:function(e,a){var t=this.state.airport;if("sunrise"!==a&&"sunset"!==a)var n=e.target.name,r=e.target.value;else{n=a,r=le()(e).format("HH:mm");"sunrise"===a?this.setState({sunrise:e}):this.setState({sunset:e})}"is_active"===n&&(r=parseInt(r)),t[n]=r,this.setState({airport:t})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),ve("airports",this.state.airport).then((function(e){e.data.user=e.data.user.id,a.setState({airport:e.data,alert_status:"show"}),"save_new"==a.state.action?a.clearForm("airports-form"):a.props.data.history.push("/admin/airport")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.initialOptions,n=a.modelsLoaded,l=a.airport,c=a.selected_country,s=a.countries,i=a.selected_state,o=a.states,m=a.selected_city,d=a.cities,u=a.selected_airfield,p=a.airfieldtypes,h=a.timezones,E=a.timezone,b=a.sunrise,f=a.sunset;return r.a.createElement(mt.a,{noValidate:!0,id:"airports-form",onSubmit:function(a){return e.handleSubmit(a)}},"show"===this.state.alert_status?r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"9",xs:"12"}),r.a.createElement(mt.a.Group,{as:dt.a,md:"3",xs:"12"},r.a.createElement(ud.a,{variant:"success"},"Successfully Created"))):"",r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"airports",name:"name",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Airfield Type *"),r.a.createElement(rn.a,{options:t,required:!0,value:u.value?u:"select...",model:"airfieldtypes",name:"airfield_type_id",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectAirfieldType(a,"selected_airfield")},loadOptions:function(e,a){return Pe(e,a,p,n)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Country *"),r.a.createElement(rn.a,{options:t,required:!0,value:c.value?c:"select...",model:"countries",name:"country",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"country")},loadOptions:function(e,a){return Pe(e,a,s,n)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"State"),r.a.createElement(nn.a,{value:i.value?i:"select...",model:"states",name:"state",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"state")},options:o})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"City"),r.a.createElement(nn.a,{value:m.value?m:"select...",model:"cities",name:"states",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"city")},options:d})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Timezone"),r.a.createElement(nn.a,{value:E.value?E:"select...",name:"time_zone",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectTimeZone(a,"timezone")},options:h}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"IATA Code"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"airports",name:"iata_code",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"ICAO Code"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"airports",name:"icao_code",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Latitude"),r.a.createElement(mt.a.Control,{type:"number",placeholder:"",model:"airports",name:"latitude",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Longitude"),r.a.createElement(mt.a.Control,{type:"number",placeholder:"",model:"airports",name:"longitude",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Sunrise"),r.a.createElement(Yi.a,{theme:Pb},r.a.createElement(Bi.a,{utils:Hi.a},r.a.createElement(Gb.b,{clearable:!0,ampm:!1,value:b,onChange:function(a){return e.handleChange(a,"sunrise")}})))),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Sunset"),r.a.createElement(Yi.a,{theme:Pb},r.a.createElement(Bi.a,{utils:Hi.a},r.a.createElement(Gb.b,{clearable:!0,ampm:!1,value:f,onChange:function(a){return e.handleChange(a,"sunset")}}))))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Description"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"airports",name:"description",value:l.description?l.description:"",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===l.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/airport",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Vb=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Airport",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/airport",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(zb,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Hb=Object(B.o)(Vb),Bb=Object(Wi.a)({palette:{primary:dd.a},props:{MuiInput:{disableUnderline:!0},MuiTextField:{style:{display:"block"}},MuiInputBase:{style:{display:"block"},disableUnderline:!0,inputProps:{style:{display:"block",height:"calc(1.5em + 1.3rem + 2px)",padding:"0.65rem 1rem",fontSize:"1rem",fontWeight:"400",lineHeight:"1.5",color:"#495057",backgroundColor:"#fff",backgroundClip:"padding-box",border:"1px solid #e2e5ec",borderRadius:"4px",transition:"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out",boxSizing:"border-box"}}}}}),qb=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params.airport_id;return t.state={airport:{id:n},country:{value:null},state:{value:null},city:{value:null},timezone:{value:null},airfield:{value:null},countries:[],states:[],cities:[],timezones:pe,sunrise:new Date,sunset:new Date,airfieldtypes:[],validated:!1,action:""},t.getAirport(n),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getAirport",value:function(e){var a=this;be("airport/"+e+"/").then((function(e){delete e.data.user,a.setState({sunset:e.data.sunset?le()(e.data.sunset,"HH:mm"):new Date,sunrise:e.data.sunrise?le()(e.data.sunrise,"HH:mm"):new Date,airport:e.data});var t=a.state.timezone;a.state.timezones.map((function(a){a.value===e.data.time_zone&&(t={value:a.value,label:a.label})}));var n={id:e.data.airfield_type.id,label:e.data.airfield_type.name};e.data.airfield_type=e.data.airfield_type.id,a.setState({timezone:t,airfield_type:n}),a.loadModels()}))}},{key:"loadModels",value:function(){var e=this.state.airport,a={AbAirfieldTypes:{},AbCountries:{},AbStates:{country_id:e.country&&e.country.id?e.country.id:null},AbCities:{state_id:e.state&&e.state.id?e.state.id:null}},t={AbAirfieldTypes:["airfield_type"],AbCountries:["country"],AbStates:["state"],AbCities:["city"]};ve("abmodels",{models:a}).then(function(a){var n={},r=function(r){a.data[r].map((function(l,c){a.data[r][c].label=l.name,a.data[r][c].value=l.id,Object.keys(t).map((function(a,c){t[a].map((function(t,c){r===a&&null!==e[t]&&void 0!==e[t]&&void 0!==e[t].id&&e[t].id===l.id&&(n[t]=l)}))}))}))};for(var l in a.data)r(l);n.countries=a.data.AbCountries,n.states=a.data.AbStates,n.cities=a.data.AbCities,n.airfieldtypes=a.data.AbAirfieldTypes,n.modelsLoaded=!0,this.setState(n)}.bind(this))}},{key:"selectChange",value:function(e,a){var t,n=this.state.airport;if(n[a]=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"airport",n),t)),["country","state"].indexOf(a)>-1&&e){var r="",l="",c={};"country"===a?(c={AbStates:{country_id:e.id}},r="state",l="states"):"state"===a&&(c={AbCities:{state_id:e.id}},r="city",l="cities"),ve("abmodels",{models:c}).then(function(e){var a=this,t={},n=function(n){var c;e.data[n].map((function(r,c){e.data[n][c].label=r.name,e.data[n][c].value=r.id,void 0!=a.state.airport[l]&&r.id===a.state.airport[l].id&&(t=r)})),a.setState((c={},Object(b.a)(c,l,e.data[n]),Object(b.a)(c,r,t),c))};for(var c in e.data)n(c)}.bind(this))}}},{key:"selectAirfieldType",value:function(e,a){var t,n=this.state.airport;n.airfield_type=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"airport",n),t))}},{key:"selectTimeZone",value:function(e,a){var t,n=this.state.airport;n.time_zone=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"airport",n),t))}},{key:"handleChange",value:function(e,a){var t=this.state.airport;if("sunrise"!==a&&"sunset"!==a)var n=e.target.name,r=e.target.value;else{n=a,r=le()(e).format("HH:mm");"sunrise"===a?this.setState({sunrise:e}):this.setState({sunset:e})}"is_active"===n&&(r=parseInt(r)),t[n]=r,this.setState({airport:t})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),this.checkDataFormat(),fe("airport/"+this.state.airport.id+"/",this.state.airport).then((function(e){a.setState({airport:e.data}),a.props.data.history.push("/admin/airport")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"checkDataFormat",value:function(){var e=this,a=this.state.airport;["country","state","city"].map((function(t,n){a[t]=e.state[t].value})),this.setState({airport:a})}},{key:"render",value:function(){var e=this,a=this.state,t=a.initialOptions,n=a.modelsLoaded,l=a.airport,c=a.country,s=a.countries,i=a.state,o=a.states,m=a.city,d=a.cities,u=a.airfield_type,p=a.airfieldtypes,h=a.timezones,E=a.timezone,b=a.sunrise,f=a.sunset;return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"airports",name:"name",defaultValue:l?l.name:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Airfield Type *"),r.a.createElement(rn.a,{options:t,required:!0,value:u||"select...",model:"airfieldtypes",name:"airfield_type",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectAirfieldType(a,"airfield_type")},loadOptions:function(e,a){return Pe(e,a,p,n)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Country *"),r.a.createElement(rn.a,{options:t,required:!0,value:c.value?c:"select...",model:"countries",name:"country",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"country")},loadOptions:function(e,a){return Pe(e,a,s,n)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"State"),r.a.createElement(nn.a,{value:i.value?i:"select...",model:"states",name:"state",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"state")},options:o})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"City"),r.a.createElement(nn.a,{value:m.value?m:"select...",model:"cities",name:"states",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"city")},options:d})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Timezone"),r.a.createElement(nn.a,{value:E.value?E:"select...",name:"time_zone",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectTimeZone(a,"timezone")},options:h}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"IATA Code"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"airports",name:"iata_code",value:l?l.iata_code:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"ICAO Code"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"airports",name:"icao_code",value:l?l.icao_code:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Latitude"),r.a.createElement(mt.a.Control,{type:"number",placeholder:"",model:"airports",name:"latitude",value:l?l.latitude:"",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Longitude"),r.a.createElement(mt.a.Control,{type:"number",placeholder:"",model:"airports",name:"longitude",value:l?l.longitude:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Sunrise"),r.a.createElement(Yi.a,{theme:Bb},r.a.createElement(Bi.a,{utils:Hi.a},r.a.createElement(Gb.b,{clearable:!0,ampm:!1,value:b,onChange:function(a){return e.handleChange(a,"sunrise")}})))),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Sunset"),r.a.createElement(Yi.a,{theme:Bb},r.a.createElement(Bi.a,{utils:Hi.a},r.a.createElement(Gb.b,{clearable:!0,ampm:!1,value:f,onChange:function(a){return e.handleChange(a,"sunset")}}))))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Description"),r.a.createElement(mt.a.Control,{type:"text",placeholder:"",model:"airports",name:"description",value:l.description?l.description:"",onChange:function(a){return e.handleChange(a,"description")}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===l.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/airport",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Wb=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this,a=r.a.createElement(P.Link,{to:"/admin/airport",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Airport",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},a))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(qb,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Yb=Object(B.o)(Wb),Jb=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params.airport_id;return t.txt_weight={fontWeight:500},t.handleModalShow=t.handleModalShow.bind(Object(at.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.confirm=t.confirm.bind(Object(at.a)(t)),t.state={airport:{},action:"",showModal:!1,created_at:"",updated_at:"",is_active:""},t.getAirport(n),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getAirport",value:function(e){var a=this;be("airport/"+e+"/").then((function(e){a.props.setTitle(e.data.name),a.setState({airport:e.data})}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.airport;n[a]=e,this.setState({airport:n}),fe("airport/"+this.state.airport.id+"/",this.state.airport).then((function(e){t.setState({airport:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalShow",value:function(e,a){var t=e.target.value;"status"===a&&(t=parseInt(t),this.setState({is_active:1===t?0:1})),this.setState({action:a}),this.setState({showModal:!0})}},{key:"handleModalClose",value:function(){this.setState({showModal:!1})}},{key:"confirm",value:function(){var e=this;"status"===this.state.action&&(this.state.airport.is_active=this.state.is_active,delete this.state.airport.user,delete this.state.airport.city,delete this.state.airport.country,delete this.state.airport.state,delete this.state.airport.airfield_type,fe("airport/"+this.state.airport.id+"/",this.state.airport).then((function(a){e.setState({airport:a.data}),e.setState({showModal:!1})})).catch((function(a){e.props.sendError(a.response.data),e.setState({showModal:!1})})))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.airport);return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:6},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Name"),r.a.createElement("div",null,t.name?t.name:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Airfield Type"),r.a.createElement("div",null,t.airfield_type?t.airfield_type.name:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"City"),r.a.createElement("div",null,t.city?t.city.name:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"State"),r.a.createElement("div",null,t.state?t.state.name:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Country"),r.a.createElement("div",null,t.country?t.country.name:"---"))),r.a.createElement("hr",null),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Sunrise"),r.a.createElement("div",null,t.sunrise?t.sunrise:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Sunset"),r.a.createElement("div",null,t.sunset?t.sunset:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"IATA Code"),r.a.createElement("div",null,t.iata_code?t.iata_code:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"ICAO Code"),r.a.createElement("div",null,t.icao_code?t.icao_code:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Latitude"),r.a.createElement("div",null,t.latitude?t.latitude:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Longitude"),r.a.createElement("div",null,t.longitude?t.longitude:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Timezone"),r.a.createElement("div",null,t.time_zone?"GMT "+t.time_zone:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Status"),r.a.createElement("div",null,r.a.createElement("span",{onClick:function(a){return e.handleModalShow(a,"status")},className:1===this.state.airport.is_active?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===t.is_active?"defaultChecked":"",value:1===t.is_active?"1":"0",name:"is_active"}),r.a.createElement("span",null))))))))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:this.confirm},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:this.handleModalClose},"No"))))}}]),a}(r.a.Component),Kb=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).setMainTitle=function(e){t.setState({title:e})},t.state={errors:{},showError:!1,title:"Airport"},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.title,jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/airport",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/airport/"+this.props.match.params.airport_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Jb,{data:this.props,sendError:this.sendError,setTitle:this.setMainTitle}))))))}}]),a}(r.a.Component),Xb=Object(B.o)(Kb),Qb=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),Zb={success:fa.a,warning:va.a,error:ga.a,info:_a.a},$b=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function ef(e){var a=$b(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=Zb[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var af=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),tf=function(e){var a=af(),t=e.exportSpinner,n=e.setExpSpin,l=e.csvData,c=e.setCsvData,s=e.numSelected,i=e.type,o=e.selected,m=e.setSelected,d=e.setSelectedMany,u=e.setRowsData,p=e.rows,h=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,s>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand fa fa-ticket-alt"})),s>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},s," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"Apu Assets")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},s>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(o.length){var a={ids:o};ge("apuss/"+o[0]+"/",a).then((function(e){for(var a in p)o.indexOf(p[a].id)>-1&&delete p[a];u(p),o.length=0,m(o),d(!1);var t=[];t.push(1),h(t),lf(i)}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/apu/asset/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:Qb,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){n(""),be("apus",{records:"all"}).then((function(e){var a=["type","user","model","manufacturer","category","owner","seller","current_location"];n("d-none");var t=e.data.map((function(e,t){return a.map((function(a){e[a]=e[a]?e[a].name:e[a]})),e.primary_contact=e.primary_contact?e.primary_contact.first_name+" "+e.primary_contact.last_name:e.primary_contact,e}));c(t),document.getElementById("apu-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+t})),r.a.createElement(Ha.CSVLink,{data:l,filename:"apu.csv",className:"d-none",id:"apu-csv-btn",target:"_blank"})))))))))))},nf=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),rf=t(36);function lf(e){rf("#apu").DataTable().ajax.reload(null,!1)}rf.DataTable=t(40);var cf=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function sf(e){var a=nf(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState(!1),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState("Changes applied successfully!"),te=Object(H.a)(ae,2),ne=te[0],re=te[1],le=r.a.useState(!1),ce=Object(H.a)(le,2),se=ce[0],oe=ce[1],me=r.a.useState([]),de=Object(H.a)(me,2),ue=de[0],pe=de[1],he=r.a.useState(!1),be=Object(H.a)(he,2),_e=be[0],ye=be[1],ke=r.a.useState({}),Ne=Object(H.a)(ke,2),Ce=Ne[0],we=Ne[1],Oe=r.a.useState(""),je=Object(H.a)(Oe,2),Te=je[0],xe=je[1],Me=r.a.useState("d-none"),De=Object(H.a)(Me,2),Ae=De[0],Re=De[1],Le=r.a.useState({create:Ee("add_abapus"),edit:Ee("change_abapus"),delete:Ee("delete_abapus"),view:Ee("view_abapus")}),Ie=Object(H.a)(Le,2),Fe=Ie[0],Ue=(Ie[1],Object(B.k)()),Ge=e.match.params.type,Pe=[{value:"",label:"All Assets"}];Se.map((function(e,a){Pe.push(e)}));function ze(e){S(!1)}function He(e){if("send"===e){var a=[];a=_.length?_:window.prevRows,Ce.status_reason=Te,qe(Ce,x,a),$(!0)}else oe(!1)}function Be(e,a,t){M(a),L(t),S(!0)}function qe(e,a,t){ve("assets/update_status",e).then((function(n){var r=t.map((function(t,n){return n===a&&(t.isactivestatus=e.isactivestatus),t}));y(r),K(!0),oe(!1),re("Status successfully updated"),$(!1),lf()}))}r.a.useEffect((function(){rf.fn.dataTable.isDataTable("#apu")&&(rf("#apu").DataTable().destroy(),ye(!0));return function(){y([]),rf("#apu").DataTable().destroy(!0),ye(!0)}}),[]),r.a.useEffect((function(){_e&&rf.fn.dataTable.isDataTable("#apu")?JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_):(ye(!0),function(){var a=ie+"apus?format=datatables",t=[{bVisible:!1,aTargets:[1]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:Je(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),rf("#apu").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:Je(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){var s=t.model__name+" "+t.manufacturer__name,i=t.id+"-"+s.replace(/\s+/g,"-").toLowerCase();c.a.render(r.a.createElement("a",{target:"_blank",style:{cursor:"pointer"},href:"/apu/"+i+"/"},a),e)}},{targets:7,title:"Created",createdCell:function(e,a,t,n,r){c.a.render(Va(new Date(a),"MMM DD, YYYY"),e)}},{targets:8,orderable:!0,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return Be(e,n,"is_featured")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}},{targets:9,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){var s="",i="";c.a.render(r.a.createElement(mt.a.Control,{onChange:function(e){return function(e,a){var t=[];t=_.length?_:window.prevRows;e.target.value;var n={isactivestatus:e.target.value,model:"AbApus",id:t[a].id};M(a),"Revise"===n.isactivestatus||"Rejected"===n.isactivestatus?(oe(!0),we(n)):(qe(n,a,t),$(!0))}(e,n)},as:"select"},Se.map((function(e,t){return s=e.value===a?"selected":"",i="Expired"===e.value?"disabled":"",r.a.createElement("option",{disabled:i,selected:s,key:t},e.label)}))),e)}}];(Fe.create||Fe.edit)&&t.push({targets:10,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:cf}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},Fe.view?r.a.createElement(Ve.a.Item,{onClick:function(){return Ue.push("/admin/apu/asset/"+t.id)}},r.a.createElement("i",{className:"flaticon-eye"})," Views Details"):"",Fe.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return Ue.push("/admin/apu/asset/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",Fe.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return Be(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});rf("#apu").DataTable({responsive:{details:{renderer:rf.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("apus",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){null!==a.type?e[t].type__name=a.type.name:e[t].type__name="",null!==a.model?e[t].model__name=a.model.name:e[t].model__name="",null!==a.manufacturer?e[t].manufacturer__name=a.manufacturer.name:e[t].manufacturer__name="",e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n         <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[9,"desc"]],columnDefs:t}),rf("#apu").on("page.dt",(function(){Pa(rf("#apu"),"apus",e)}))}())}),[_]);var Ye=function(e,a){K(!1)},Je=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(tf,{exportSpinner:Ae,setExpSpin:Re,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,type:Ge,csvData:ue,setCsvData:pe}),r.a.createElement("div",{className:"kt-portlet__body"},Fe.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile col-xs-12"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){rf("#apu").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))),r.a.createElement("div",{className:"col-md-4 col-xs-12 kt-margin-b-20-tablet-and-mobile"},r.a.createElement(nn.a,{defaultValue:"",name:"status_",onChange:function(e){rf("#apu").DataTable().columns(9).search(e.value).draw()},options:Pe})),r.a.createElement("div",{className:"col-md-4 col-xs-12 kt-margin-b-20-tablet-and-mobile"},r.a.createElement(nn.a,{defaultValue:"",placeholder:"Promote...",name:"promote_",onChange:function(e){rf("#apu").DataTable().columns(8).search(e.value).draw()},options:[{value:1,label:"Active"},{value:0,label:"Inactive"}]})))))):"",Fe.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"apu"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),lf()},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"manufacturer__name"},"Manufacturer"),r.a.createElement("th",{"data-data":"type__name"},"Type"),r.a.createElement("th",{"data-data":"model__name"},"Model"),r.a.createElement("th",{"data-data":"serial_number"},"SN"),r.a.createElement("th",{"data-data":"offer_for"},"Offer"),r.a.createElement("th",{"data-data":"created_at"},"Created"),r.a.createElement("th",{"data-data":"is_featured"},"Promote"),r.a.createElement("th",{"data-data":"isactivestatus"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:ze},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("apus/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),lf(),K(!0);var t=1===e.data.is_active?"activated":"deactivated";re("Record successfully "+t)}))}else if("delete"==R)ge("apus/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),lf(),K(!0),re("Record successfully deleted")}));else if("is_featured"===R){a={is_featured:1===_[x].is_featured?0:1};ve("apus/"+_[x].id+"/promote/",a).then((function(e){_[x]=e.data,y(_),S(!1),lf(),K(!0),re(e.data.message)}))}}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:ze},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:16e5,onClose:Ye},r.a.createElement(ef,{onClose:Ye,variant:"success",message:ne})),r.a.createElement(xa.a,{show:se,onHide:He,centered:!0},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Send mail to ",Ce?Ce.isactivestatus:"")),r.a.createElement(xa.a.Body,null,r.a.createElement("textarea",{rows:"5",onChange:function(e){return xe(e.target.value)},style:{display:"block",width:"100%"}})),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",className:!0===Z?"kt-spinner kt-spinner--right kt-spinner--sm kt-spinner--light":"",onClick:function(){return He("send")}},"Send"),r.a.createElement(Ma.a,{variant:"danger",onClick:He},"Cancel"))))}var of=Object(Wi.a)({props:{MuiInput:{disableUnderline:!0},MuiTextField:{style:{display:"block"}},MuiInputBase:{style:{display:"block"},disableUnderline:!0,inputProps:{style:{display:"block",height:"calc(1.5em + 1.3rem + 2px)",padding:"0.65rem 1rem",fontSize:"1rem",fontWeight:"400",lineHeight:"1.5",color:"#495057",backgroundColor:"#fff",backgroundClip:"padding-box",border:"1px solid #e2e5ec",borderRadius:"4px",transition:"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out",boxSizing:"border-box"}}}}}),mf=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,l=n.apu_id;n.type;return t.medialibraryAsset=r.a.createRef(),t.state={validated:!1,apu:{},selectedFile:null,category:[],manufacturer:[],countries:[],type:[],contacts:[],model:[],companies:[],users:[],selected_primary_contact:{value:""},selected_category:{value:""},selected_type:{value:""},selected_manufacturer:{value:""},selected_current_location:{value:""},selected_model:{value:""},selected_owner:{value:""},selected_seller:{value:""},selected_user:{value:""},selected_status:{value:""},selected_offer_for:{value:""},selected_images:[],attachments:[],initialFiles:[],modelsLoaded:!1},t.getApu(l),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getApu",value:function(e){var a=this;be("apus/"+e+"/").then((function(e){a.setState({apu:e.data,availability:e.data.availability}),a.loadModels(),void 0!=e.data.manufacturer.id&&""!=e.data.manufacturer.id&&a.setDynamicDropdowns(e.data.manufacturer.id,"manufacturer"),void 0!=e.data.type.id&&""!=e.data.type.id&&a.setDynamicDropdowns(e.data.type.id,"type"),a.loadSelectedImages(e.data.media),a.loadInitialFields()}))}},{key:"loadModels",value:function(){var e=this.state.apu,a={status:De,offer_for:Ae},t=Object.keys(a);for(var n in t)for(var r in a[t[n]])if(a[t[n]][r].value===e[t[n]]){this.setState(Object(b.a)({},"selected_"+t[n],a[t[n]][r]));break}var l={AbUsers:{},AbCategories:{type:"apu"},AbContacts:{},AbCountries:{},AbCompanies:{}},c={AbUsers:["user"],AbContacts:["primary_contact"],AbCategories:["category"],AbManufacturers:["manufacturer"],AbCountries:["current_location"],AbCompanies:["owner","seller"]};null!==e.category&&void 0!==e.category.id&&(l.AbManufacturers={type:"apu",categories__id:e.category.id},c.AbManufacturers=["manufacturer"]),null!=e.manufacturer&&void 0!=e.manufacturer.id&&(l.AbTypes={type:"apu",manufacturer_id:e.manufacturer.id},c.AbTypes=["type"]),null!=e.type&&void 0!=e.type.id&&(l.AbModels={type:"apu",type_0:e.type.id},c.AbModels=["model"]),ve("abmodels",{models:l}).then(function(a){var t={},n=function(n){a.data[n].map((function(r,l){"AbContacts"!==n&&"AbUsers"!==n||(r.name=r.first_name+" "+r.last_name),"AbUsers"===n&&(r.id=r.user_id),a.data[n][l].label=r.name,a.data[n][l].value=r.id,Object.keys(c).map((function(a,l){c[a].map((function(l,c){n===a&&null!==e[l]&&void 0!==e[l].id&&e[l].id===r.id&&(t["selected_"+l]=r)}))}))}))};for(var r in a.data)n(r);t.users=a.data.AbUsers,t.category=a.data.AbCategories,t.contacts=a.data.AbContacts,t.manufacturer=a.data.AbManufacturers,t.countries=a.data.AbCountries,t.companies=a.data.AbCompanies,null!==e.category&&void 0!==e.category.id&&(t.manufacturer=a.data.AbManufacturers),null!=e.manufacturer&&void 0!=e.manufacturer.id&&(t.type=a.data.AbTypes),null!=e.type&&void 0!=e.type.id&&(t.model=a.data.AbModels),t.modelsLoaded=!0,this.setState(t)}.bind(this))}},{key:"handleChange",value:function(e,a){var t=this.state.apu;if("availability"!==a)var n=e.target.name,r=e.target.value;else{n=a,r=le()(e).format();this.setState({availability:e})}"is_active"===n&&(r=parseInt(r)),t[n]=r,this.setState({apu:t})}},{key:"formatDate",value:function(e,a){var t=e.getHours();t=t<10?"0"+t:t;var n=e.getMinutes();return a+"T"+(t+":"+(n=n<10?"0"+n:n)+":00.000000Z")}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),this.checkDataFormat(),this.state.selectedFile||delete this.state.apu.file,fe("apus/"+this.state.apu.id+"/",this.state.apu).then((function(e){a.setState({apu:e.data}),a.props.data.history.push("save_new"==a.state.action?"/admin/apu/asset/create":"/admin/apu/asset")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"checkDataFormat",value:function(){var e=this,a=this.state.apu;["category","primary_contact","manufacturer","current_location","type","model","owner","user","seller"].map((function(t,n){a[t]=e.state["selected_"+t].value})),a.images=this.state.selected_images,a.attachments=this.state.attachments,this.setState({apu:a})}},{key:"getDropdownsListing",value:function(){var e=this,a=this.state.apu,t={category:"category",primary_contact:"contacts",manufacturer:"manufacturer",current_location:"countries",owner:"companies",user:"users"},n={companies:["seller"]},r={status:De,offer_for:Ae},l=Object.keys(r);for(var c in l)for(var s in r[l[c]])if(r[l[c]][s].value===a[l[c]]){this.setState(Object(b.a)({},"selected_"+l[c],r[l[c]][s]));break}l=Object.keys(t);var i=function(r){var c={records:"all"};"manufacturer"===t[l[r]]&&(c.type="apu"),be(t[l[r]],c).then(function(e){var c,s=e.data,i={};for(var o in s)if("contacts"===t[l[r]]?s[o].name=s[o].first_name+" "+s[o].last_name:"users"===t[l[r]]&&(s[o].name=s[o].contact.first_name+" "+s[o].contact.last_name),s[o].label=s[o].name,s[o].value=s[o].id,void 0!=a[l[r]]&&s[o].id===a[l[r]].id&&(i=s[o]),void 0!=n[t[l[r]]])for(var m in n[t[l[r]]]){var d=n[t[l[r]]][m];void 0!=a[d]&&s[o].id===a[d].id&&this.setState(Object(b.a)({},"selected_"+d,s[o]))}this.setState((c={},Object(b.a)(c,t[l[r]],s),Object(b.a)(c,"selected_"+l[r],i),Object(b.a)(c,"apu",a),c))}.bind(e))};for(var o in l)i(o)}},{key:"selectChange",value:function(e,a){var t,n=this.state.apu;n[a]=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,"selected_"+a,e||""),Object(b.a)(t,"apu",n),t)),this.setDynamicDropdowns(e&&e.id?e.id:"",a)}},{key:"setDynamicDropdowns",value:function(e,a){if(["category","manufacturer","type"].indexOf(a)>-1&&""!==e){var t="",n={};"category"===a?(n={AbManufacturers:{categories__id:e,type:"apu"}},t="manufacturer"):"manufacturer"===a?(n={AbTypes:{manufacturer_id:e,type:"apu"}},t="type"):"type"===a&&(n={AbModels:{type_0:e,type:"apu"}},t="model"),ve("abmodels",{models:n}).then(function(e){var a=this,n={},r=function(r){var l;e.data[r].map((function(a,t){e.data[r][t].label=a.name,e.data[r][t].value=a.id,n=a})),a.setState((l={},Object(b.a)(l,t,e.data[r]),Object(b.a)(l,"selected_"+t,n),l))};for(var l in e.data)r(l)}.bind(this))}}},{key:"setTab",value:function(e,a){document.getElementById("apu-tabs-tab-"+a).click()}},{key:"removeImage",value:function(e){var a=this.state.selected_images;a=a.filter((function(a,t){return e!==t})),this.setState({selected_images:a})}},{key:"loadSelectedImages",value:function(e){e.map((function(a,t){e[t].src=oe+a.original_file_name,e[t].thumbnail=oe+a.original_file_name,e[t].thumbnailWidth=150,e[t].thumbnailHeight=150,e[t].isSelected=!0,e[t].is_featured?(e[t].isSelected=!0,e[t].tags=[{value:"Featured",title:"Featured"}]):e[t].isSelected=!1,e[t].customOverlay=r.a.createElement(ut.a,{item:!0,xs:8}," ",r.a.createElement(RE.a,null)," ")})),this.setState({selected_images:e})}},{key:"onClickThumbnail",value:function(e){var a=this.state.selected_images;a.map((function(t,n){n===e?(a[n].is_featured=1,a[n].isSelected=!0,a[n].tags=[{value:"Featured",title:"Featured"}]):(a[n].is_featured=0,a[n].isSelected=!1,delete a[n].tags)})),this.setState({selected_images:a})}},{key:"getUploadParams",value:function(e){var a=new FormData;return a.append("original_file_name",e.file),a.append("user",this.state.selected_user.value),a.append("attachable_type","Apu"),"existing"in e.file&&a.append("existing_id",e.file.id),{url:ie+"attaches",dataType:"json",body:a,headers:{Authorization:"Token "+he()}}}},{key:"onAttachmentUpload",value:function(e,a){if("done"===a){var t=JSON.parse(e.xhr.response);this.setState({attachments:[].concat(Object(ha.a)(this.state.attachments),[t])})}else if("removed"===a){var n=JSON.parse(e.xhr.response),r=this.state.attachments.filter((function(e,a){return e.id!==n.id}));this.setState({attachments:r})}}},{key:"loadInitialFields",value:function(){if(void 0!==this.state.apu.attachments){var e=[];this.state.apu.attachments.map((function(a,t){var n=new File(["foo"],oe+a.original_file_name);n.id=a.id,n.existing=!0,e.push(n)})),this.setState({initialFiles:e})}}},{key:"render",value:function(){var e=this,a=this.state,t=a.modelsLoaded,n=a.availability,l=a.apu,c=(a.selectedFile,a.selected_manufacturer),s=a.manufacturer,i=a.selected_category,o=a.category,m=a.selected_current_location,d=a.countries,u=a.selected_type,p=a.type,h=a.selected_primary_contact,E=a.contacts,b=a.model,f=a.selected_model,v=a.selected_owner,g=a.companies,_=a.selected_seller,y=a.selected_user,k=a.users,N=a.selected_status,C=a.selected_offer_for,w=a.initialFiles;return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(xE.a,{defaultActiveKey:"apu",id:"apu-tabs"},r.a.createElement(Be.a,{eventKey:"apu",title:"Apus"},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"User *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"user",isClearable:!0,escapeClearsValue:!0,value:y.value?y:"select...",name:"name",loadOptions:function(e,a){return Pe(e,a,k,t)},onChange:function(a){return e.selectChange(a,"user")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Category *"),r.a.createElement(nn.a,{value:i.value?i:"select...",model:"category",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"category")},options:o})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Manfacturer *"),r.a.createElement(nn.a,{value:c.value?c:"select...",model:"manufacturer",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"manufacturer")},options:s})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Type *"),r.a.createElement(nn.a,{value:u.value?u:"select...",model:"type",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"type")},options:p})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Model"),r.a.createElement(nn.a,{value:f.value?f:"select...",model:"model",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"model")},options:b})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Serial Number *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"apu",name:"serial_number",defaultValue:l?l.serial_number:"",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Part Number"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"apu",name:"part_number",defaultValue:l?l.part_number:"",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Cycles Reamining (CR)"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"apu",name:"cycle_remaining",defaultValue:l?l.cycle_remaining:"",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Current Status"),r.a.createElement(nn.a,{value:N.value?N:"select...",model:"apu",name:"status",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"status")},options:De})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Thrust Rating"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"apu",name:"thrust_rating",defaultValue:l?l.thrust_rating:"",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"LSV Description"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"apu",name:"lsv_description",defaultValue:l?l.lsv_description:"",onBlur:function(a){return e.handleChange(a)}}))),r.a.createElement(Ma.a,{onClick:function(a){return e.setTab(a,"commercial")},className:"btn btn-primary"},"Next")),r.a.createElement(Be.a,{eventKey:"commercial",title:"Commerical"},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Offered For *"),r.a.createElement(nn.a,{value:C,model:"apu",name:"offer_for",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"offer_for")},options:Ae})),"Sale"===this.state.apu.offer_for&&r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Asking Price"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"apu",name:"price",defaultValue:l?l.price:"",onBlur:function(a){return e.handleChange(a)}})),("Lease"===this.state.apu.offer_for||"Lease Purchase"===this.state.apu.offer_for)&&r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,this.state.apu.offer_for," terms"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"5",model:"apu",name:"lease_terms",defaultValue:l?l.lease_terms:"",onBlur:function(a){return e.handleChange(a)}})),"Exchange"===this.state.apu.offer_for&&r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,this.state.apu.offer_for," terms"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"5",model:"apu",name:"exchange_terms",defaultValue:l?l.exchange_terms:"",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Availability"),r.a.createElement(Yi.a,{theme:of},r.a.createElement(Bi.a,{utils:Hi.a},r.a.createElement(qi.a,{value:n,minDate:n,format:"dd/MM/yyyy",onChange:function(a){return e.handleChange(a,"availability")},animateYearScrolling:!0})))),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Current Location"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"current_location",isClearable:!0,escapeClearsValue:!0,value:m.value?m:"select...",name:"name",loadOptions:function(e,a){return Pe(e,a,d,t)},onChange:function(a){return e.selectChange(a,"current_location")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Primary Contact *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"primary_contact",isClearable:!0,escapeClearsValue:!0,value:h.value?h:"select...",name:"name",loadOptions:function(e,a){return Pe(e,a,E,t)},onChange:function(a){return e.selectChange(a,"primary_contact")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Owner"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"owner",isClearable:!0,escapeClearsValue:!0,value:v.value?v:"select...",name:"name",loadOptions:function(e,a){return Pe(e,a,g,t)},onChange:function(a){return e.selectChange(a,"owner")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Seller"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"seller",isClearable:!0,escapeClearsValue:!0,value:_.value?_:"select...",name:"name",loadOptions:function(e,a){return Pe(e,a,g,t)},onChange:function(a){return e.selectChange(a,"seller")}}))),r.a.createElement(Ma.a,{onClick:function(a){return e.setTab(a,"files_photos")},className:"btn btn-primary"},"Next")),r.a.createElement(Be.a,{eventKey:"files_photos",title:"Files & Photos"},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,xs:"12",md:"6"},r.a.createElement(Ma.a,{onClick:function(){return e.medialibraryAsset.current.galleryModalOpener()},className:"btn btn-primary"},r.a.createElement("i",{className:"fa fa-upload"})," Select or Upload Images"),r.a.createElement(zE,{modal:!0,ref:this.medialibraryAsset,user:y.value,showLibrary:""!==y.value,selected_images:this.state.selected_images,insertImages:function(a){return e.setState({selected_images:a})}}),r.a.createElement(DE.a,{enableLightbox:!1,id:"readonlygallery",rowHeight:150,margin:5,enableImageSelection:!0,onSelectImage:function(a){return e.removeImage(a)},images:this.state.selected_images,onClickThumbnail:function(a){return e.onClickThumbnail(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,xs:"12",md:"6"},r.a.createElement(HE.a,{inputContent:"Drop a PDF file here, or click to select a file to upload.",accept:".pdf",styles:{dropzone:{height:250}},getUploadParams:function(a){return e.getUploadParams(a)},onChangeStatus:function(a,t){return e.onAttachmentUpload(a,t)},maxSizeBytes:2097152,initialFiles:w}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,xs:"12"},r.a.createElement(Ma.a,{onClick:function(a){return e.setTab(a,"custom_info")},className:"btn btn-primary"},"Next")))),r.a.createElement(Be.a,{eventKey:"custom_info",title:"Custom Info"},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,xs:"12"},r.a.createElement(mt.a.Label,null,"Additional details"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"5",required:!0,type:"text",placeholder:"",model:"apu",name:"description",defaultValue:l?l.description:"",onBlur:function(a){return e.handleChange(a)}}))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/apu/asset",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))))}}]),a}(r.a.Component),df=function(e){function a(e){var t;Object(Qa.a)(this,a),t=Object($a.a)(this,Object(et.a)(a).call(this,e));var n=e.match.params.type;return t.state={errors:{},showError:!1},t.state.type=n,t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Apu",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/apu/asset",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(mf,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),uf=Object(B.o)(df),pf=Object(Wi.a)({props:{MuiInput:{disableUnderline:!0},MuiTextField:{style:{display:"block"}},MuiInputBase:{style:{display:"block"},disableUnderline:!0,inputProps:{style:{display:"block",height:"calc(1.5em + 1.3rem + 2px)",padding:"0.65rem 1rem",fontSize:"1rem",fontWeight:"400",lineHeight:"1.5",color:"#495057",backgroundColor:"#fff",backgroundClip:"padding-box",border:"1px solid #e2e5ec",borderRadius:"4px",transition:"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out",boxSizing:"border-box"}}}}}),hf=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).fileChangedHandler=function(e){var a=t.state.apu,n=e.target.files[0];if(t.setState({previewFile:URL.createObjectURL(n)}),void 0!=n)if(n.size_c=n.size/1024,n.size_c/1024>2)n.size_c=(n.size_c/1024).toFixed(2)+" MB",n.error="Error: File is too big",a.file={},t.setState({selectedFile:n});else{n.error=null,n.size_c=n.size_c.toFixed(2)+" KB";var r=new FileReader;r.readAsDataURL(n),r.onloadend=function(){a.file=r.result,t.setState({selectedFile:n,apu:a})}}},t.handleFileRemove=function(e){var a=t.state.category;a.file={},t.setState({selectedFile:null,category:a}),document.getElementById("category-image-upload").value=""},t.clearForm=function(){t.props.data.history.replace("/admin/apu/asset"),t.props.data.history.replace("/admin/apu/asset/create")},t.medialibraryAsset=r.a.createRef(),t.state={validated:!1,apu:{},selectedFile:null,category:[],manufacturer:[],countries:[],type:[],contacts:[],model:[],companies:[],users:[],selected_primary_contact:{label:"Select..",value:""},selected_category:{label:"Select..",value:""},selected_type:{label:"Select..",value:""},selected_manufacturer:{label:"Select..",value:""},selected_current_location:{label:"Select..",value:""},selected_model:{label:"Select..",value:""},selected_owner:{label:"Select..",value:""},selected_seller:{label:"Select..",value:""},selected_user:{label:"Select..",value:""},selected_status:{label:"Select..",value:""},selected_offer_for:{label:"Select..",value:""},selected_images:[],attachments:[],initialFiles:[],modelsLoaded:!1},t.loadModels(),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"handleChange",value:function(e,a){var t=this.state.apu;if("availability"!==a)var n=e.target.name,r=e.target.value;else{n=a,r=le()(e).format();this.setState({availability:e})}"is_active"===n&&(r=parseInt(r)),t[n]=r,this.setState({apu:t})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),this.state.selectedFile||delete this.state.apu.file;var t=this.state.apu;t.images=this.state.selected_images,t.attachments=this.state.attachments,ve("apus",t).then((function(e){a.setState({apu:e.data}),"save_new"==a.state.action?a.clearForm("parts-form"):a.props.data.history.push("/admin/apu/asset")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"loadModels",value:function(){ve("abmodels",{models:{AbUsers:{},AbCategories:{type:"apu"},AbContacts:{},AbCountries:{},AbCompanies:{}}}).then(function(e){var a=function(a){e.data[a].map((function(t,n){"AbContacts"!==a&&"AbUsers"!==a||(t.name=t.first_name+" "+t.last_name),"AbUsers"===a&&(t.id=t.user_id),e.data[a][n].label=t.name,e.data[a][n].value=t.id}))};for(var t in e.data)a(t);this.setState({users:e.data.AbUsers,category:e.data.AbCategories,contacts:e.data.AbContacts,countries:e.data.AbCountries,companies:e.data.AbCompanies,modelsLoaded:!0})}.bind(this))}},{key:"getDropdownsListing",value:function(){var e=this,a={category:"category",primary_contact:"contacts",manufacturer:"manufacturer",current_location:"countries",owner:"companies",user:"users"},t={companies:["seller"]},n=Object.keys(a),r=function(r){var l={records:"all",is_active:1};"category"===n[r]?l.type="apu":"manufacturer"===n[r]&&(l.type="apu"),be(a[n[r]],l).then(function(e){var l,c=e.data,s={};for(var i in c)if("contacts"===a[n[r]]?c[i].name=c[i].first_name+" "+c[i].last_name:"users"===a[n[r]]&&(c[i].name=c[i].contact.first_name+" "+c[i].contact.last_name),c[i].label=c[i].name,c[i].value=c[i].id,void 0!=this.state.apu[n[r]]&&c[i].id===this.state.apu[n[r]].id&&(s=c[i]),void 0!=t[a[n[r]]])for(var o in t[a[n[r]]]){var m=t[a[n[r]]][o];void 0!=this.state.apu[m]&&c[i].id===this.state.apu[m].id&&this.setState(Object(b.a)({},"selected_"+m,s))}this.setState((l={},Object(b.a)(l,a[n[r]],c),Object(b.a)(l,"selected_"+n[r],s),l))}.bind(e))};for(var l in n)r(l)}},{key:"selectChange",value:function(e,a){var t,n=this.state.apu;if(n[a]=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,"selected_"+a,e||""),Object(b.a)(t,"apu",n),t)),["category","manufacturer","type"].indexOf(a)>-1&&e){var r="",l={};"category"===a?(l={AbManufacturers:{categories__id:e.id,type:"apu"}},r="manufacturer"):"manufacturer"===a?(l={AbTypes:{manufacturer_id:e.id,type:"apu"}},r="type"):"type"===a&&(l={AbModels:{type_0:e.id,type:"apu"}},r="model"),ve("abmodels",{models:l}).then(function(e){var a=this,t={},n=function(n){var l;e.data[n].map((function(l,c){e.data[n][c].label=l.name,e.data[n][c].value=l.id,void 0!=a.state.apu[r]&&l.id===a.state.apu[r].id&&(t=l)})),a.setState((l={},Object(b.a)(l,r,e.data[n]),Object(b.a)(l,"selected_"+r,t),l))};for(var l in e.data)n(l)}.bind(this))}}},{key:"setTab",value:function(e,a){document.getElementById("apu-tabs-tab-"+a).click()}},{key:"removeImage",value:function(e){var a=this.state.selected_images;a=a.filter((function(a,t){return e!==t})),this.setState({selected_images:a})}},{key:"onClickThumbnail",value:function(e){var a=this.state.selected_images;a.map((function(t,n){n===e?(a[n].is_featured=1,a[n].isSelected=!0,a[n].tags=[{value:"Featured",title:"Featured"}]):(a[n].is_featured=0,a[n].isSelected=!1,delete a[n].tags)})),this.setState({selected_images:a})}},{key:"getUploadParams",value:function(e){var a=new FormData;return a.append("original_file_name",e.file),a.append("user",this.state.selected_user?this.state.selected_user.value:""),a.append("attachable_type","Apu"),"existing"in e.file&&a.append("existing_id",e.file.id),{url:ie+"attaches",dataType:"json",body:a,headers:{Authorization:"Token "+he()}}}},{key:"onAttachmentUpload",value:function(e,a){if("done"===a){var t=JSON.parse(e.xhr.response);this.setState({attachments:[].concat(Object(ha.a)(this.state.attachments),[t])})}else if("removed"===a){var n=JSON.parse(e.xhr.response),r=this.state.attachments.filter((function(e,a){return e.id!==n.id}));this.setState({attachments:r})}}},{key:"render",value:function(){var e=this,a=this.state,t=a.modelsLoaded,n=a.availability,l=a.apu,c=a.selected_manufacturer,s=a.manufacturer,i=a.selected_category,o=a.category,m=a.selected_current_location,d=a.countries,u=a.selected_type,p=a.type,h=a.selected_primary_contact,E=a.contacts,b=a.model,f=a.selected_model,v=a.selected_owner,g=a.companies,_=a.selected_seller,y=a.selected_user,k=a.users,N=a.selected_status,C=a.selected_offer_for,w=a.initialFiles;return r.a.createElement(mt.a,{noValidate:!0,id:"create-course-form",onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(xE.a,{defaultActiveKey:"apu",id:"apu-tabs"},r.a.createElement(Be.a,{eventKey:"apu",title:"Apus"},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"User *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"user",isClearable:!0,escapeClearsValue:!0,value:y,name:"name",loadOptions:function(e,a){return Pe(e,a,k,t)},onChange:function(a){return e.selectChange(a,"user")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Category *"),r.a.createElement(nn.a,{value:i,model:"category",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"category")},options:o})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Manfacturer *"),r.a.createElement(nn.a,{value:c,model:"manufacturer",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"manufacturer")},options:s})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Type *"),r.a.createElement(nn.a,{value:u,model:"type",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"type")},options:p})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Model"),r.a.createElement(nn.a,{value:f,model:"model",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"model")},options:b})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Serial Number *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"apu",name:"serial_number",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Part Number"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"apu",name:"part_number",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Cycles Reamining (CR)"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"apu",name:"cycle_remaining",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Current Status"),r.a.createElement(nn.a,{value:N,model:"apu",name:"status",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"status")},options:De})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Thrust Rating"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"apu",name:"thrust_rating",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"LSV Description"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"apu",name:"lsv_description",onBlur:function(a){return e.handleChange(a)}}))),r.a.createElement(Ma.a,{onClick:function(a){return e.setTab(a,"commercial")},className:"btn btn-primary"},"Next")),r.a.createElement(Be.a,{eventKey:"commercial",title:"Commerical"},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Offered For *"),r.a.createElement(nn.a,{value:C,model:"apu",name:"offer_for",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"offer_for")},options:Ae})),"Sale"===this.state.apu.offer_for&&r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Asking Price"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"apu",name:"price",defaultValue:l?l.price:"",onBlur:function(a){return e.handleChange(a)}})),("Lease"===this.state.apu.offer_for||"Lease Purchase"===this.state.apu.offer_for)&&r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,this.state.apu.offer_for," terms"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"5",model:"apu",name:"lease_terms",defaultValue:l?l.lease_terms:"",onBlur:function(a){return e.handleChange(a)}})),"Exchange"===this.state.apu.offer_for&&r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,this.state.apu.offer_for," terms"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"5",model:"apu",name:"exchange_terms",defaultValue:l?l.exchange_terms:"",onBlur:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Availability"),r.a.createElement(Yi.a,{theme:pf},r.a.createElement(Bi.a,{utils:Hi.a},r.a.createElement(qi.a,{minDate:new Date,disablePast:!0,value:n,format:"dd/MM/yyyy",onChange:function(a){return e.handleChange(a,"availability")},animateYearScrolling:!0})))),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Current Location"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"current_location",isClearable:!0,escapeClearsValue:!0,value:m,name:"name",loadOptions:function(e,a){return Pe(e,a,d,t)},onChange:function(a){return e.selectChange(a,"current_location")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Primary Contact *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"primary_contact",isClearable:!0,escapeClearsValue:!0,value:h,name:"name",loadOptions:function(e,a){return Pe(e,a,E,t)},onChange:function(a){return e.selectChange(a,"primary_contact")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Owner"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"owner",isClearable:!0,escapeClearsValue:!0,value:v,name:"name",loadOptions:function(e,a){return Pe(e,a,g,t)},onChange:function(a){return e.selectChange(a,"owner")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Seller"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"seller",isClearable:!0,escapeClearsValue:!0,value:_,name:"name",loadOptions:function(e,a){return Pe(e,a,g,t)},onChange:function(a){return e.selectChange(a,"seller")}}))),r.a.createElement(Ma.a,{onClick:function(a){return e.setTab(a,"files_photos")},className:"btn btn-primary"},"Next")),r.a.createElement(Be.a,{eventKey:"files_photos",title:"Files & Photos"},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,xs:"12",md:"6"},r.a.createElement(Ma.a,{onClick:function(){return e.medialibraryAsset.current.galleryModalOpener()},className:"btn btn-primary"},r.a.createElement("i",{className:"fa fa-upload"})," Select or Upload Images"),r.a.createElement(zE,{modal:!0,ref:this.medialibraryAsset,user:y?y.value:"",showLibrary:!!y&&""!==y.value,selected_images:this.state.selected_images,insertImages:function(a){return e.setState({selected_images:a})}}),r.a.createElement(DE.a,{enableLightbox:!1,id:"readonlygallery",rowHeight:150,margin:5,enableImageSelection:!0,onSelectImage:function(a){return e.removeImage(a)},images:this.state.selected_images,onClickThumbnail:function(a){return e.onClickThumbnail(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,xs:"12",md:"6"},r.a.createElement(HE.a,{inputContent:"Drop a PDF file here, or click to select a file to upload.",accept:".pdf",styles:{dropzone:{height:250}},getUploadParams:function(a){return e.getUploadParams(a)},onChangeStatus:function(a,t){return e.onAttachmentUpload(a,t)},maxSizeBytes:2097152,initialFiles:w}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,xs:"12"},r.a.createElement(Ma.a,{onClick:function(a){return e.setTab(a,"custom_info")},className:"btn btn-primary"},"Next")))),r.a.createElement(Be.a,{eventKey:"custom_info",title:"Custom Info"},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,xs:"12"},r.a.createElement(mt.a.Label,null,"Additional details"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"5",required:!0,type:"text",placeholder:"",model:"apu",name:"description",onBlur:function(a){return e.handleChange(a)}}))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/apu/asset",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))))}}]),a}(r.a.Component),Ef=function(e){function a(e){var t;Object(Qa.a)(this,a),t=Object($a.a)(this,Object(et.a)(a).call(this,e));var n=e.match.params.type;return t.state={errors:{},showError:!1},t.state.type=n,t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Apu",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/apu/asset",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(hf,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),bf=Object(B.o)(Ef),ff={success:fa.a,warning:va.a,error:ga.a,info:_a.a};var vf=Object(ft.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}))((function(e){var a=e.classes,t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["classes","className","message","onClose","variant"]),i=ff[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))})),gf=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).handleCloseSnackbar=function(){t.setState({showSnackbar:!1})};var n=t.props.data.match.params,r=n.apu_id,l=n.type;return t.txt_weight={fontWeight:500},t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.state={type:l,apu:{},action:"",showModal:!1,showSnackbar:!1,variant:"success",created_at:"",updated_at:"",image:[],is_published:""},t.getApu(r),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getApu",value:function(e){var a=this;be("apus/"+e+"/").then((function(e){a.setState({created_at:(new Intl.DateTimeFormat).format(new Date(e.data.created_at)),updated_at:(new Intl.DateTimeFormat).format(new Date(e.data.updated_at)),image:e.data.media?e.data.media:null}),a.setState({apu:e.data})}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.apu;n[a]=e,this.setState({apu:n}),fe("apus/"+this.state.apu.id+"/",this.state.apu).then((function(e){t.setState({apu:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalClose",value:function(e){if("send"===e){this.setState({showSpinner:!0});var a=this.state.statusData;a.status_reason=this.state.mailText,this.sendMail(a)}else this.setState({showModal:!1})}},{key:"changeStatus",value:function(e,a){var t=this.state.apu,n={isactivestatus:e.target.value,model:"AbApus",id:t.id};this.setState({statusData:n}),"Revise"===n.isactivestatus||"Rejected"===n.isactivestatus?this.setState({showModal:!0}):(this.sendMail(n),this.setState({showSpinner:!0}))}},{key:"sendMail",value:function(e){var a=this;ve("assets/update_status",e).then((function(e){a.setState({showSnackbar:!0,variant:"success",snackMessage:"Mail successfully sent.",showModal:!1,showSpinner:!1})})).catch((function(e){a.setState({showSnackbar:!0,variant:"error",snackMessage:"An error occurred.",showModal:!1,showSpinner:!1})}))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.apu),n=t.user?t.user.contact?t.user.contact.first_name+" "+t.user.contact.last_name:t.user.email:"",l="",c="";return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"User"),r.a.createElement("div",null,t.user?r.a.createElement(P.Link,{target:"_blank",to:"/contact/"+t.user.id+"/"},n):"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Category"),r.a.createElement("div",null,t.category?t.category.name:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Manfacturer"),r.a.createElement("div",null,t.manufacturer?t.manufacturer.name:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Type"),r.a.createElement("div",null,t.type?t.type.name:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Model"),r.a.createElement("div",null,t.model?t.model.name:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Serial Number"),r.a.createElement("div",null,t.serial_number?t.serial_number:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Part Number"),r.a.createElement("div",null,t.part_number?t.part_number:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Cycles Remaining (CR)"),r.a.createElement("div",null,t.cycle_remaining?t.cycle_remaining:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Current Status"),r.a.createElement("div",null,t.status?t.status:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Thrust Rating"),r.a.createElement("div",null,t.thrust_rating?t.thrust_rating:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"LSV Description"),r.a.createElement("div",null,t.lsv_description?t.lsv_description:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Thrust Rating"),r.a.createElement("div",null,t.thrust_rating?t.thrust_rating:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Offer For"),r.a.createElement("div",null,t.offer_for?t.offer_for:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Availablility"),r.a.createElement("div",null,t.availability?(new Intl.DateTimeFormat).format(new Date(t.availability)):"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Current Location"),r.a.createElement("div",null,t.current_location?t.current_location.name:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Primary Contact"),r.a.createElement("div",null,t.primary_contact?t.primary_contact.first_name+" "+t.primary_contact.last_name:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Owner"),r.a.createElement("div",null,t.owner?t.owner.name:"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Seller"),r.a.createElement("div",null,t.seller?t.seller.name:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Additional details"),r.a.createElement("div",null,t.description?t.description:"-----"))),r.a.createElement("hr",null),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Views"),r.a.createElement("div",null,t.views?t.views:0)),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Likes"),r.a.createElement("div",null,t.likes?t.likes:0))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Promote Status"),r.a.createElement("div",null,t.is_featured?"Yes":"No")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Active Status"),r.a.createElement("div",{className:"d-flex align-items-center",style:{width:"230px;"}},r.a.createElement(mt.a.Control,{className:"btn-danger approvals",onChange:function(a){return e.changeStatus(a,t)},as:"select",style:{width:"200px"}},Se.map((function(e,a){return l=e.value===t.isactivestatus?"selected":"",c="Expired"===e.value?"disabled":"",r.a.createElement("option",{disabled:c,selected:l,key:a},e.label)}))),!0===this.state.showSpinner&&!this.state.showModal&&r.a.createElement("div",{className:"kt-spinner kt-spinner--md kt-spinner--brand ml-2"})))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Published Status"),r.a.createElement("div",null,t.is_published?t.is_published:"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Created"),r.a.createElement("div",null,this.state.created_at?this.state.created_at:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Modified"),r.a.createElement("div",null,this.state.updated_at?this.state.updated_at:"-----"))))),r.a.createElement(ut.a,{item:!0,xs:12,md:3},""!==this.state.image&&this.state.image.length>0?r.a.createElement(ZE.a,null,this.state.image&&this.state.image.map((function(e,a){return r.a.createElement(ZE.a.Item,{key:a},r.a.createElement("img",{className:"d-block w-100",src:oe+e.original_file_name}))}))):r.a.createElement("img",{className:"d-block w-100",src:me,alt:"First slide"}))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Send mail to ",this.state.statusData?this.state.statusData.isactivestatus:"")),r.a.createElement(xa.a.Body,null,r.a.createElement("textarea",{rows:"5",onChange:function(a){return e.setState({mailText:a.target.value})},style:{display:"block",width:"100%"}})),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",className:!0===this.state.showSpinner?"kt-spinner kt-spinner--right kt-spinner--sm kt-spinner--light":"",onClick:function(){return e.handleModalClose("send")}},"Send"),r.a.createElement(Ma.a,{variant:"danger",onClick:this.handleModalClose},"Cancel"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:this.state.showSnackbar,autoHideDuration:16e5,onClose:this.handleCloseSnackbar},r.a.createElement(vf,{onClose:this.handleCloseSnackbar,variant:this.state.variant,message:this.state.snackMessage})))}}]),a}(r.a.Component),_f=function(e){function a(e){var t;Object(Qa.a)(this,a),t=Object($a.a)(this,Object(et.a)(a).call(this,e));var n=e.match.params.type;return t.state={errors:{},showError:!1},t.state.type=n,t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Apu",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/apu/asset",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/apu/asset/"+this.props.match.params.apu_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(gf,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),yf=Object(B.o)(_f),kf=(r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),{success:fa.a,warning:va.a,error:ga.a,info:_a.a}),Nf=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function Cf(e){var a=Nf(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=kf[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var wf=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),Of=function(e){var a=wf(),t=e.numSelected,n=e.selected,l=e.setSelected,c=e.setSelectedMany,s=e.setRowsData,i=e.rows,o=e.setTemp;e.csvData;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,t>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon2-open-box"})),t>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},t," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"Email Templates")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},t>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(n.length){var a={ids:n};ge("emails/"+n[0]+"/",a).then((function(e){for(var a in i)n.indexOf(i[a].id)>-1&&delete i[a];s(i),n.length=0,l(n),c(!1);var t=[];t.push(1),o(t),Tf()}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/email-template/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record")))))))},Sf=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),jf=t(36);function Tf(e,a){jf("#email-templates").DataTable().ajax.reload(null,!1)}jf.DataTable=t(40);var xf=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function Mf(e){var a=Sf(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState([]),te=Object(H.a)(ae,2),ne=te[0],re=(te[1],r.a.useState(!1)),le=Object(H.a)(re,2),ce=le[0],se=le[1],oe=r.a.useState({create:Ee("add_abcannedemails"),edit:Ee("change_abcannedemails"),delete:Ee("delete_abcannedemails"),view:Ee("view_abcannedemails")}),me=Object(H.a)(oe,2),de=me[0],pe=(me[1],Object(B.k)());function he(e){S(!1)}function be(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){jf.fn.dataTable.isDataTable("#email-templates")&&(jf("#email-templates").DataTable().destroy(),se(!0));return function(){y([]),jf("#email-templates").DataTable().destroy(!0),se(!0)}}),[]),r.a.useEffect((function(){if(ce&&jf.fn.dataTable.isDataTable("#email-templates"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{se(!0);try{!function(){var a=ie+"emails?format=datatables",t=[{bVisible:!1,aTargets:[1]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:_e(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),jf("#email-templates").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:_e(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{onClick:function(){return pe.push("/admin/email-template/"+t.id)}},a),e)}},{targets:4,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return be(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(de.create||de.edit)&&t.push({targets:5,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:xf}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},de.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return pe.push("/admin/email-template/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",de.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return be(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});jf("#email-templates").DataTable({responsive:{details:{renderer:jf.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("emails",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){ue.map((function(n){n.value==a.message_type&&(e[t].message_type=n.label)})),e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n         <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[4,"desc"]],columnDefs:t}),jf("#email-templates").on("page.dt",(function(){Pa(jf("#email-templates"),"emails",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var ve=function(e,a){K(!1)},_e=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(Of,{csvData:ne,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length}),r.a.createElement("div",{className:"kt-portlet__body"},de.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){jf("#email-templates").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",de.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"email-templates"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),Tf()},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"message_type"},"Message Type"),r.a.createElement("th",{"data-data":"subject"},"Subject"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:he},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("emails/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),Tf(),K(!0);var t=1===e.data.is_active?"activated":"deactivated";$("Record successfully "+t)}))}else"delete"==R&&ge("emails/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),Tf(),K(!0),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:he},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:16e5,onClose:ve},r.a.createElement(Cf,{onClose:ve,variant:"success",message:Z})))}function Df(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}var Af={},Rf={menu:function(e,a){return function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Df(Object(t),!0).forEach((function(a){Object(b.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Df(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},e,{zIndex:99})}},Lf=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).clearForm=function(e){t.props.data.history.replace("/admin/email-template"),t.props.data.history.replace("/admin/email-template/create")},t.state={emailTemplate:{is_active:0,location:"templates/",footer_message:""},validated:!1,action:"",messageType:{value:""},messageTypes:ue},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"handleChange",value:function(e){var a=this.state.emailTemplate,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({emailTemplate:a})}},{key:"selectMessageType",value:function(e,a){var t,n=this.state.emailTemplate;n.message_type=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"emailTemplate",n),t))}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),ve("emails",this.state.emailTemplate).then((function(e){a.setState({emailTemplate:e.data}),"save_new"==a.state.action?a.clearForm("email-template-form"):a.props.data.history.push("/admin/email-template")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.emailTemplate),n=a.messageType,l=a.messageTypes;return r.a.createElement(mt.a,{noValidate:!0,id:"email-template-form",onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Message Type*"),r.a.createElement(nn.a,{value:n.value?n:"select...",name:"message_type",isClearable:!0,escapeClearsValue:!0,styles:Rf,onChange:function(a){return e.selectMessageType(a,"messageType")},options:l})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Mail Subject *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",name:"subject",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Sending Email *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",name:"sending_email",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Message"),r.a.createElement(Cm.a,{editor:Om.a,config:Af,onInit:function(e){},onChange:function(a,t){var n=t.getData();e.state.emailTemplate.message=n}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Footer"),r.a.createElement(Cm.a,{editor:Om.a,config:Af,onInit:function(e){},onChange:function(a,t){var n=t.getData();e.state.emailTemplate.footer_message=n}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/email-template",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),If=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Email Template",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/email-template",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Lf,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Ff=Object(B.o)(If);function Uf(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}var Gf={},Pf={menu:function(e,a){return function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Uf(Object(t),!0).forEach((function(a){Object(b.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Uf(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},e,{zIndex:99})}},zf=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params.template_id;return t.state={validated:!1,emailTemplate:{id:n},messageType:{value:""},messageTypes:ue},t.getEmailTemplate(n),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getEmailTemplate",value:function(e){var a=this;be("emails/"+e+"/").then((function(e){var t=a.state.messageType;a.state.messageTypes.map((function(a){a.value===e.data.message_type&&(t={value:a.value,label:a.label})})),a.setState({emailTemplate:e.data,messageType:t})}))}},{key:"selectMessageType",value:function(e,a){var t,n=this.state.emailTemplate;n.message_type=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"emailTemplate",n),t))}},{key:"handleChange",value:function(e){var a=this.state.emailTemplate,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({emailTemplate:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),fe("emails/"+this.state.emailTemplate.id+"/",this.state.emailTemplate).then((function(e){a.setState({emailTemplate:e.data}),a.props.data.history.push("/admin/email-template")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.emailTemplate),n=a.messageType,l=a.messageTypes;return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Message Type*"),r.a.createElement(nn.a,{required:!0,value:n.value?n:"select...",name:"message_type",isClearable:!0,escapeClearsValue:!0,styles:Pf,onChange:function(a){return e.selectMessageType(a,"messageType")},options:l})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Mail Subject *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",name:"subject",value:t?t.subject:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Sending Email *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",name:"sending_email",value:t?t.sending_email:"",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Message"),r.a.createElement(Cm.a,{editor:Om.a,config:Gf,data:t.message?t.message:"",onInit:function(e){},onChange:function(a,t){var n=t.getData();e.state.emailTemplate.message=n}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Footer"),r.a.createElement(Cm.a,{editor:Om.a,config:Gf,data:t.footer_message?t.footer_message:"",onInit:function(e){},onChange:function(a,t){var n=t.getData();e.state.emailTemplate.footer_message=n}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===t.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/email-template",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Vf=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this,a=r.a.createElement(P.Link,{to:"/admin/email-template",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Email Template",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},a))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(zf,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Hf=Object(B.o)(Vf),Bf=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params.template_id;return t.txt_weight={fontWeight:500},t.handleModalShow=t.handleModalShow.bind(Object(at.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.confirm=t.confirm.bind(Object(at.a)(t)),t.state={emailTemplate:{},action:"",showModal:!1,created_at:"",updated_at:"",is_active:"",messageTypes:ue,messageType:""},t.getEmailTemplate(n),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getEmailTemplate",value:function(e){var a=this;be("emails/"+e+"/").then((function(e){var t=a.state.messageType;a.state.messageTypes.map((function(a){a.value===e.data.message_type&&(t=a.label)})),a.props.setTitle(t),a.setState({created_at:e.data.created_at?(new Intl.DateTimeFormat).format(new Date(e.data.created_at)):"",updated_at:e.data.updated_at?(new Intl.DateTimeFormat).format(new Date(e.data.updated_at)):""}),a.setState({emailTemplate:e.data,messageType:t})}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.emailTemplate;n[a]=e,this.setState({emailTemplate:n}),fe("emails/"+this.state.emailTemplate.id+"/",this.state.emailTemplate).then((function(e){t.setState({emailTemplate:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalShow",value:function(e,a){var t=e.target.value;"status"===a&&(t=parseInt(t),this.setState({is_active:1===t?0:1})),this.setState({action:a}),this.setState({showModal:!0})}},{key:"handleModalClose",value:function(){this.setState({showModal:!1})}},{key:"confirm",value:function(){var e=this;"status"===this.state.action&&(this.state.emailTemplate.is_active=this.state.is_active,fe("emails/"+this.state.emailTemplate.id+"/",this.state.emailTemplate).then((function(a){delete a.data.type,e.setState({emailTemplate:a.data}),e.setState({showModal:!1})})).catch((function(a){e.props.sendError(a.response.data),e.setState({showModal:!1})})))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.emailTemplate),n=a.messageType;return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Message Type"),r.a.createElement("div",null,n||"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Subject"),r.a.createElement("div",null,t.subject?t.subject:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Sending Email"),r.a.createElement("div",null,t.sending_email?t.sending_email:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Created"),r.a.createElement("div",null,this.state.created_at?this.state.created_at:""))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Modified"),r.a.createElement("div",null,this.state.updated_at?this.state.updated_at:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Status"),r.a.createElement("div",null,r.a.createElement("span",{onClick:function(a){return e.handleModalShow(a,"status")},className:1===this.state.emailTemplate.is_active?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===t.is_active?"defaultChecked":"",value:1===t.is_active?"1":"0",name:"is_active"}),r.a.createElement("span",null)))))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Message"),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.message}}))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Footer"),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.footer_message}})))))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:this.confirm},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:this.handleModalClose},"No"))))}}]),a}(r.a.Component),qf=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).setMainTitle=function(e){t.setState({title:e})};e.match.params.type;return t.state={errors:{},showError:!1,title:"Email Template"},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.title,jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/email-template",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/email-template/"+this.props.match.params.template_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Bf,{data:this.props,sendError:this.sendError,setTitle:this.setMainTitle}))))))}}]),a}(r.a.Component),Wf=Object(B.o)(qf),Yf=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),Jf={success:fa.a,warning:va.a,error:ga.a,info:_a.a},Kf=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function Xf(e){var a=Kf(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=Jf[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var Qf=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),Zf=function(e){var a=Qf(),t=(e.setMessageType,e.setMessage,e.setOpen,e.exportSpinner,e.setExpSpin,e.numSelected),n=e.type,l=e.selected,c=e.setSelected,s=e.setSelectedMany,i=e.setRowsData,o=e.rows,m=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,t>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},!n||"event"!==n&&"news"!==n?r.a.createElement("i",{className:"kt-font-brand flaticon-price-tag"}):r.a.createElement("i",{className:"kt-font-brand flaticon2-open-box"})),t>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},t," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"Pricing")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},t>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(l.length){var a={ids:l};ge("pricing/"+l[0]+"/",a).then((function(e){for(var a in o)l.indexOf(o[a].id)>-1&&delete o[a];i(o),l.length=0,c(l),s(!1);var t=[];t.push(1),m(t),av(n)}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/pricing/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:Yf,id:"dropdown-toggle-quick-actions-subheader"}))))))))},$f=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),ev=t(36);function av(e){ev("#pricing").DataTable().ajax.reload(null,!1)}ev.DataTable=t(40);var tv=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function nv(e){console.log("component props ...",e);var a=$f(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState(!1),te=Object(H.a)(ae,2),ne=te[0],re=te[1],le=r.a.useState("d-none"),ce=Object(H.a)(le,2),se=ce[0],oe=ce[1],me=r.a.useState("success"),de=Object(H.a)(me,2),ue=de[0],pe=de[1],he=r.a.useState({create:Ee("add_abpricing"),edit:Ee("change_abpricing"),delete:Ee("delete_abpricing"),view:Ee("view_abpricing")}),be=Object(H.a)(he,2),ve=be[0],_e=(be[1],Object(B.k)()),ye=e.match.params.type;function ke(e){S(!1)}r.a.useEffect((function(){e.location&&console.log(e.location),console.log("property changed",e.location)}),[e.location]),r.a.useEffect((function(){if(ne&&ev.fn.dataTable.isDataTable("#pricing"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{re(!0);try{!function(){var a=ie+"pricing?format=datatables",t=[{bVisible:!1,aTargets:[1]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:Ce(t.id),onChange:function(e){return function(e,a){var t=m.indexOf(a),n=m;-1===t?n.push(a):n.splice(t,1);d(n);var r=Object(ha.a)(U);r.push(1),G(r),av()}(0,t.id)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return _e.push("/admin/pricing/"+t.id)}},a),e)}}];(ve.create||ve.edit)&&t.push({targets:4,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:tv}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},ve.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return _e.push("/admin/pricing/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",ve.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return a="delete",M(n),L(a),void S(!0);var a}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});ev("#pricing").DataTable({responsive:{details:{renderer:ev.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,aoSearchCols:[null,null,null,null,null,{sSearch:ye}],displayStart:za("pricing",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n     <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[4,"desc"]],columnDefs:t}),ev("#pricing").on("page.dt",(function(){Pa(ev("#pricing"),"pricing",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var Ne=function(e,a){K(!1)},Ce=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(Zf,{setMessageType:pe,setMessage:$,setOpen:K,exportSpinner:se,setExpSpin:oe,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length}),r.a.createElement("div",{className:"kt-portlet__body"},ve.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){ev("#pricing").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",ve.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"pricing"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),av()},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"name"},"Name"),r.a.createElement("th",{"data-data":"description"},"Description"),r.a.createElement("th",{"data-data":"actions"},"Actions")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:ke},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("pricing/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),av(),K(!0);var t=1===e.data.is_active?"activated":"deactivated";pe("success"),$("Record successfully "+t)}))}else"delete"==R&&ge("pricing/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),av(),K(!0),pe("success"),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:ke},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:1500,onClose:Ne},r.a.createElement(Xf,{onClose:Ne,variant:ue,message:Z})))}var rv=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).clearForm=function(e){t.props.data.history.replace("/admin/pricing"),t.props.data.history.replace("/admin/pricing/create")},t.state={price:{},action:"",selectedFile:null,previewFile:null},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"handleChange",value:function(e){var a=this.state.price,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({price:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),ve("pricing",this.state.price).then((function(e){a.setState({price:e.data}),"save_new"==a.state.action?a.clearForm("price-form"):a.props.data.history.push("/admin/pricing")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"render",value:function(){var e=this,a=this.state;a.price,a.selectedFile;return r.a.createElement(mt.a,{noValidate:!0,id:"price-form",onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"pricing",name:"name",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Price *"),r.a.createElement(mt.a.Control,{required:!0,type:"number",placeholder:"",model:"pricing",name:"price",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Description"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"5",model:"pricing",name:"description",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/pricing",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),lv=function(e){function a(e){var t;Object(Qa.a)(this,a),t=Object($a.a)(this,Object(et.a)(a).call(this,e));var n=e.match.params.type;return t.state={errors:{},showError:!1},t.state.type=n,t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Pricing",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/pricing",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(rv,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),cv=Object(B.o)(lv),sv=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,r=n.price_id,l=n.type;return t.state={validated:!1,price:{},type:l,selectedFile:null,previewFile:null},t.getPrice(r),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getPrice",value:function(e){var a=this;be("pricing/"+e+"/").then((function(e){delete e.data.type,a.setState({price:e.data,previewFile:e.data.media?oe+e.data.media.original_file_name:null})}))}},{key:"handleChange",value:function(e){var a=this.state.price,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({price:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),fe("pricing/"+this.state.price.id+"/",this.state.price).then((function(e){delete e.data.type,a.setState({price:e.data}),a.props.data.history.push("/admin/pricing")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.price);a.selectedFile;return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Name *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"pricing",name:"name",defaultValue:t?t.name:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"6"},r.a.createElement(mt.a.Label,null,"Price *"),r.a.createElement(mt.a.Control,{required:!0,type:"number",placeholder:"",model:"pricing",name:"price",defaultValue:t?t.price:"",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(mt.a.Label,null,"Description"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"3",required:!0,placeholder:"",model:"pricing",name:"description",defaultValue:t?t.description:"",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(Ma.a,{type:"submit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/pricing",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),iv=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1,type:e.match.params.type},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this,a=r.a.createElement(P.Link,{to:"/admin/pricing",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Pricing",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},a))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(sv,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),ov=Object(B.o)(iv),mv=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params.price_id;return t.txt_weight={fontWeight:500},t.handleModalShow=t.handleModalShow.bind(Object(at.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.confirm=t.confirm.bind(Object(at.a)(t)),t.state={price:{},action:"",showModal:!1,created_at:"",updated_at:"",image:null,is_active:""},t.getPrice(n),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getPrice",value:function(e){var a=this;be("pricing/"+e+"/").then((function(e){delete e.data.type,a.setState({created_at:e.data.created_at?(new Intl.DateTimeFormat).format(new Date(e.data.created_at)):"",updated_at:e.data.updated_at?(new Intl.DateTimeFormat).format(new Date(e.data.updated_at)):"",image:e.data.media?e.data.media.original_file_name:null}),a.props.setTitle(e.data.name),a.setState({price:e.data})}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.price;n[a]=e,this.setState({price:n}),fe("pricing/"+this.state.price.id+"/",this.state.price).then((function(e){t.setState({price:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalShow",value:function(e,a){var t=e.target.value;"status"===a&&(t=parseInt(t),this.setState({is_active:1===t?0:1})),this.setState({action:a}),this.setState({showModal:!0})}},{key:"handleModalClose",value:function(){this.setState({showModal:!1})}},{key:"confirm",value:function(){var e=this;"status"===this.state.action&&(this.state.price.is_active=this.state.is_active,fe("pricing/"+this.state.price.id+"/",this.state.price).then((function(a){delete a.data.type,e.setState({price:a.data}),e.setState({showModal:!1})})).catch((function(a){e.props.sendError(a.response.data),e.setState({showModal:!1})})))}},{key:"render",value:function(){var e=this.state,a=(e.validated,e.price);return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Name"),r.a.createElement("div",null,a.name?a.name:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Price"),r.a.createElement("div",null,a.price?a.price:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-12 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Description"),r.a.createElement("div",null,a.description?a.description:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Created"),r.a.createElement("div",null,this.state.created_at?this.state.created_at:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Date Modified"),r.a.createElement("div",null,this.state.updated_at?this.state.updated_at:"---"))))),r.a.createElement(ut.a,{item:!0,xs:12,md:3},r.a.createElement("img",{style:{maxHeight:"220px",maxWidth:"200px"},src:this.state.image?oe+this.state.image:oe+"dummy_image.svg"}))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:this.confirm},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:this.handleModalClose},"No"))))}}]),a}(r.a.Component),dv=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).setMainTitle=function(e){t.setState({title:e})};var n=e.match.params.type;return t.state={errors:{},showError:!1,title:"Pricing"},t.state.type=n,t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.title,jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/pricing",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/pricing/"+this.props.match.params.price_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(mv,{data:this.props,sendError:this.sendError,setTitle:this.setMainTitle}))))))}}]),a}(r.a.Component),uv=Object(B.o)(dv),pv=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),hv={success:fa.a,warning:va.a,error:ga.a,info:_a.a},Ev=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function bv(e){var a=Ev(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=hv[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var fv=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),vv=function(e){var a=fv(),t=e.exportSpinner,n=e.setExpSpin,l=e.csvData,c=e.setCsvData,s=e.numSelected,i=e.type,o=e.selected,m=e.setSelected,d=e.setSelectedMany,u=e.setRowsData,p=e.rows,h=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,s>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand fa fa-ticket-alt"})),s>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},s," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"Part Assets")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},s>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(o.length){var a={ids:o};ge("parts/"+o[0]+"/",a).then((function(e){for(var a in p)o.indexOf(p[a].id)>-1&&delete p[a];u(p),o.length=0,m(o),d(!1);var t=[];t.push(1),h(t),yv(i)}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/part/asset/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:pv,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){n(""),be("parts",{records:"all"}).then((function(e){var a=["condition","release","owner","seller","primary_contact"];n("d-none");var t=e.data.map((function(e,t){return a.map((function(a){e[a]=e[a]?e[a].name:e[a]})),e.primary_contact=e.primary_contact?e.primary_contact.first_name+" "+e.primary_contact.last_name:e.primary_contact,e}));c(t),document.getElementById("parts-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+t})),r.a.createElement(Ha.CSVLink,{data:l,filename:"parts.csv",className:"d-none",id:"parts-csv-btn",target:"_blank"})))))))))))},gv=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),_v=t(36);function yv(e){_v("#part").DataTable().ajax.reload(null,!1)}_v.DataTable=t(40);var kv=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function Nv(e){var a=gv(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState([]),te=Object(H.a)(ae,2),ne=te[0],re=te[1],le=r.a.useState("d-none"),ce=Object(H.a)(le,2),se=ce[0],oe=ce[1],me=r.a.useState(!1),de=Object(H.a)(me,2),ue=de[0],pe=de[1],he=r.a.useState({create:Ee("add_abparts"),edit:Ee("change_abparts"),delete:Ee("delete_abparts"),view:Ee("view_abparts")}),be=Object(H.a)(he,2),ve=be[0],_e=(be[1],Object(B.k)()),ye=e.match.params.type;function ke(e){S(!1)}function Ne(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){_v.fn.dataTable.isDataTable("#part")&&(_v("#part").DataTable().destroy(),pe(!0));return function(){y([]),_v("#part").DataTable().destroy(!0),pe(!0)}}),[]),r.a.useEffect((function(){if(ue&&_v.fn.dataTable.isDataTable("#part"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{pe(!0);try{!function(){var a=ie+"parts?format=datatables",t=[{bVisible:!1,aTargets:[1]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:we(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),_v("#part").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:we(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){var s=t.title,i=t.id+"-"+s.replace(/\s+/g,"-").toLowerCase();c.a.render(r.a.createElement("a",{target:"_blank",style:{cursor:"pointer"},href:"/parts/"+i+"/"},a),e)}},{targets:4,title:"Created",createdCell:function(e,a,t,n,r){c.a.render(Va(new Date(a),"MMM DD, YYYY"),e)}},{targets:5,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return Ne(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(ve.create||ve.edit)&&t.push({targets:6,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:kv}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},ve.view?r.a.createElement(Ve.a.Item,{onClick:function(){return _e.push("/admin/part/asset/"+t.id)}},r.a.createElement("i",{className:"flaticon-eye"})," Views Details"):"",ve.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return _e.push("/admin/part/asset/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",ve.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return Ne(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});_v("#part").DataTable({responsive:{details:{renderer:_v.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("parts",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n         <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[5,"desc"]],columnDefs:t}),_v("#part").on("page.dt",(function(){Pa(_v("#part"),"parts",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var Ce=function(e,a){K(!1)},we=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(vv,{exportSpinner:se,setExpSpin:oe,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,type:ye,csvData:ne,setCsvData:re}),r.a.createElement("div",{className:"kt-portlet__body"},ve.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile col-xs-12"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){_v("#part").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",ve.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"part"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),yv()},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"title"},"Title"),r.a.createElement("th",{"data-data":"part_number"},"Part No."),r.a.createElement("th",{"data-data":"created_at"},"Created"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:ke},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("parts/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),yv(),K(!0);var t=1===e.data.is_active?"activated":"deactivated";$("Record successfully "+t)}))}else"delete"==R&&ge("parts/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),yv(),S(!1),K(!0),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:ke},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:16e5,onClose:Ce},r.a.createElement(bv,{onClose:Ce,variant:"success",message:Z})))}var Cv=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,r=n.part_id;n.type;return t.state={validated:!1,part:{},selectedFile:null,countries:[],contacts:[],companies:[],users:[],conditions:[],releases:[],selected_primary_contact:{value:""},selected_location:{value:""},selected_owner:{value:""},selected_seller:{value:""},selected_user:{value:""},selected_release:{value:""},selected_unit_measure:{value:""},selected_condition:{value:""},modelsLoaded:!0},t.getPart(r),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getPart",value:function(e){var a=this;be("parts/"+e+"/").then((function(e){a.setState({part:e.data}),a.loadModels()}))}},{key:"loadModels",value:function(){var e=this.state.part,a={unit_measure:Re},t=Object.keys(a);for(var n in t)for(var r in a[t[n]])if(a[t[n]][r].value===e[t[n]]){this.setState(Object(b.a)({},"selected_"+t[n],a[t[n]][r]));break}var l={AbUsers:["user"],AbContacts:["primary_contact"],AbCountries:["location"],AbReleases:["release"],AbConditions:["condition"],AbCompanies:["owner","seller"]};ve("abmodels",{models:{AbUsers:{},AbContacts:{},AbConditions:{},AbReleases:{},AbCountries:{},AbCompanies:{}}}).then(function(a){var t={},n=function(n){a.data[n].map((function(r,c){"AbContacts"!==n&&"AbUsers"!==n||(r.name=r.first_name+" "+r.last_name),"AbUsers"===n&&(r.id=r.user_id),a.data[n][c].label=r.name,a.data[n][c].value=r.id,Object.keys(l).map((function(a,c){l[a].map((function(l,c){n===a&&null!==e[l]&&void 0!==e[l].id&&e[l].id===r.id&&(t["selected_"+l]=r)}))}))}))};for(var r in a.data)n(r);t.users=a.data.AbUsers,t.contacts=a.data.AbContacts,t.countries=a.data.AbCountries,t.conditions=a.data.AbConditions,t.releases=a.data.AbReleases,t.companies=a.data.AbCompanies,t.modelsLoaded=!0,this.setState(t)}.bind(this))}},{key:"handleChange",value:function(e){var a=this.state.part,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({part:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),this.checkDataFormat(),this.state.selectedFile||delete this.state.part.file,fe("parts/"+this.state.part.id+"/",this.state.part).then((function(e){a.setState({part:e.data}),a.props.data.history.push("save_new"==a.state.action?"/admin/part/asset/create":"/admin/part/asset")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"getDropdownsListing",value:function(){var e=this,a=this.state.part,t={primary_contact:"contacts",location:"countries",owner:"companies",user:"users",condition:"conditions",release:"releases"},n={companies:["seller"]},r={unit_measure:Re},l=Object.keys(r);for(var c in l)for(var s in r[l[c]])if(r[l[c]][s].value===a[l[c]]){this.setState(Object(b.a)({},"selected_"+l[c],r[l[c]][s]));break}l=Object.keys(t);var i=function(r){be(t[l[r]],{records:"all",is_active:1}).then(function(e){var c,s=e.data,i={};for(var o in s)if("contacts"===t[l[r]]?s[o].name=s[o].first_name+" "+s[o].last_name:"users"===t[l[r]]&&(s[o].name=s[o].contact.first_name+" "+s[o].contact.last_name),s[o].label=s[o].name,s[o].value=s[o].id,void 0!=a[l[r]]&&s[o].id===a[l[r]].id&&(i=s[o]),void 0!=n[t[l[r]]])for(var m in n[t[l[r]]]){var d=n[t[l[r]]][m];void 0!=a[d]&&s[o].id===a[d].id&&this.setState(Object(b.a)({},"selected_"+d,s[o]))}this.setState((c={},Object(b.a)(c,t[l[r]],s),Object(b.a)(c,"selected_"+l[r],i),Object(b.a)(c,"part",a),c))}.bind(e))};for(var o in l)i(o)}},{key:"checkDataFormat",value:function(){var e=this,a=this.state.part;["user","condition","release","owner","seller","primary_contact","location"].map((function(t,n){a[t]=e.state["selected_"+t].value})),this.setState({part:a})}},{key:"selectChange",value:function(e,a){var t,n=this.state.part;n[a]=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,"selected_"+a,e||""),Object(b.a)(t,"part",n),t))}},{key:"setTab",value:function(e,a){document.getElementById("part-tabs-tab-"+a).click()}},{key:"render",value:function(){var e=this,a=this.state,t=a.modelsLoaded,n=(a.validated,a.part),l=(a.selectedFile,a.selected_location),c=a.countries,s=a.selected_primary_contact,i=a.contacts,o=a.selected_owner,m=a.companies,d=a.selected_seller,u=a.selected_user,p=a.users,h=a.conditions,E=a.selected_condition,b=a.releases,f=a.selected_release,v=a.selected_unit_measure;return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"User *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"user",isClearable:!0,escapeClearsValue:!0,value:u.value?u:"select...",name:"name",loadOptions:function(e,a){return Pe(e,a,p,t)},onChange:function(a){return e.selectChange(a,"user")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Part Number *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"part",name:"part_number",defaultValue:n?n.part_number:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Alternate Part Number"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"part",name:"alternate_part_number",defaultValue:n?n.alternate_part_number:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Condition *"),r.a.createElement(nn.a,{value:E.value?E:"select...",model:"condition",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"condition")},options:h})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Release"),r.a.createElement(nn.a,{value:f.value?f:"select...",model:"release",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"release")},options:b})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Quantity *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"part",name:"quantity",defaultValue:n?n.quantity:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Primary Contact *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"primary_contact",isClearable:!0,escapeClearsValue:!0,value:s.value?s:"select...",name:"name",loadOptions:function(e,a){return Pe(e,a,i,t)},onChange:function(a){return e.selectChange(a,"primary_contact")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Location"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"location",isClearable:!0,escapeClearsValue:!0,value:l.value?l:"select...",name:"name",loadOptions:function(e,a){return Pe(e,a,c,t)},onChange:function(a){return e.selectChange(a,"location")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Unit Measure"),r.a.createElement(nn.a,{value:v.value?v:"select...",model:"part",name:"unit_measure",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"unit_measure")},options:Re})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Price"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"part",name:"price",defaultValue:n?n.price:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Owner"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"owner",isClearable:!0,escapeClearsValue:!0,value:o,name:"name",loadOptions:function(e,a){return Pe(e,a,m,t)},onChange:function(a){return e.selectChange(a,"owner")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Seller"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"seller",isClearable:!0,escapeClearsValue:!0,value:d.value?d:"select...",name:"name",loadOptions:function(e,a){return Pe(e,a,m,t)},onChange:function(a){return e.selectChange(a,"seller")}}))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/part/asset",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),wv=function(e){function a(e){var t;Object(Qa.a)(this,a),t=Object($a.a)(this,Object(et.a)(a).call(this,e));var n=e.match.params.type;return t.state={errors:{},showError:!1},t.state.type=n,t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Part",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/part/asset",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Cv,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Ov=Object(B.o)(wv),Sv=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).clearForm=function(e){t.props.data.history.replace("/admin/part/asset"),t.props.data.history.replace("/admin/part/asset/create")},t.state={validated:!1,part:{},selectedFile:null,countries:[],contacts:[],companies:[],users:[],conditions:[],releases:[],selected_primary_contact:{label:"Select..",value:""},selected_owner:{label:"Select..",value:""},selected_seller:{label:"Select..",value:""},selected_user:{label:"Select..",value:""},selected_release:{label:"Select..",value:""},selected_unit_measure:{label:"Select..",value:""},selected_condition:{label:"Select..",value:""},modelsLoaded:!1},t.loadModels(),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"handleChange",value:function(e){var a=this.state.part,t=e.target.name,n=e.target.value;"is_active"===t&&(n=parseInt(n)),a[t]=n,this.setState({part:a})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),this.state.selectedFile||delete this.state.part.file,ve("parts",this.state.part).then((function(e){a.setState({part:e.data}),"save_new"==a.state.action?a.clearForm("parts-form"):a.props.data.history.push("/admin/part/asset")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"loadModels",value:function(){ve("abmodels",{models:{AbUsers:{},AbContacts:{},AbConditions:{},AbReleases:{},AbCountries:{},AbCompanies:{}}}).then(function(e){var a=function(a){e.data[a].map((function(t,n){"AbContacts"!==a&&"AbUsers"!==a||(t.name=t.first_name+" "+t.last_name),"AbUsers"===a&&(t.id=t.user_id),e.data[a][n].label=t.name,e.data[a][n].value=t.id}))};for(var t in e.data)a(t);this.setState({users:e.data.AbUsers,contacts:e.data.AbContacts,conditions:e.data.AbConditions,releases:e.data.AbReleases,countries:e.data.AbCountries,companies:e.data.AbCompanies,modelsLoaded:!0})}.bind(this))}},{key:"getDropdownsListing",value:function(){var e=this,a={primary_contact:"contacts",location:"countries",owner:"companies",user:"users",condition:"conditions",release:"releases"},t={companies:["seller"]},n=Object.keys(a),r=function(r){be(a[n[r]],{records:"all",is_active:1}).then(function(e){var l,c=e.data,s={};for(var i in c)if("contacts"===a[n[r]]?c[i].name=c[i].first_name+" "+c[i].last_name:"users"===a[n[r]]&&(c[i].name=c[i].contact.first_name+" "+c[i].contact.last_name),c[i].label=c[i].name,c[i].value=c[i].id,void 0!=this.state.part[n[r]]&&c[i].id===this.state.part[n[r]].id&&(s=c[i]),void 0!=t[a[n[r]]])for(var o in t[a[n[r]]]){var m=t[a[n[r]]][o];void 0!=this.state.part[m]&&c[i].id===this.state.part[m].id&&this.setState(Object(b.a)({},"selected_"+m,s))}console.log(s),this.setState((l={},Object(b.a)(l,a[n[r]],c),Object(b.a)(l,"selected_"+n[r],s),l))}.bind(e))};for(var l in n)r(l)}},{key:"selectChange",value:function(e,a){var t,n=this.state.part;n[a]=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,"selected_"+a,e||""),Object(b.a)(t,"part",n),t))}},{key:"setTab",value:function(e,a){document.getElementById("part-tabs-tab-"+a).click()}},{key:"render",value:function(){var e=this,a=this.state,t=a.modelsLoaded,n=(a.validated,a.part),l=(a.selectedFile,a.selected_location),c=a.countries,s=a.selected_primary_contact,i=a.contacts,o=a.selected_owner,m=a.companies,d=a.selected_seller,u=a.selected_user,p=a.users,h=a.conditions,E=a.selected_condition,b=a.releases,f=a.selected_release,v=a.selected_unit_measure;return r.a.createElement(mt.a,{noValidate:!0,id:"parts-form",onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"User *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"user",isClearable:!0,escapeClearsValue:!0,value:u,name:"name",loadOptions:function(e,a){return Pe(e,a,p,t)},onChange:function(a){return e.selectChange(a,"user")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Part Number *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"part",name:"part_number",defaultValue:n?n.part_number:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Alternate Part Number"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"part",name:"alternate_part_number",defaultValue:n?n.alternate_part_number:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Condition *"),r.a.createElement(nn.a,{value:E,model:"condition",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"condition")},options:h})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Release"),r.a.createElement(nn.a,{value:f,model:"release",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"release")},options:b})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Quantity *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"part",name:"quantity",defaultValue:n?n.quantity:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Primary Contact *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"primary_contact",isClearable:!0,escapeClearsValue:!0,value:s,name:"name",loadOptions:function(e,a){return Pe(e,a,i,t)},onChange:function(a){return e.selectChange(a,"primary_contact")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Location"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"location",isClearable:!0,escapeClearsValue:!0,value:l,name:"name",loadOptions:function(e,a){return Pe(e,a,c,t)},onChange:function(a){return e.selectChange(a,"location")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Unit Measure"),r.a.createElement(nn.a,{value:v,model:"part",name:"unit_measure",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"unit_measure")},options:Re})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Price"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"part",name:"price",defaultValue:n?n.price:"",onChange:function(a){return e.handleChange(a)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Owner"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"owner",isClearable:!0,escapeClearsValue:!0,value:o,name:"name",loadOptions:function(e,a){return Pe(e,a,m,t)},onChange:function(a){return e.selectChange(a,"owner")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Seller"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"seller",isClearable:!0,escapeClearsValue:!0,value:d,name:"name",loadOptions:function(e,a){return Pe(e,a,m,t)},onChange:function(a){return e.selectChange(a,"seller")}}))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/part/asset",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),jv=function(e){function a(e){var t;Object(Qa.a)(this,a),t=Object($a.a)(this,Object(et.a)(a).call(this,e));var n=e.match.params.type;return t.state={errors:{},showError:!1},t.state.type=n,t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Part",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/part/asset",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Sv,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Tv=Object(B.o)(jv),xv=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,r=n.part_id,l=n.type;return t.txt_weight={fontWeight:500},t.handleModalShow=t.handleModalShow.bind(Object(at.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.confirm=t.confirm.bind(Object(at.a)(t)),t.state={type:l,part:{},action:"",showModal:!1,created_at:"",updated_at:"",is_published:""},t.getPart(r),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getPart",value:function(e){var a=this;be("parts/"+e+"/").then((function(e){delete e.data.type,a.setState({created_at:(new Intl.DateTimeFormat).format(new Date(e.data.created_at)),updated_at:(new Intl.DateTimeFormat).format(new Date(e.data.updated_at))}),a.setState({part:e.data})}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.part;n[a]=e,this.setState({part:n}),fe("parts/"+this.state.part.id+"/",this.state.part).then((function(e){t.setState({part:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalShow",value:function(e,a){var t=e.target.value;"status"===a&&(t=parseInt(t),this.setState({is_published:1===t?0:1})),this.setState({action:a}),this.setState({showModal:!0})}},{key:"handleModalClose",value:function(){this.setState({showModal:!1})}},{key:"confirm",value:function(){var e=this;"status"===this.state.action&&(this.state.part.is_published=this.state.is_published,fe("parts/"+this.state.part.id+"/",{is_published:this.state.is_published}).then((function(a){delete a.data.type,e.setState({part:a.data}),e.setState({showModal:!1})})).catch((function(a){e.props.sendError(a.response.data),e.setState({showModal:!1})})))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.validated,a.part),n=t.user?t.user.contact?t.user.contact.first_name+" "+t.user.contact.last_name:t.user.email:"";return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"User"),r.a.createElement("div",null,t.user?r.a.createElement(P.Link,{target:"_blank",to:"/contact/"+t.user.id+"/"},n):"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Part Number"),r.a.createElement("div",null,t.part_number?t.part_number:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Alternate Part Number"),r.a.createElement("div",null,t.alternate_part_number?t.alternate_part_number:"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Condition"),r.a.createElement("div",null,t.condition?t.condition.name:""))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Release"),r.a.createElement("div",null,t.release?t.release.name:"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Quantity"),r.a.createElement("div",null,t.quantity?t.quantity:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Primary Contact"),r.a.createElement("div",null,t.primary_contact?t.primary_contact.first_name+" "+t.primary_contact.last_name:"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Location"),r.a.createElement("div",null,t.location?t.location.name:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Unit Measure"),r.a.createElement("div",null,t.unit_measure?t.unit_measure:"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Price"),r.a.createElement("div",null,t.price?t.price:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Owner"),r.a.createElement("div",null,t.owner?t.owner.name:"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Seller"),r.a.createElement("div",null,t.seller?t.seller.name:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Status"),r.a.createElement("div",null,r.a.createElement("span",{onClick:function(a){return e.handleModalShow(a,"status")},className:1===this.state.part.is_published?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===t.is_published?"defaultChecked":"",value:1===t.is_published?"1":"0",name:"is_published"}),r.a.createElement("span",null))))))))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:this.confirm},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:this.handleModalClose},"No"))))}}]),a}(r.a.Component),Mv=function(e){function a(e){var t;Object(Qa.a)(this,a),t=Object($a.a)(this,Object(et.a)(a).call(this,e));var n=e.match.params.type;return t.state={errors:{},showError:!1},t.state.type=n,t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Part",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/part/asset",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/part/asset/"+this.props.match.params.part_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(xv,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Dv=Object(B.o)(Mv),Av=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),Rv={success:fa.a,warning:va.a,error:ga.a,info:_a.a},Lv=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function Iv(e){var a=Lv(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=Rv[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var Fv=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),Uv=function(e){var a=Fv(),t=e.exportSpinner,n=e.setExpSpin,l=e.csvData,c=e.setCsvData,s=e.numSelected,i=e.type,o=e.selected,m=e.setSelected,d=e.setSelectedMany,u=e.setRowsData,p=e.rows,h=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,s>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand fa fa-ticket-alt"})),s>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},s," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"Wanted Assets")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},s>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(o.length){var a={ids:o};ge("wanteds/"+o[0]+"/",a).then((function(e){for(var a in p)o.indexOf(p[a].id)>-1&&delete p[a];u(p),o.length=0,m(o),d(!1);var t=[];t.push(1),h(t),zv(i)}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/wanted/asset/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record"),r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:Av,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){n(""),be("wanteds",{records:"all"}).then((function(e){var a=["user","type_0","model","manufacturer","primary_contact"];n("d-none");var t=e.data.map((function(e,t){return a.map((function(a){e[a]=e[a]?e[a].name:e[a]})),e.primary_contact=e.primary_contact?e.primary_contact.first_name+" "+e.primary_contact.last_name:e.primary_contact,e}));c(t),document.getElementById("wanted-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+t})),r.a.createElement(Ha.CSVLink,{data:l,filename:"wanteds.csv",className:"d-none",id:"wanted-csv-btn",target:"_blank"})))))))))))},Gv=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),Pv=t(36);function zv(e){Pv("#wanted").DataTable().ajax.reload(null,!1)}Pv.DataTable=t(40);var Vv=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function Hv(e){var a=Gv(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState([]),te=Object(H.a)(ae,2),ne=te[0],re=te[1],le=r.a.useState(!1),ce=Object(H.a)(le,2),se=ce[0],oe=ce[1],me=r.a.useState("d-none"),de=Object(H.a)(me,2),ue=de[0],pe=de[1],he=r.a.useState({create:Ee("add_abwanteds"),edit:Ee("change_abwanteds"),delete:Ee("delete_abwanteds"),view:Ee("view_abwanteds")}),be=Object(H.a)(he,2),_e=be[0],ye=(be[1],Object(B.k)()),ke=e.match.params.type;function Ne(e){S(!1)}function Ce(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){Pv.fn.dataTable.isDataTable("#wanted")&&(Pv("#wanted").DataTable().destroy(),oe(!0));return function(){y([]),Pv("#wanted").DataTable().destroy(!0),oe(!0)}}),[]),r.a.useEffect((function(){if(se&&Pv.fn.dataTable.isDataTable("#wanted"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{oe(!0);try{!function(){var a=ie+"wanteds?format=datatables",t=[{bVisible:!1,aTargets:[1]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:Oe(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),Pv("#wanted").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:Oe(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){var s=t.title,i=t.id+"-"+s.replace(/\s+/g,"-").toLowerCase();c.a.render(r.a.createElement("a",{target:"_blank",style:{cursor:"pointer"},href:"/wanted/"+i+"/"},a),e)}},{targets:4,orderable:!0,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return Ce(e,n,"is_featured")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}},{targets:5,title:"Created",createdCell:function(e,a,t,n,r){c.a.render(Va(new Date(a),"MMM DD, YYYY"),e)}},{targets:6,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return Ce(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(_e.create||_e.edit)&&t.push({targets:7,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:Vv}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},_e.view?r.a.createElement(Ve.a.Item,{onClick:function(){return ye.push("/admin/wanted/asset/"+t.id)}},r.a.createElement("i",{className:"flaticon-eye"})," Views Details"):"",_e.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return ye.push("/admin/wanted/asset/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",_e.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return Ce(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});Pv("#wanted").DataTable({responsive:{details:{renderer:Pv.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("wanteds",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n         <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[6,"desc"]],columnDefs:t}),Pv("#wanted").on("page.dt",(function(){Pa(Pv("#wanted"),"wanteds",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var we=function(e,a){K(!1)},Oe=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(Uv,{exportSpinner:ue,setExpSpin:pe,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,type:ke,csvData:ne,setCsvData:re}),r.a.createElement("div",{className:"kt-portlet__body"},_e.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile col-xs-12"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){Pv("#wanted").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))),r.a.createElement("div",{className:"col-md-4 col-xs-12 kt-margin-b-20-tablet-and-mobile"},r.a.createElement(nn.a,{defaultValue:"",placeholder:"Promote...",name:"promote_",onChange:function(e){Pv("#wanted").DataTable().columns(4).search(e.value).draw()},options:[{value:1,label:"Active"},{value:0,label:"Inactive"}]})))))):"",_e.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"wanted"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),zv()},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"title"},"Title"),r.a.createElement("th",{"data-data":"type"},"Asset"),r.a.createElement("th",{"data-data":"is_featured"},"Promote"),r.a.createElement("th",{"data-data":"created_at"},"Created"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:Ne},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("wanteds/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),zv(),K(!0);var t=1===e.data.is_active?"activated":"deactivated";$("Record successfully "+t)}))}else if("delete"==R)ge("wanteds/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),zv(),K(!0),$("Record successfully deleted")}));else if("is_featured"===R){a={is_featured:1===_[x].is_featured?0:1};ve("wanteds/"+_[x].id+"/promote/",a).then((function(e){_[x]=e.data,y(_),S(!1),zv(),K(!0),$(e.data.message)}))}}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:Ne},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:16e5,onClose:we},r.a.createElement(Iv,{onClose:we,variant:"success",message:Z})))}var Bv=Object(Wi.a)({props:{MuiInput:{disableUnderline:!0},MuiTextField:{style:{display:"block"}},MuiInputBase:{style:{display:"block"},disableUnderline:!0,inputProps:{style:{display:"block",height:"calc(1.5em + 1.3rem + 2px)",padding:"0.65rem 1rem",fontSize:"1rem",fontWeight:"400",lineHeight:"1.5",color:"#495057",backgroundColor:"#fff",backgroundClip:"padding-box",border:"1px solid #e2e5ec",borderRadius:"4px",transition:"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out",boxSizing:"border-box"}}}}}),qv=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,r=n.wanted_id;n.type;return t.state={validated:!1,wanted:{},selectedFile:null,manufacturer:[],countries:[],type_0:[],contacts:[],model:[],users:[],selected_primary_contact:{value:""},selected_type:{value:""},selected_type_0:{value:""},selected_manufacturer:{value:""},selected_country:{value:""},selected_model:{value:""},selected_user:{value:""},selected_terms:{value:""},yom:new Date,modelsLoaded:!1},t.getWanted(r),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getWanted",value:function(e){var a=this;be("wanteds/"+e+"/").then((function(e){a.setState({wanted:e.data,yom:le()(e.data.yom,"YYYY")}),a.loadModels(),a.setDynamicDropdowns(a.state.selected_type,"type",null),void 0!=e.data.manufacturer.id&&""!=e.data.manufacturer.id&&a.setDynamicDropdowns(a.state.selected_type,"manufacturer",e.data.manufacturer.id),void 0!=e.data.type_0.id&&""!=e.data.type_0.id&&a.setDynamicDropdowns(a.state.selected_type,"type_0",e.data.type_0.id)}))}},{key:"loadModels",value:function(){var e=this.state.wanted,a={type:Le};"aircraft"==this.state.wanted.type?a.terms=Ie:"engine"==this.state.wanted.type||"apu"==this.state.wanted.type?a.terms=Fe:"parts"==this.state.wanted.type&&(a.terms=Ue);var t=Object.keys(a);for(var n in t)for(var r in a[t[n]])if(a[t[n]][r].value===e[t[n]]){this.setState(Object(b.a)({},"selected_"+t[n],a[t[n]][r]));break}var l={AbUsers:{},AbContacts:{},AbCountries:{},AbManufacturers:{type:this.state.wanted.type}},c={AbUsers:["user"],AbContacts:["primary_contact"],AbCountries:["country"]};ve("abmodels",{models:l}).then(function(a){var t={},n=function(n){a.data[n].map((function(r,l){"AbContacts"!==n&&"AbUsers"!==n||(r.name=r.first_name+" "+r.last_name),"AbUsers"===n&&(r.id=r.user_id),a.data[n][l].label=r.name,a.data[n][l].value=r.id,Object.keys(c).map((function(a,l){c[a].map((function(l,c){n===a&&null!==e[l]&&void 0!==e[l].id&&e[l].id===r.id&&(t["selected_"+l]=r)}))}))}))};for(var r in a.data)n(r);t.users=a.data.AbUsers,t.contacts=a.data.AbContacts,t.countries=a.data.AbCountries,t.manufacturer=a.data.AbManufacturers,t.modelsLoaded=!0,this.setState(t)}.bind(this))}},{key:"handleChange",value:function(e,a){var t=this.state.wanted;if("wanted_by"!==a&&"yom"!==a)var n=e.target.name,r=e.target.value;else if("yom"==a){n=a,r=le()(e).format("YYYY");this.setState({yom:e})}else{n=a,r=le()(e).format("YYYY-MM-DD");this.setState({date:e})}"is_active"===n&&(r=parseInt(r)),t[n]=r,this.setState({wanted:t})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),this.checkDataFormat(),this.state.selectedFile||delete this.state.wanted.file,fe("wanteds/"+this.state.wanted.id+"/",this.state.wanted).then((function(e){a.setState({wanted:e.data}),a.props.data.history.push("save_new"==a.state.action?"/admin/wanted/asset/create":"/admin/wanted/asset")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"checkDataFormat",value:function(){var e=this,a=this.state.wanted;["user","primary_contact","country","manufacturer","type_0","model"].map((function(t,n){a[t]=e.state["selected_"+t].value})),this.setState({wanted:a})}},{key:"getDropdownsListing",value:function(){var e=this,a=this.state.wanted,t={primary_contact:"contacts",country:"countries",user:"users"},n={},r={type:Le};"aircraft"==this.state.wanted.type?r.terms=Ie:"engine"==this.state.wanted.type||"apu"==this.state.wanted.type?r.terms=Fe:"parts"==this.state.wanted.type&&(r.terms=Ue);var l=Object.keys(r);for(var c in l)for(var s in r[l[c]])if(r[l[c]][s].value===a[l[c]]){this.setState(Object(b.a)({},"selected_"+l[c],r[l[c]][s]));break}l=Object.keys(t);var i=function(r){be(t[l[r]],{records:"all"}).then(function(e){var c,s=e.data,i={};for(var o in s)if("contacts"===t[l[r]]?s[o].name=s[o].first_name+" "+s[o].last_name:"users"===t[l[r]]&&(s[o].name=s[o].contact.first_name+" "+s[o].contact.last_name),s[o].label=s[o].name,s[o].value=s[o].id,void 0!=a[l[r]]&&s[o].id===a[l[r]].id&&(i=s[o]),void 0!=n[t[l[r]]])for(var m in n[t[l[r]]]){var d=n[t[l[r]]][m];void 0!=a[d]&&s[o].id===a[d].id&&this.setState(Object(b.a)({},"selected_"+d,s[o]))}this.setState((c={},Object(b.a)(c,t[l[r]],s),Object(b.a)(c,"selected_"+l[r],i),Object(b.a)(c,"part",a),c))}.bind(e))};for(var o in l)i(o)}},{key:"selectChange",value:function(e,a){var t,n=this.state.wanted;n[a]=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,"selected_"+a,e||""),Object(b.a)(t,"wanted",n),t));var r=e||"";"type"!==a&&(r=this.state.selected_type),this.setDynamicDropdowns(r,a,e?e.id:"")}},{key:"setDynamicDropdowns",value:function(e,a,t){if(["manufacturer","type","type_0"].indexOf(a)>-1&&""!==e&&""!==t&&["aircraft","engine","apu"].indexOf(e.value)>-1){var n="",r={};"manufacturer"===a?(r={AbTypes:{manufacturer_id:t,type:e.value}},n="type_0"):"type_0"===a?(r={AbModels:{type_0:t,type:e.value}},n="model"):"type"===a&&(r={AbManufacturers:{type:e.value}},n="manufacturer"),ve("abmodels",{models:r}).then(function(e){var a=this,t={},r=function(r){var l;e.data[r].map((function(a,n){e.data[r][n].label=a.name,e.data[r][n].value=a.id,t=a})),a.setState((l={},Object(b.a)(l,n,e.data[r]),Object(b.a)(l,"selected_"+n,t),l))};for(var l in e.data)r(l)}.bind(this))}}},{key:"render",value:function(){var e=this,a=this.state,t=a.modelsLoaded,n=a.date,l=a.wanted,c=a.selected_manufacturer,s=a.manufacturer,i=a.selected_country,o=a.countries,m=a.selected_type,d=a.type_0,u=a.selected_type_0,p=a.selected_primary_contact,h=a.contacts,E=a.model,b=a.selected_model,f=a.selected_user,v=(a.users,a.selected_terms),g=a.yom;return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Wanted Asset *"),r.a.createElement(nn.a,{value:m.value?m:"select...",model:"type",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"type")},options:Le})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"User *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"user",isClearable:!0,escapeClearsValue:!0,value:f.value?f:"select...",name:"name",loadOptions:function(a,n){return Pe(a,n,e.state.users,t)},onChange:function(a){return e.selectChange(a,"user")}})),"parts"!==m.value&&""!==m.value?r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,m.label," Manfacturer ","aircraft"===m.value?"*":""),r.a.createElement(nn.a,{value:c.value?c:"select...",model:"manufacturer",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"manufacturer")},options:s})):"","parts"!==m.value&&""!==m.value?r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,m.label," Type ","aircraft"===m.value||"apu"===m.value?"*":""),r.a.createElement(nn.a,{value:u.value?u:"select...",model:"type_0",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"type_0")},options:d})):"","parts"!==m.value&&""!==m.value?r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,m.label," Model"),r.a.createElement(nn.a,{value:b.value?b:"select...",model:"model",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"model")},options:E})):"","aircraft"===m.value?r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"YOM"),r.a.createElement(Yi.a,{theme:Bv},r.a.createElement(Bi.a,{utils:Hi.a},r.a.createElement(qi.a,{views:["year"],minDate:new Date("1990"),name:"yom",value:g,onChange:function(a){return e.handleChange(a,"yom")}})))):"","parts"===m.value||"apu"===m.value?r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Part Number *"),r.a.createElement(mt.a.Control,{required:!0,type:"text",placeholder:"",model:"wanted",name:"yom",defaultValue:l?l.part_number:"",onChange:function(a){return e.handleChange(a)}})):"",r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Primary Contact *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"primary_contact",isClearable:!0,escapeClearsValue:!0,value:p.value?p:"select...",name:"name",loadOptions:function(e,a){return Pe(e,a,h,t)},onChange:function(a){return e.selectChange(a,"primary_contact")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Location *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"country",isClearable:!0,escapeClearsValue:!0,value:i.value?i:"select...",name:"name",loadOptions:function(e,a){return Pe(e,a,o,t)},onChange:function(a){return e.selectChange(a,"country")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Wanted By"),r.a.createElement(Yi.a,{theme:Bv},r.a.createElement(Bi.a,{utils:Hi.a},r.a.createElement(qi.a,{minDate:new Date("1990-01-01"),value:n,format:"dd/MM/yyyy",onChange:function(a){return e.handleChange(a,"wanted_by")},animateYearScrolling:!0})))),""!==m.value?r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Wanted Terms *"),r.a.createElement(nn.a,{value:v.value?v:"select...",model:"terms",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"terms")},options:"aircraft"===m.value?Ie:"parts"===m.value?Ue:"engine"===m.value||"apu"===m.value?Fe:[]})):"",r.a.createElement(mt.a.Group,{as:dt.a,xs:"12"},r.a.createElement(mt.a.Label,null,"Comments"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"5",required:!0,type:"text",placeholder:"",model:"wanted",name:"comments",defaultValue:l?l.comments:"",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Update"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/wanted/asset",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Wv=function(e){function a(e){var t;Object(Qa.a)(this,a),t=Object($a.a)(this,Object(et.a)(a).call(this,e));var n=e.match.params.type;return t.state={errors:{},showError:!1},t.state.type=n,t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Wanted",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/wanted/asset",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(qv,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Yv=Object(B.o)(Wv),Jv=Object(Wi.a)({props:{MuiInput:{disableUnderline:!0},MuiTextField:{style:{display:"block"}},MuiInputBase:{style:{display:"block"},disableUnderline:!0,inputProps:{style:{display:"block",height:"calc(1.5em + 1.3rem + 2px)",padding:"0.65rem 1rem",fontSize:"1rem",fontWeight:"400",lineHeight:"1.5",color:"#495057",backgroundColor:"#fff",backgroundClip:"padding-box",border:"1px solid #e2e5ec",borderRadius:"4px",transition:"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out",boxSizing:"border-box"}}}}}),Kv=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).clearForm=function(e){t.props.data.history.replace("/admin/wanted/asset"),t.props.data.history.replace("/admin/wanted/asset/create")},t.state={validated:!1,wanted:{yom:new Date},selectedFile:null,manufacturer:[],countries:[],type_0:[],contacts:[],model:[],users:[],selected_primary_contact:{label:"Select..",value:""},selected_type:{label:"Select..",value:""},selected_type_0:{label:"Select..",value:""},selected_manufacturer:{label:"Select..",value:""},selected_country:{label:"Select..",value:""},selected_model:{label:"Select..",value:""},selected_user:{label:"Select..",value:""},selected_terms:{label:"Select..",value:""},yom:new Date,modelsLoaded:!1},t.loadModels(),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"handleChange",value:function(e,a){var t=this.state.wanted;if("date"!==a&&"yom"!==a)var n=e.target.name,r=e.target.value;else if("yom"==a){n=a,r=le()(e).format("YYYY");this.setState({yom:e})}else{n=a,r=le()(e).format("YYYY-MM-DD");this.setState({date:e})}"is_active"===n&&(r=parseInt(r)),t[n]=r,this.setState({wanted:t})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),this.state.selectedFile||delete this.state.wanted.file,ve("wanteds",this.state.wanted).then((function(e){a.setState({wanted:e.data,alert_status:"show"}),"save_new"==a.state.action?a.clearForm("wanted-form"):a.props.data.history.push("/admin/wanted/asset")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"loadModels",value:function(){ve("abmodels",{models:{AbUsers:{},AbContacts:{},AbCountries:{}}}).then(function(e){var a=function(a){e.data[a].map((function(t,n){"AbContacts"!==a&&"AbUsers"!==a||(t.name=t.first_name+" "+t.last_name),"AbUsers"===a&&(t.id=t.user_id),e.data[a][n].label=t.name,e.data[a][n].value=t.id}))};for(var t in e.data)a(t);this.setState({users:e.data.AbUsers,contacts:e.data.AbContacts,countries:e.data.AbCountries,modelsLoaded:!0})}.bind(this))}},{key:"getDropdownsListing",value:function(){var e=this,a={primary_contact:"contacts",country:"countries",user:"users"},t={},n=Object.keys(a),r=function(r){be(a[n[r]],{records:"all"}).then(function(e){var l,c=e.data,s={};for(var i in c)if("contacts"===a[n[r]]?c[i].name=c[i].first_name+" "+c[i].last_name:"users"===a[n[r]]&&(c[i].name=c[i].contact.first_name+" "+c[i].contact.last_name),c[i].label=c[i].name,c[i].value=c[i].id,void 0!=this.state.wanted[n[r]]&&c[i].id===this.state.wanted[n[r]].id&&(s=c[i]),void 0!=t[a[n[r]]])for(var o in t[a[n[r]]]){var m=t[a[n[r]]][o];void 0!=this.state.wanted[m]&&c[i].id===this.state.wanted[m].id&&this.setState(Object(b.a)({},"selected_"+m,s))}this.setState((l={},Object(b.a)(l,a[n[r]],c),Object(b.a)(l,"selected_"+n[r],s),l))}.bind(e))};for(var l in n)r(l)}},{key:"selectChange",value:function(e,a){var t,n=this.state.wanted;n[a]=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,"selected_"+a,e||""),Object(b.a)(t,"wanted",n),t));var r=e||"";if("type"!==a&&(r=this.state.selected_type),["manufacturer","type","type_0"].indexOf(a)>-1&&""!==r&&["aircraft","engine","apu"].indexOf(r.value)>-1){var l="",c={};"manufacturer"===a?(c={AbTypes:{manufacturer_id:e.id,type:r.value}},l="type_0"):"type_0"===a?(c={AbModels:{type_0:e.id,type:r.value}},l="model"):"type"===a&&(c={AbManufacturers:{type:r.value}},l="manufacturer"),ve("abmodels",{models:c}).then(function(e){var a=this,t={},n=function(n){var r;e.data[n].map((function(r,c){e.data[n][c].label=r.name,e.data[n][c].value=r.id,void 0!=a.state.wanted[l]&&r.id===a.state.wanted[l].id&&(t=r)})),a.setState((r={},Object(b.a)(r,l,e.data[n]),Object(b.a)(r,"selected_"+l,t),r))};for(var r in e.data)n(r)}.bind(this))}}},{key:"render",value:function(){var e=this,a=this.state,t=a.modelsLoaded,n=a.date,l=a.part_number,c=a.selected_manufacturer,s=a.manufacturer,i=a.selected_country,o=a.countries,m=a.selected_type,d=a.type_0,u=a.selected_type_0,p=a.selected_primary_contact,h=a.contacts,E=a.model,b=a.selected_model,f=a.selected_user,v=(a.users,a.selected_terms),g=a.yom;return r.a.createElement(mt.a,{noValidate:!0,id:"wanted-form",onSubmit:function(a){return e.handleSubmit(a)}},"show"===this.state.alert_status?r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"9",xs:"12"}),r.a.createElement(mt.a.Group,{as:dt.a,md:"3",xs:"12"},r.a.createElement(ud.a,{variant:"success"},"Successfully Created"))):"",r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Wanted Asset *"),r.a.createElement(nn.a,{value:m||"",model:"type",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"type")},options:Le})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"User *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"user",isClearable:!0,escapeClearsValue:!0,value:f,name:"name",loadOptions:function(a,n){return Pe(a,n,e.state.users,t)},onChange:function(a){return e.selectChange(a,"user")}})),m&&"parts"!==m.value&&""!==m.value?r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,m.label," Manfacturer ","aircraft"===m.value?"*":""),r.a.createElement(nn.a,{value:c||"",model:"manufacturer",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"manufacturer")},options:s})):"",m&&"parts"!==m.value&&""!==m.value?r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,m.label," Type ","aircraft"===m.value||"apu"===m.value?"*":""),r.a.createElement(nn.a,{value:u||"",model:"type_0",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"type_0")},options:d})):"",m&&"parts"!==m.value&&""!==m.value?r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,m.label," Model"),r.a.createElement(nn.a,{value:b||"",model:"model",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"model")},options:E})):"",m&&"aircraft"===m.value?r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"YOM"),r.a.createElement(Yi.a,{theme:Jv},r.a.createElement(Bi.a,{utils:Hi.a},r.a.createElement(qi.a,{views:["year"],minDate:new Date("1990"),name:"yom",value:g,onChange:function(a){return e.handleChange(a,"yom")}})))):"",m&&("parts"===m.value||"apu"===m.value)?r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Part Number *"),r.a.createElement(mt.a.Control,{required:!0,value:l||"",type:"text",placeholder:"",model:"wanted",name:"part_number",onChange:function(a){return e.handleChange(a)}})):"",r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Primary Contact *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"primary_contact",isClearable:!0,escapeClearsValue:!0,value:p,name:"name",loadOptions:function(e,a){return Pe(e,a,h,t)},onChange:function(a){return e.selectChange(a,"primary_contact")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Location *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,model:"country",isClearable:!0,escapeClearsValue:!0,value:i,name:"name",loadOptions:function(e,a){return Pe(e,a,o,t)},onChange:function(a){return e.selectChange(a,"country")}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Wanted By"),r.a.createElement(Yi.a,{theme:Jv},r.a.createElement(Bi.a,{utils:Hi.a},r.a.createElement(qi.a,{minDate:new Date,disablePast:!0,value:n,format:"dd/MM/yyyy",onChange:function(a){return e.handleChange(a,"date")},animateYearScrolling:!0})))),""!==m.value?r.a.createElement(mt.a.Group,{as:dt.a,md:"4",xs:"12"},r.a.createElement(mt.a.Label,null,"Wanted Terms *"),r.a.createElement(nn.a,{value:v||"",model:"terms",name:"name",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectChange(a,"terms")},options:"aircraft"===m.value?Ie:"parts"===m.value?Ue:"engine"===m.value||"apu"===m.value?Fe:[]})):"",r.a.createElement(mt.a.Group,{as:dt.a,xs:"12"},r.a.createElement(mt.a.Label,null,"Comments"),r.a.createElement(mt.a.Control,{as:"textarea",rows:"5",required:!0,type:"text",placeholder:"",model:"wanted",name:"comments",onChange:function(a){return e.handleChange(a)}}))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/wanted/asset",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Xv=function(e){function a(e){var t;Object(Qa.a)(this,a),t=Object($a.a)(this,Object(et.a)(a).call(this,e));var n=e.match.params.type;return t.state={errors:{},showError:!1},t.state.type=n,t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Wanted",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/wanted/asset",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Kv,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Qv=Object(B.o)(Xv),Zv=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,r=n.wanted_id,l=n.type;return t.txt_weight={fontWeight:500},t.handleModalShow=t.handleModalShow.bind(Object(at.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.confirm=t.confirm.bind(Object(at.a)(t)),t.state={type:l,wanted:{},action:"",showModal:!1,created_at:"",updated_at:"",is_published:""},t.getWanted(r),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getWanted",value:function(e){var a=this;be("wanteds/"+e+"/").then((function(e){delete e.data.type,a.setState({created_at:(new Intl.DateTimeFormat).format(new Date(e.data.created_at)),updated_at:(new Intl.DateTimeFormat).format(new Date(e.data.updated_at))}),a.setState({wanted:e.data})}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.wanted;n[a]=e,this.setState({wanted:n}),fe("wanteds/"+this.state.wanted.id+"/",this.state.wanted).then((function(e){t.setState({wanted:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalShow",value:function(e,a){var t=e.target.value;"status"===a&&(t=parseInt(t),this.setState({is_published:1===t?0:1})),this.setState({action:a}),this.setState({showModal:!0})}},{key:"handleModalClose",value:function(){this.setState({showModal:!1})}},{key:"confirm",value:function(){var e=this;"status"===this.state.action&&(this.state.wanted.is_published=this.state.is_published,fe("wanteds/"+this.state.wanted.id+"/",{is_published:this.state.is_published}).then((function(a){delete a.data.type,e.setState({wanted:a.data}),e.setState({showModal:!1})})).catch((function(a){e.props.sendError(a.response.data),e.setState({showModal:!1})})))}},{key:"render",value:function(){var e=this,a=this.state.wanted,t=a.user?a.user.contact?a.user.contact.first_name+" "+a.user.contact.last_name:a.user.email:"";return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Wanted Asset"),r.a.createElement("div",null,a.type_0?a.type_0.type:"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"User"),r.a.createElement("div",null,a.user?r.a.createElement(P.Link,{target:"_blank",to:"/contact/"+a.user.contact.id+"/"},t):"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Aircraft Manfacturer"),r.a.createElement("div",null,a.manufacturer?a.manufacturer.name:"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Aircraft Type"),r.a.createElement("div",null,a.type_0?a.type_0.name:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Aircraft Model"),r.a.createElement("div",null,a.model?a.model.name:"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"YOM"),r.a.createElement("div",null,a.yom?a.yom:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Primary Contact"),r.a.createElement("div",null,a.primary_contact?a.primary_contact.first_name+" "+a.primary_contact.last_name:"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Location"),r.a.createElement("div",null,a.country?a.country.name:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Wanted By"),r.a.createElement("div",null,a.wanted_by?a.wanted_by:"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Wanted Terms"),r.a.createElement("div",null,a.terms?a.terms:"-----"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Comments"),r.a.createElement("div",null,a.comments?a.comments:"-----")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Status"),r.a.createElement("div",null,r.a.createElement("span",{onClick:function(a){return e.handleModalShow(a,"status")},className:1===this.state.wanted.is_published?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a.is_published?"defaultChecked":"",value:1===a.is_published?"1":"0",name:"is_published"}),r.a.createElement("span",null))))))))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:this.confirm},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:this.handleModalClose},"No"))))}}]),a}(r.a.Component),$v=function(e){function a(e){var t;Object(Qa.a)(this,a),t=Object($a.a)(this,Object(et.a)(a).call(this,e));var n=e.match.params.type;return t.state={errors:{},showError:!1},t.state.type=n,t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return console.log(e),r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Wanted",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/wanted/asset",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/wanted/asset/"+this.props.match.params.wanted_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Zv,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),eg=Object(B.o)($v),ag=t(1295),tg=t(1360),ng=t(1361),rg=t(1362),lg=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))})),cg={success:fa.a,warning:va.a,error:ga.a,info:_a.a},sg=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function ig(e){var a=sg(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=cg[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var og=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),mg=function(e){var a=og(),t=e.exportSpinner,n=e.setExpSpin,l=e.csvData,c=e.setCsvData,s=e.numSelected,i=e.type,o=e.selected,m=e.setSelected,d=e.setSelectedMany,u=e.setRowsData,p=e.rows,h=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,s>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand fa fa-dollar-sign"})),s>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},s," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"Leads")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},s>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(o.length){var a={ids:o};ge("leads/"+o[0]+"/",a).then((function(e){for(var a in p)o.indexOf(p[a].id)>-1&&delete p[a];u(p),o.length=0,m(o),d(!1);var t=[];t.push(1),h(t),pg(i)}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(Ve.a,{className:"dropdown-inline",drop:"down",alignRight:!0},r.a.createElement(Ve.a.Toggle,{as:lg,id:"dropdown-toggle-quick-actions-subheader"}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-md dropdown-menu-right"},r.a.createElement("ul",{className:"kt-nav"},r.a.createElement("li",{className:"kt-nav__item"},r.a.createElement("a",{onClick:function(){n(""),be("leads",{records:"all"}).then((function(e){n("d-none");var a=e.data.map((function(e,a){return e.leadable&&("App\\Contact"===e.leadable_type?e.leadable=e.leadable.first_name+" "+e.leadable.last_name:e.leadable=e.leadable.title),e.creator&&e.creator.contact&&(e.creator=e.creator.contact.first_name+" "+e.creator.contact.last_name),e.user=e.user?e.user.name:e.user,e}));c(a),document.getElementById("leads-csv-btn").click()}))},className:"kt-nav__link"},r.a.createElement("i",{className:"kt-nav__link-icon la la-upload"}),r.a.createElement("span",{className:"kt-nav__link-text"},"Export"),r.a.createElement("div",{className:"spinner-grow "+t})),r.a.createElement(Ha.CSVLink,{data:l,filename:"leads.csv",className:"d-none",id:"leads-csv-btn",target:"_blank"})))))))))))},dg=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),ug=t(36);function pg(e){ug("#lead").DataTable().ajax.reload(null,!1)}ug.DataTable=t(40);var hg=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function Eg(e){var a=dg(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState([]),te=Object(H.a)(ae,2),ne=te[0],re=te[1],ce=r.a.useState(!1),se=Object(H.a)(ce,2),oe=se[0],me=se[1],de=r.a.useState("d-none"),ue=Object(H.a)(de,2),pe=ue[0],he=ue[1],be=r.a.useState({create:Ee("add_ableads"),edit:Ee("change_ableads"),delete:Ee("delete_ableads"),view:Ee("view_ableads")}),ve=Object(H.a)(be,2),_e=ve[0],ye=(ve[1],Object(B.k)(),e.match.params.type);function ke(e){S(!1)}function Ne(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){ug.fn.dataTable.isDataTable("#lead")&&(ug("#lead").DataTable().destroy(),me(!0));return function(){y([]),ug("#lead").DataTable().destroy(!0),me(!0)}}),[]),r.a.useEffect((function(){if(oe&&ug.fn.dataTable.isDataTable("#lead"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{me(!0);try{!function(){var a=ie+"leads?format=datatables",t=[{bVisible:!1,aTargets:[1,8]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:we(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),ug("#lead").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:we(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{style:{cursor:"pointer"},onClick:function(e){return Ne(e,n,"detail")}},a),e)}},{targets:3,createdCell:function(e,a,t,n,l){var s="#";t.creator&&t.creator.contact&&(s="/contact/"+t.creator.contact.id+"-"+a.replace(/ /g,"-")),c.a.render(r.a.createElement("a",{target:"_blank",href:s},a),e)}},{targets:4,createdCell:function(e,a,t,n,l){var s="#";t.creator&&t.creator.contact&&t.creator.contact.company&&(s="/company/"+t.creator.contact.company.id+"-"+a.replace(/ /g,"-")),c.a.render(r.a.createElement("a",{target:"_blank",href:s},a),e)}},{targets:5,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return Ne(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(_e.delete||_e.view)&&t.push({targets:7,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:hg}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},r.a.createElement(Ve.a.Item,{onClick:function(e){return Ne(e,n,"detail")}},r.a.createElement("i",{className:"flaticon-eye"})," View Details"),_e.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return Ne(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});ug("#lead").DataTable({responsive:{details:{renderer:ug.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("leads",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){a.leadable&&a.leadable.contact?e[t].leadable__contact__first_name=a.leadable.contact.first_name+" "+a.leadable.contact.last_name:e[t].leadable__contact__first_name="",a.leadable&&("App\\Contact"===a.leadable_type?e[t].leadable__contact__first_name=a.leadable.first_name+" "+a.leadable.last_name:e[t].leadable__contact__first_name=a.leadable.title),a.creator&&a.creator.contact?e[t].creator__contact__first_name=a.creator.contact.first_name+" "+a.creator.contact.last_name:e[t].creator__contact__first_name="",a.creator&&a.creator.contact&&a.creator.contact.company?e[t].creator__contact__company__name=a.creator.contact.company.name:e[t].creator__contact__company__name="",e[t].leadable__contact__last_name="",e[t].created_at=le()(a.created_at).format("DD/MM/YYYY"),e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n         <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[4,"desc"]],columnDefs:t}),ug("#lead").on("page.dt",(function(){Pa(ug("#lead"),"leads",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var Ce=function(e,a){K(!1)},we=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(mg,{exportSpinner:pe,setExpSpin:he,setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length,type:ye,csvData:ne,setCsvData:re}),r.a.createElement("div",{className:"kt-portlet__body"},_e.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){ug("#lead").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",_e.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"lead"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),pg()},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"leadable__contact__first_name"},"Lead Title"),r.a.createElement("th",{"data-data":"creator__contact__first_name"},"Sender"),r.a.createElement("th",{"data-data":"creator__contact__company__name"},"Receiver"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"created_at"},"Date"),r.a.createElement("th",{"data-data":"actions"},"Action"),r.a.createElement("th",{"data-data":"leadable__contact__last_name",className:"d-none"},"Action")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:ke},r.a.createElement(xa.a.Header,{closeButton:!0},"detail"!==R?r.a.createElement(xa.a.Title,null,"Confirm"):r.a.createElement(xa.a.Title,null,"Lead Details")),"detail"===R?r.a.createElement(xa.a.Body,null,console.log(_[x]),r.a.createElement(ut.a,{container:!0,spacing:2},r.a.createElement(ut.a,{item:!0,xs:12},r.a.createElement(ag.a,null,r.a.createElement(tg.a,null,r.a.createElement(ng.a,{primary:"Lead Title",secondary:_[x].leadable?"App\\Contact"===_[x].leadable_type?_[x].leadable.first_name+" "+_[x].leadable.last_name:_[x].leadable.title:""})),r.a.createElement(rg.a,null),r.a.createElement(tg.a,null,r.a.createElement(ng.a,{primary:"Sender",secondary:_[x].creator&&_[x].creator.contact?_[x].creator.contact.first_name+" "+_[x].creator.contact.last_name:""})),r.a.createElement(rg.a,null),r.a.createElement(tg.a,null,r.a.createElement(ng.a,{primary:"Receiver",secondary:_[x].creator&&_[x].creator.contact&&_[x].creator.contact.company?_[x].creator.contact.company.name:""})),r.a.createElement(rg.a,null),r.a.createElement(tg.a,null,r.a.createElement(ng.a,{primary:"Status",secondary:_[x]?_[x].lead_status:""})),r.a.createElement(rg.a,null),r.a.createElement(tg.a,null,r.a.createElement(ng.a,{primary:"Date",secondary:_[x]?le()(_[x].created_at).format("DD/MM/YYYY"):""})),r.a.createElement(rg.a,null),r.a.createElement(tg.a,null,r.a.createElement(ng.a,{primary:"Message",secondary:_[x]?_[x].message:""})))))):r.a.createElement(r.a.Fragment,null),"detail"!==R?r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("leads/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),pg(),K(!0);var t=1===e.data.is_active?"activated":"deactivated";$("Record successfully "+t)}))}else"delete"==R&&ge("leads/"+_[x].id+"/").then((function(e){var a=_.filter((function(e,a){return a!==x}));y(a),S(!1),pg(),K(!0),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:ke},"No")):r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"primary",onClick:ke},"Close"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:16e5,onClose:Ce},r.a.createElement(ig,{onClose:Ce,variant:"success",message:Z})))}r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("button",{ref:a,onClick:function(e){e.preventDefault(),t(e)},className:"btn kt-header__btn-primary"},"Actions",r.a.createElement(Ga,{className:"kt-svg-icon kt-svg-icon--sm"}))}));var bg={success:fa.a,warning:va.a,error:ga.a,info:_a.a},fg=Object($e.a)((function(e){return{success:{backgroundColor:Na.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ca.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function vg(e){var a=fg(),t=e.className,n=e.message,l=e.onClose,c=e.variant,s=Object(Ea.a)(e,["className","message","onClose","variant"]),i=bg[c];return r.a.createElement(wa.a,Object.assign({className:Object(Q.a)(a[c],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(Q.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(Oa.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(ya.a,{className:a.icon}))]},s))}var gg=Object($e.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),display:"block"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ba.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})),_g=function(e){var a=gg(),t=e.numSelected,n=e.selected,l=e.setSelected,c=e.setSelectedMany,s=e.setRowsData,i=e.rows,o=e.setTemp;return r.a.createElement(Sa.a,{className:Object(Q.a)(a.root,Object(b.a)({},a.highlight,t>0))},r.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},r.a.createElement("div",{className:"kt-portlet__head-label"},r.a.createElement("span",{className:"kt-portlet__head-icon"},r.a.createElement("i",{className:"kt-font-brand flaticon2-speaker"})),t>0?r.a.createElement(Ye.a,{color:"inherit",variant:"subtitle1"},t," selected"):r.a.createElement("h3",{className:"kt-portlet__head-title"},"Adverts")),r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},t>0?r.a.createElement(ja.a,{title:"Delete"},r.a.createElement(Oa.a,{onClick:function(e){return function(e){if(n.length){var a={ids:n};ge("advertisements/"+n[0]+"/",a).then((function(e){for(var a in i)n.indexOf(i[a].id)>-1&&delete i[a];s(i),n.length=0,l(n),c(!1);var t=[];t.push(1),o(t),Ng()}))}}()},"aria-label":"Delete"},r.a.createElement(ka.a,null))):r.a.createElement("div",{className:"btn-group"},r.a.createElement(P.Link,{to:"/admin/adverts/create",className:"btn btn-sm btn-brand btn-elevate btn-icon-sm new-record"},r.a.createElement("i",{className:"la la-plus"}),"New Record")))))))},yg=Object($e.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(1)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},close:{padding:e.spacing(.5)}}})),kg=t(36);function Ng(){kg("#adverts").DataTable().ajax.reload(null,!1)}kg.DataTable=t(40);var Cg=r.a.forwardRef((function(e,a){e.children;var t=e.onClick;return r.a.createElement("a",{ref:a,onClick:function(e){e.preventDefault(),t(e)},id:"kt_dashboard_daterangepicker",className:"btn btn-sm btn-clean btn-icon btn-icon-md"}," ",r.a.createElement("i",{className:"la la-ellipsis-h"}))}));function wg(e){var a=yg(),t=r.a.useState("asc"),n=Object(H.a)(t,2),l=(n[0],n[1],r.a.useState("calories")),s=Object(H.a)(l,2),i=(s[0],s[1],r.a.useState([])),o=Object(H.a)(i,2),m=o[0],d=o[1],u=r.a.useState(0),p=Object(H.a)(u,2),h=(p[0],p[1],r.a.useState(!1)),E=Object(H.a)(h,2),b=(E[0],E[1],r.a.useState(10)),f=Object(H.a)(b,2),v=(f[0],f[1],r.a.useState([])),g=Object(H.a)(v,2),_=g[0],y=g[1],k=r.a.useState(0),N=Object(H.a)(k,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(H.a)(C,2),O=w[0],S=w[1],j=r.a.useState(0),T=Object(H.a)(j,2),x=T[0],M=T[1],D=r.a.useState({}),A=Object(H.a)(D,2),R=A[0],L=A[1],I=r.a.useState([]),F=Object(H.a)(I,2),U=F[0],G=F[1],P=r.a.useState(!1),z=Object(H.a)(P,2),V=z[0],q=z[1],W=r.a.useState(!1),Y=Object(H.a)(W,2),J=Y[0],K=Y[1],X=r.a.useState("Changes applied successfully!"),Q=Object(H.a)(X,2),Z=Q[0],$=Q[1],ae=r.a.useState(!1),te=Object(H.a)(ae,2),ne=te[0],re=te[1],le=r.a.useState({create:Ee("add_abadvertisements"),edit:Ee("change_abadvertisements"),delete:Ee("delete_abadvertisements"),view:Ee("view_abadvertisements")}),ce=Object(H.a)(le,2),se=ce[0],oe=(ce[1],Object(B.k)());function me(e){S(!1)}function de(e,a,t){M(a),L(t),S(!0)}r.a.useEffect((function(){kg.fn.dataTable.isDataTable("#adverts")&&(kg("#adverts").DataTable().destroy(),re(!0));return function(){y([]);var e=kg("#adverts").DataTable();try{e.destroy(!0)}catch(a){console.log("ignore - dt destroy")}re(!0)}}),[]),r.a.useEffect((function(){if(ne&&kg.fn.dataTable.isDataTable("#adverts"))JSON.stringify(_)!==JSON.stringify(window.prevRows)&&(window.prevRows=_);else{re(!0);try{!function(){var a=ie+"advertisements?format=datatables",t=[{bVisible:!1,aTargets:[1]},{targets:0,width:"30px",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(wt.a,{checked:pe(t.id),onChange:function(a){return function e(a,t,n,l){var s=m.indexOf(t),i=m;-1===s?i.push(t):i.splice(s,1);d(i);var o=Object(ha.a)(U);o.push(1),G(o),kg("#adverts").DataTable().cell(n).render(c.a.render(r.a.createElement(wt.a,{checked:pe(t),onChange:function(a){return e(a,t,n,l)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(l)}}),n))}(0,t.id,e,n)},inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(n)}}),e)}},{targets:2,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("a",{onClick:function(){return oe.push("/admin/adverts/"+t.id)}},a),e)}},{targets:4,title:"Status",orderable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement("span",{onClick:function(e){return de(e,n,"status")},className:1===a?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a?"defaultChecked":"",name:"quick_panel_notifications_1"}),r.a.createElement("span",null))),e)}}];(se.create||se.edit)&&t.push({targets:5,title:"Actions",orderable:!1,searchable:!1,createdCell:function(e,a,t,n,l){c.a.render(r.a.createElement(Ve.a,{className:"kt-header__topbar-item",drop:"down",alignLeft:!0},r.a.createElement(Ve.a.Toggle,{as:Cg}),r.a.createElement(Ve.a.Menu,{className:"dropdown-menu-fit dropdown-menu-anim dropdown-menu-top-unround"},se.edit?r.a.createElement(Ve.a.Item,{onClick:function(){return oe.push("/admin/adverts/"+t.id+"/edit")}},r.a.createElement("i",{className:"flaticon2-edit"})," Edit Details"):"",se.delete?r.a.createElement(Ve.a.Item,{onClick:function(e){return de(e,n,"delete")}},r.a.createElement("i",{className:"flaticon2-trash"})," Remove"):"")),e)}});kg("#adverts").DataTable({responsive:{details:{renderer:kg.fn.dataTable.Responsive.renderer.listHiddenNodes()}},serverSide:!0,displayStart:za("advertisements",e),ajax:{url:a,method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(localStorage.getItem("persist:demo1-auth")).authToken.replace(/['"]+/g,"")},dataFilter:function(e){var a=JSON.parse(e),t=function(e){return Array.isArray(e)&&e.length>0&&e.forEach((function(a,t){a.user&&a.user.contact?e[t].user__contact__first_name=a.user.contact.id+"-"+a.user.contact.first_name+" "+a.user.contact.last_name:e[t].user__contact__first_name="",e[t].actions=e[t].checkbox=""})),e}(a.data);return y(t),a.data=t,JSON.stringify(a)}},dom:"<'row'<'col-sm-12'tr>>\n           <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>",lengthMenu:[5,10,25,50],pageLength:10,pagingType:"numbers",recordsTotal:_.recordsTotal,recordsFiltered:_.recordsFiltered,language:{lengthMenu:"Display _MENU_"},order:[[4,"desc"]],columnDefs:t}),kg("#adverts").on("page.dt",(function(){Pa(kg("#adverts"),"advertisements",e)}))}()}catch(a){console.log("ignore - dt destroy")}}}),[_]);var ue=function(e,a){K(!1)},pe=function(e){return-1!==m.indexOf(e)};return r.a.createElement("div",{className:a.root},r.a.createElement(We.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},r.a.createElement(_g,{setTemp:G,setRowsData:y,rows:_,setSelectedMany:q,setSelected:d,selected:m,numSelected:m.length}),r.a.createElement("div",{className:"kt-portlet__body"},se.view?r.a.createElement("div",{className:"kt-form kt-form--label-right kt-margin-t-20 kt-margin-b-10"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-xl-12 order-2 order-xl-1"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 kt-margin-b-20-tablet-and-mobile"},r.a.createElement("div",{className:"kt-input-icon kt-input-icon--left"},r.a.createElement("input",{onKeyUp:function(e){kg("#adverts").DataTable().search(e.target.value).draw()},type:"text",className:"form-control",placeholder:"Search...",id:"generalSearch"}),r.a.createElement("span",{className:"kt-input-icon__icon kt-input-icon__icon--left"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-search"}))))))))):"",se.view?r.a.createElement("div",{className:"kt-section"},r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:"adverts"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-data":"checkbox"},r.a.createElement(wt.a,{checked:V,onChange:function(e){if(e.target.checked){var a=m;_.map((function(e){return e.id})).forEach((function(e){a.push(e)})),d(a)}else m.length=0,d(m);q(!V),Ng()},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("th",{"data-data":"id"},"ID"),r.a.createElement("th",{"data-data":"user__contact__first_name"},"User"),r.a.createElement("th",{"data-data":"section"},"Section"),r.a.createElement("th",{"data-data":"is_active"},"Status"),r.a.createElement("th",{"data-data":"actions"},"Actions")))))):r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary"},"Looks like that you don't have sufficient permission"))))),r.a.createElement(xa.a,{show:O,onHide:me},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:function(e){if("status"==R){var a={is_active:1===_[x].is_active?0:1};fe("advertisements/"+_[x].id+"/",a).then((function(e){var a=_.filter((function(e,a){return a!==x}));y([].concat(Object(ha.a)(a),[e.data])),S(!1),Ng(),K(!0);var t=1===e.data.is_active?"activated":"deactivated";$("Record successfully "+t)}))}else"delete"==R&&ge("advertisements/"+_[x].id+"/").then((function(e){_.filter((function(e,a){return a!==x}));y(_),S(!1),Ng(),K(!0),$("Record successfully deleted")}))}},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:me},"No"))),r.a.createElement(vt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:16e5,onClose:ue},r.a.createElement(vg,{onClose:ue,variant:"success",message:Z})))}var Og=Object(Wi.a)({palette:{primary:dd.a},props:{MuiInput:{disableUnderline:!0},MuiTextField:{style:{display:"block"}},MuiInputBase:{style:{display:"block"},disableUnderline:!0,inputProps:{style:{display:"block",height:"calc(1.5em + 1.3rem + 2px)",padding:"0.65rem 1rem",fontSize:"1rem",fontWeight:"400",lineHeight:"1.5",color:"#495057",backgroundColor:"#fff",backgroundClip:"padding-box",border:"1px solid #e2e5ec",borderRadius:"4px",transition:"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out",boxSizing:"border-box"}}}}}),Sg=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).fileChangedHandler=function(e){var a,n=t.state.adverts,r=e.target.files[0];if(t.setState({previewFile:URL.createObjectURL(r)}),void 0!=r)if(r.size_c=r.size/1024,r.size_c/1024>2)r.size_c=(r.size_c/1024).toFixed(2)+" MB",r.error="Error: File is too big",n.file={},t.setState({selectedFile:r});else{a=new Image;var l=Object(at.a)(t);a.onload=function(){if(this.width!=l.state.section.dimensions.width||this.height!=l.state.section.dimensions.height)r.error="Error: Incorrect dimensions ".concat(this.width,"px x ").concat(this.height,"px"),l.setState({selectedFile:r,previewFile:null,dimensionCheck:!1});else{r.error=null,r.size_c=r.size_c.toFixed(2)+" KB";var e=new FileReader;e.readAsDataURL(r),e.onloadend=function(){n.file=e.result,l.setState({selectedFile:r,adverts:n,dimensionCheck:!0})}}},a.src=URL.createObjectURL(r)}},t.handleFileRemove=function(e){var a=t.state.adverts;delete a.file,t.setState({selectedFile:null,adverts:a}),document.getElementById("adverts-image-upload").value=""},t.clearForm=function(e){t.props.data.history.replace("/admin/adverts"),t.props.data.history.replace("/admin/adverts/create")},t.state={adverts:{url:"",section:Ne[0].value,is_active:0,start_date:le()(new Date).format("YYYY-MM-DD"),end_date:le()(new Date).format("YYYY-MM-DD")},validated:!1,action:"",section:Ne[0],users:[],user:{value:""},selectedFile:null,previewFile:null,startDate:new Date,endDate:new Date,initialOptions:[],modelsLoaded:!1,dimensionCheck:!0},t.loadModels(),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"loadModels",value:function(){ve("abmodels",{models:{AbUsers:{}}}).then(function(e){var a=function(a){e.data[a].map((function(t,n){"AbContacts"!==a&&"AbUsers"!==a||(t.name=t.first_name+" "+t.last_name),e.data[a][n].label=t.name,e.data[a][n].value=t.user_id}))};for(var t in e.data)a(t);this.setState({users:e.data.AbUsers,modelsLoaded:!0})}.bind(this))}},{key:"selectUser",value:function(e,a){var t,n=this.state.adverts;n.user=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"adverts",n),t))}},{key:"selectSection",value:function(e,a){var t,n=this.state.adverts;n.section=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"adverts",n),t))}},{key:"handleChange",value:function(e,a){var t=this.state.adverts;if("start_date"!==a&&"end_date"!==a)var n=e.target.name,r=e.target.value;else{n=a,r=le()(e).format("YYYY-MM-DD");"start_date"===a?(this.setState({startDate:e}),this.setState({endDate:e}),t.end_date=r):this.setState({endDate:e})}"is_active"===n&&(r=parseInt(r)),t[n]=r,this.setState({adverts:t})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),ve("advertisements",this.state.adverts).then((function(e){a.setState({adverts:e.data}),"save_new"==a.state.action?a.clearForm("adverts-form"):a.props.data.history.push("/admin/adverts")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.modelsLoaded,n=a.initialOptions,l=a.adverts,c=a.section,s=a.selectedFile,i=a.user,o=a.users,m=a.startDate,d=a.endDate;a.url;return r.a.createElement(mt.a,{noValidate:!0,id:"adverts-form",onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"User *"),r.a.createElement(rn.a,{debounceTimeout:t?0:2e3,options:n,required:!0,value:i.value?i:"select...",name:"user_id",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectUser(a,"user")},loadOptions:function(e,a){return Pe(e,a,o,t)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Start Date"),r.a.createElement(Yi.a,{theme:Og},r.a.createElement(Bi.a,{utils:Hi.a},r.a.createElement(qi.a,{format:"dd/MM/yyyy",minDate:new Date,disablePast:!0,name:"start_date",value:m,onChange:function(a){return e.handleChange(a,"start_date")}})))),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Expiry Date"),r.a.createElement(Yi.a,{theme:Og},r.a.createElement(Bi.a,{utils:Hi.a},r.a.createElement(qi.a,{format:"dd/MM/yyyy",minDate:m||new Date,disablePast:!0,name:"end_date",value:d,onChange:function(a){return e.handleChange(a,"end_date")}}))))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Section"),r.a.createElement(nn.a,{value:c.value?c:"select...",model:"adverts",name:"section",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectSection(a,"section")},options:Ne})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"URL"),r.a.createElement("input",{type:"text",name:"url",className:"form-input",value:l.url?l.url:"",onChange:function(a){return e.handleChange(a,"url")}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},""!==this.state.section.value?r.a.createElement("input",{accept:"image/*",style:{display:"none"},type:"file",id:"adverts-image-upload",name:"image",onChange:this.fileChangedHandler}):r.a.createElement(r.a.Fragment,null),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"adverts-image-upload"},r.a.createElement(Tc.a,{disabled:""==this.state.section.value?"disabled":"",variant:"outlined",color:"inherit",component:"span"},"Select Image",r.a.createElement(xc.a,{style:{marginLeft:"5px"}})),""!==this.state.section.value?" Required dimensions: "+this.state.section.dimensions.width+"px x "+this.state.section.dimensions.height+"px":""),r.a.createElement("div",{className:"form-group form-group-last row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"dropzone dropzone-multi",id:"kt_dropzone_5"},r.a.createElement("div",{className:"dropzone-items",style:{display:s?"block":"none"}},r.a.createElement("div",{className:"dropzone-item"},r.a.createElement("div",{className:"dropzone-file"},this.state.previewFile&&r.a.createElement("div",{style:{maxWidth:"250px"}},r.a.createElement("img",{style:{width:"100%"},src:this.state.previewFile})),r.a.createElement("div",{className:"dropzone-filename",title:"some_image_file_name.jpg"},r.a.createElement("span",{"data-dz-name":!0},s?s.name:"No file selected"),r.a.createElement("strong",null,"(",r.a.createElement("span",{"data-dz-size":!0},s&&s.size_c?s.size_c:""),")")),r.a.createElement("div",{className:"dropzone-error","data-dz-errormessage":!0},s&&s.error?s.error:"")),r.a.createElement("div",{className:"dropzone-toolbar"},r.a.createElement("span",{onClick:function(a){return e.handleFileRemove(a)},className:"dropzone-delete","data-dz-remove":!0},r.a.createElement("i",{className:"flaticon2-cross"})))))),r.a.createElement("span",{className:"form-text text-muted"},"Max file size is 2MB."))))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===l.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/adverts",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),jg=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Adverts",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/adverts",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Sg,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Tg=Object(B.o)(jg);function xg(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function Mg(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?xg(Object(t),!0).forEach((function(a){Object(b.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xg(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var Dg=Object(Wi.a)({palette:{primary:dd.a},props:{MuiInput:{disableUnderline:!0},MuiTextField:{style:{display:"block"}},MuiInputBase:{style:{display:"block"},inputProps:{style:{display:"block",height:"calc(1.5em + 1.3rem + 2px)",padding:"0.65rem 1rem",fontSize:"1rem",fontWeight:"400",lineHeight:"1.5",color:"#495057",backgroundColor:"#fff",backgroundClip:"padding-box",border:"1px solid #e2e5ec",borderRadius:"4px",transition:"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out",boxSizing:"border-box"}}}}}),Ag=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).fileChangedHandler=function(e){var a,n=t.state.adverts,r=e.target.files[0];if(t.setState({previewFile:URL.createObjectURL(r)}),void 0!=r)if(r.size_c=r.size/1024,r.size_c/1024>2)r.size_c=(r.size_c/1024).toFixed(2)+" MB",r.error="Error: File is too big",n.file={},t.setState({selectedFile:r});else{a=new Image;var l=Object(at.a)(t);a.onload=function(){if(this.width!=l.state.section.dimensions.width||this.height!=l.state.section.dimensions.height)r.error="Error: Incorrect dimensions ".concat(this.width,"px x ").concat(this.height,"px"),l.setState({selectedFile:r,previewFile:null,dimensionCheck:!1});else{r.error=null,r.size_c=r.size_c.toFixed(2)+" KB";var e=new FileReader;e.readAsDataURL(r),e.onloadend=function(){n.file=e.result,l.setState({selectedFile:r,adverts:n})}}},a.src=URL.createObjectURL(r)}},t.handleFileRemove=function(e){var a=t.state.adverts;delete a.file,t.setState({selectedFile:null,adverts:Mg({},a,{remove_file:!0})}),document.getElementById("adverts-image-upload").value=""};var n=t.props.data.match.params.advert_id;return t.state={validated:!1,adverts:{id:n,file:""},section:Ne[0],selectedFile:null,previewFile:null,users:[],user:{value:""},initialOptions:[],modelsLoaded:!1},t.getAdverts(n),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getUsers",value:function(){var e=this.state.adverts;be("users",{groups__name:"user",is_active:1,records:"all"}).then(function(a){var t=a.data;for(var n in t)if(t[n].label=t[n].contact.first_name+" "+t[n].contact.last_name,t[n].value=t[n].id,e.user&&t[n].id===e.user.id){t[n].label,t[n].id;e.user=e.user.id,this.setState({user:t[n],adverts:e})}this.setState({users:t})}.bind(this))}},{key:"selectSection",value:function(e,a){var t,n=this.state.adverts;n.section=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"adverts",n),t))}},{key:"selectUser",value:function(e,a){var t,n=this.state.adverts;n.user=e&&e.value?e.value:"",this.setState((t={},Object(b.a)(t,a,e||""),Object(b.a)(t,"adverts",n),t))}},{key:"getAdverts",value:function(e){var a=this;be("advertisements/"+e+"/").then((function(e){var t=a.state.section;Ne.map((function(a){a.value===e.data.section&&(t=a)})),a.setState({adverts:e.data,section:t,previewFile:e.data.media?oe+e.data.media.original_file_name:null}),a.loadModels(),a.setSelectfile()}))}},{key:"loadModels",value:function(){var e=this.state.adverts,a={AbUsers:["user"]};ve("abmodels",{models:{AbUsers:{}}}).then(function(t){var n={},r=function(r){t.data[r].map((function(l,c){"AbContacts"!==r&&"AbUsers"!==r||(l.name=l.first_name+" "+l.last_name),"AbUsers"===r&&(l.id=l.user_id),t.data[r][c].label=l.name,t.data[r][c].value=l.id,Object.keys(a).map((function(t,c){a[t].map((function(a,c){r===t&&null!==e[a]&&void 0!==e[a]&&void 0!==e[a].id&&e[a].id===l.id&&(n[a]=l)}))}))}))};for(var l in t.data)r(l);n.users=t.data.AbUsers,n.modelsLoaded=!0,this.setState(n)}.bind(this))}},{key:"setSelectfile",value:function(){if(this.state.adverts.media){var e={},a=this.state.adverts.media.original_file_name.split("/");e.name_c=a[a.length-1],this.setState({selectedFile:e})}}},{key:"handleChange",value:function(e,a){var t=this.state.adverts;if("start_date"!==a&&"end_date"!==a)var n=e.target.name,r=e.target.value;else{n=a,r=le()(e).format("YYYY-MM-DD");"start_date"===a?(this.setState({startDate:e}),this.setState({endDate:e}),t.end_date=r):this.setState({endDate:e})}"is_active"===n&&(r=parseInt(r)),t[n]=r,this.setState({adverts:t})}},{key:"handleSubmit",value:function(e){var a=this;e.currentTarget;e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}),this.checkDataFormat(),fe("advertisements/"+this.state.adverts.id+"/",this.state.adverts).then((function(e){a.setState({adverts:e.data}),a.props.data.history.push("/admin/adverts")})).catch((function(e){a.props.sendError(e.response.data)}))}},{key:"checkDataFormat",value:function(){var e=this,a=this.state.adverts;["user"].map((function(t,n){a[t]=e.state[t].value})),this.setState({adverts:a})}},{key:"render",value:function(){var e=this,a=this.state,t=a.modelsLoaded,n=a.initialOptions,l=a.adverts,c=a.section,s=a.selectedFile,i=a.user,o=a.users;a.startDate,a.endDate;return r.a.createElement(mt.a,{noValidate:!0,onSubmit:function(a){return e.handleSubmit(a)}},r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"User *"),r.a.createElement(rn.a,{options:n,required:!0,value:i.value?i:"select...",name:"user_id",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectUser(a,"user")},loadOptions:function(e,a){return Pe(e,a,o,t)}})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Start Date"),r.a.createElement(Yi.a,{theme:Dg},r.a.createElement(Bi.a,{utils:Hi.a},r.a.createElement(qi.a,{format:"dd/MM/yyyy",minDate:l.start_date?l.start_date:new Date,name:"start_date",value:l.start_date,onChange:function(a){return e.handleChange(a,"start_date")}})))),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Expiry Date"),r.a.createElement(Yi.a,{theme:Dg},r.a.createElement(Bi.a,{utils:Hi.a},r.a.createElement(qi.a,{format:"dd/MM/yyyy",minDate:l.end_date?l.end_date:l.start_date,name:"end_date",value:l.end_date?l.end_date:l.start_date,onChange:function(a){return e.handleChange(a,"end_date")}}))))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"Section"),r.a.createElement(nn.a,{value:c.value?c:"select...",model:"adverts",name:"section",isClearable:!0,escapeClearsValue:!0,onChange:function(a){return e.selectSection(a,"section")},options:Ne})),r.a.createElement(mt.a.Group,{as:dt.a,md:"4"},r.a.createElement(mt.a.Label,null,"URL"),r.a.createElement("input",{type:"text",name:"url",className:"form-input",value:l.url?l.url:"",onChange:function(a){return e.handleChange(a,"url")}}))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},""!==this.state.section.value?r.a.createElement("input",{accept:"image/*",style:{display:"none"},type:"file",id:"adverts-image-upload",name:"image",onChange:this.fileChangedHandler}):r.a.createElement(r.a.Fragment,null),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"adverts-image-upload"},r.a.createElement(Tc.a,{disabled:""==this.state.section.value?"disabled":"",variant:"outlined",color:"inherit",component:"span"},"Select Image",r.a.createElement(xc.a,{style:{marginLeft:"5px"}})),""!==this.state.section.value?" Required dimensions: "+this.state.section.dimensions.width+"px x "+this.state.section.dimensions.height+"px":""),r.a.createElement("div",{className:"form-group form-group-last row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"dropzone dropzone-multi",id:"kt_dropzone_5"},r.a.createElement("div",{className:"dropzone-items",style:{display:s?"block":"none"}},r.a.createElement("div",{className:"dropzone-item"},r.a.createElement("div",{className:"dropzone-file"},this.state.previewFile&&r.a.createElement("div",{style:{maxWidth:"250px"}},r.a.createElement("img",{style:{width:"100%"},src:this.state.previewFile})),r.a.createElement("div",{className:"dropzone-filename",title:"some_image_file_name.jpg"},r.a.createElement("span",{"data-dz-name":!0},s?s.name_c:"No file selected"),r.a.createElement("strong",null,r.a.createElement("span",{"data-dz-size":!0},s&&s.size_c?"("+s.size_c+")":""))),r.a.createElement("div",{className:"dropzone-error","data-dz-errormessage":!0},s&&s.error?s.error:"")),r.a.createElement("div",{className:"dropzone-toolbar"},r.a.createElement("span",{onClick:function(a){return e.handleFileRemove(a)},className:"dropzone-delete","data-dz-remove":!0},r.a.createElement("i",{className:"flaticon2-cross"})))))),r.a.createElement("span",{className:"form-text text-muted"},"Max file size is 2MB."))))),r.a.createElement(mt.a.Row,null,r.a.createElement(mt.a.Group,{as:dt.a,md:"12"},r.a.createElement(Ut.a,{component:"fieldset",className:"col-md-12"},r.a.createElement(Gt.a,{"aria-label":"status",name:"is_active",className:"col-md-12",value:1===l.is_active?"1":"0",onChange:function(a){return e.handleChange(a)}},r.a.createElement(Pt.a,{className:"col-md-2",value:"1",control:r.a.createElement(zt.a,null),label:"Publish"}),r.a.createElement(Pt.a,{className:"col-md-2",value:"0",control:r.a.createElement(zt.a,null),label:"Inactive"}))))),r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save"})},className:"btn btn-primary"},r.a.createElement("i",{className:"la la-save"}),"Save & Close"),"\xa0\xa0",r.a.createElement(Ma.a,{type:"submit",onClick:function(a){return e.setState({action:"save_new"})},className:"btn btn-success"},r.a.createElement("i",{className:"la la-save"}),"Save & New"),"\xa0\xa0",r.a.createElement(P.Link,{to:"/admin/adverts",className:"btn btn-danger"},r.a.createElement("i",{className:"la la-remove"}),"Cancel"))}}]),a}(r.a.Component),Rg=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={errors:{},showError:!1},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this,a=r.a.createElement(P.Link,{to:"/admin/adverts",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:"Adverts",jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},a))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Ag,{data:this.props,sendError:this.sendError}))))))}}]),a}(r.a.Component),Lg=Object(B.o)(Rg),Ig=function(e){function a(e){var t;Object(Qa.a)(this,a);var n=(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).props.data.match.params,r=n.advert_id,l=n.type;return t.txt_weight={fontWeight:500},t.handleModalShow=t.handleModalShow.bind(Object(at.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(at.a)(t)),t.confirm=t.confirm.bind(Object(at.a)(t)),t.state={type:l,advert:{id:r},action:"",showModal:!1,created_at:"",updated_at:"",image:null,is_active:""},t.getAdvert(r),t.divStyle={padding:"15px"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"getAdvert",value:function(e){var a=this;be("advertisements/"+e+"/").then((function(e){a.setState({image:e.data.media?e.data.media.original_file_name:null,advert:e.data})}))}},{key:"handleChange",value:function(e,a){var t=this,n=this.state.advert;n[a]=e,this.setState({advert:n}),fe("advertisements/"+this.state.advert.id+"/",this.state.advert).then((function(e){t.setState({advert:e.data})})).catch((function(e){t.props.sendError(e.response.data)}))}},{key:"handleModalShow",value:function(e,a){var t=e.target.value;"status"===a&&(t=parseInt(t),this.setState({is_active:1===t?0:1})),this.setState({action:a}),this.setState({showModal:!0})}},{key:"handleModalClose",value:function(){this.setState({showModal:!1})}},{key:"confirm",value:function(){var e=this;"status"===this.state.action&&(this.state.advert.is_active=this.state.is_active,fe("advertisements/"+this.state.advert.id+"/",this.state.advert).then((function(a){delete a.data.type,e.setState({advert:a.data}),e.setState({showModal:!1})})).catch((function(a){e.props.sendError(a.response.data),e.setState({showModal:!1})})))}},{key:"render",value:function(){var e=this,a=this.state.advert,t=a.user?a.user.contact?a.user.contact.first_name+" "+a.user.contact.last_name:a.user.email:"";return r.a.createElement("div",null,r.a.createElement(ut.a,{container:!0,spacing:3},r.a.createElement(ut.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:"kt_section__detail"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"User"),r.a.createElement("div",null,a.user?r.a.createElement(P.Link,{target:"_blank",to:"/contact/"+a.user.contact.id+"/"},t):"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Section"),r.a.createElement("div",null,a.section?a.section:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Start Date"),r.a.createElement("div",null,a.start_date?a.start_date:"---")),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Expiry Date"),r.a.createElement("div",null,a.end_date?a.end_date:"---"))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"kt_detail__item_title"},"Status"),r.a.createElement("div",null,r.a.createElement("span",{onClick:function(a){return e.handleModalShow(a,"status")},className:1===this.state.advert.is_active?"kt-switch kt-switch--sm kt-switch--success":"kt-switch kt-switch--sm kt-switch--danger"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:1===a.is_active?"defaultChecked":"",value:1===a.is_active?"1":"0",name:"is_active"}),r.a.createElement("span",null)))))))),r.a.createElement(ut.a,{item:!0,xs:12,md:3},r.a.createElement("img",{style:{maxHeight:"220px",maxWidth:"200px"},src:this.state.image?oe+this.state.image:oe+"dummy_image.svg"}))),r.a.createElement(xa.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(xa.a.Header,{closeButton:!0},r.a.createElement(xa.a.Title,null,"Confirm")),r.a.createElement(xa.a.Footer,null,r.a.createElement(Ma.a,{variant:"success",onClick:this.confirm},"Yes"),r.a.createElement(Ma.a,{variant:"danger",onClick:this.handleModalClose},"No"))))}}]),a}(r.a.Component),Fg=function(e){function a(e){var t;Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).setMainTitle=function(e){t.setState({title:e})};e.match.params.type;return t.state={errors:{},showError:!1,title:"Adverts"},t.sendError=t.sendError.bind(Object(at.a)(t)),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"sendError",value:function(e){Object.keys(e).length&&this.setState({showError:!0}),this.setState({errors:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{icon:"flaticon-warning kt-font-primary",style:{display:this.state.showError?"flex":"none"}},Object.keys(this.state.errors).map((function(a,t){return e.state.errors[a].map((function(e,n){return r.a.createElement("li",{key:t+n},a.charAt(0).toUpperCase()+a.slice(1)," : ",e)}))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ot,{beforeCodeTitle:this.state.title,jsCode:r.a.createElement("div",{className:"kt-portlet__head-toolbar"},r.a.createElement("div",{className:"kt-portlet__head-wrapper"},r.a.createElement("div",{className:"kt-portlet__head-actions"},r.a.createElement("div",{className:"dropdown dropdown-inline"},r.a.createElement(P.Link,{to:"/admin/adverts",className:"btn btn-clean btn-icon-sm"},r.a.createElement("i",{className:"la la-long-arrow-left"}),"Back"),r.a.createElement(P.Link,{to:"/admin/adverts/"+this.props.match.params.advert_id+"/edit",className:"btn btn-primary"},r.a.createElement("i",{className:"la la-edit"}),"Edit")))))},r.a.createElement("div",{className:"kt-section"},r.a.createElement(Ig,{data:this.props,sendError:this.sendError,setTitle:this.setMainTitle}))))))}}]),a}(r.a.Component),Ug=Object(B.o)(Fg),Gg=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).medialibrary=r.a.createRef(),t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"componentDidMount",value:function(){this.medialibrary.current.galleryModalOpener()}},{key:"render",value:function(){return r.a.createElement(zE,{modal:!1,showLibrary:!1,ref:this.medialibrary,selected_images:[]})}}]),a}(r.a.Component),Pg=Object(n.lazy)((function(){return Promise.all([t.e(3),t.e(8)]).then(t.bind(null,1650))})),zg=Object(n.lazy)((function(){return Promise.all([t.e(4),t.e(7)]).then(t.bind(null,1652))}));function Vg(e){ve("validate-token",{token:he()}).then((function(e){})).catch((function(e){console.log("error",e)}));var a=e.extra_data;return a.page_type=null,a.lastPath=function(){var e=_.a(y);if(!e)return"/admin";var a=JSON.parse(e);return a.length>0?a.pop():"/admin"}(),e.setExtraData(a),r.a.createElement(n.Suspense,{fallback:r.a.createElement(o.d,null)},r.a.createElement(B.g,null,r.a.createElement(B.c,{exact:!0,from:"/admin",to:"/admin/dashboard"}),r.a.createElement(B.d,{path:"/admin/builder",component:te}),r.a.createElement(B.d,{path:"/admin/dashboard",component:na}),r.a.createElement(B.d,{path:"/admin/google-material",component:Pg}),r.a.createElement(B.d,{path:"/admin/react-bootstrap",component:zg}),r.a.createElement(B.d,{path:"/admin/docs",component:pa}),r.a.createElement(B.d,{exact:!0,path:"/admin/airbookers",render:function(a){return Ee(["add_abusers","view_abusers"])?r.a.createElement(Xa,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{exact:!0,path:"/admin/airbookers/:user_id/permissions",render:function(a){return Ee(["change_abpermissions"])?r.a.createElement(pE,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{exact:!0,path:"/admin/admin-user/:user_id/permissions",render:function(a){return Ee(["change_abpermissions"])?r.a.createElement(pE,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{exact:!0,path:"/admin/admin-user",render:function(a){return Ee(["add_abusers","view_abusers"])?r.a.createElement(tn,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{path:"/admin/admin-user/create",component:Ee("add_abusers")?pn:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/admin-user/:user_id/edit",component:Ee("change_abusers")?on:vE}),r.a.createElement(B.d,{path:"/admin/role-permission/:group_id/edit",component:Ee("change_group")?wn:vE}),r.a.createElement(B.d,{path:"/admin/role-permission/create",component:Ee("add_group")?fE:vE}),r.a.createElement(B.d,{path:"/admin/role-permission",component:gn}),r.a.createElement(B.d,{exact:!0,path:"/admin/account-setting",render:function(a){return r.a.createElement(Et,Object.assign({},a,{userProp:e.user}))}}),r.a.createElement(B.d,{exact:!0,path:"/admin/update-account-password",render:function(a){return r.a.createElement(Ct,Object.assign({},a,{userProp:e.user}))}}),r.a.createElement(B.d,{exact:!0,path:"/admin/accesslogs",render:function(a){return Ee(["add_abaccesslogs","view_abaccesslogs"])?r.a.createElement(Mn,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{exact:!0,path:"/admin/airfield",render:function(a){return Ee(["add_abairfieldtypes","view_abairfieldtypes"])?r.a.createElement(Ft,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{exact:!0,path:"/admin/airfield/create",component:Ee("add_abairfieldtypes")?Bt:vE}),r.a.createElement(B.d,{path:"/admin/airfield/:airfield_id/edit",component:Ee("change_abairfieldtypes")?Xt:vE}),r.a.createElement(B.d,{path:"/admin/airfield/:airfield_id",component:Ee("view_abairfieldtypes")?Yt:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/aircraft/configuration",render:function(a){return Ee(["add_abconfigurations","view_abconfigurations"])?r.a.createElement(ar,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{path:"/admin/aircraft/configuration/create",component:Ee("add_abconfigurations")?Pn:vE}),r.a.createElement(B.d,{path:"/admin/aircraft/configuration/:configuration_id/edit",component:Ee("change_abconfigurations")?Bn:vE}),r.a.createElement(B.d,{path:"/admin/aircraft/configuration/:configuration_id",component:Ee("view_abconfigurations")?rr:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/subscriber",render:function(a){return Ee(["add_absubscribers","view_absubscribers"])?r.a.createElement(ai,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{path:"/admin/subscriber/create",component:Ee("add_absubscribers")?ri:vE}),r.a.createElement(B.d,{path:"/admin/subscriber/:subscriber_id/edit",component:Ee("change_absubscribers")?si:vE}),r.a.createElement(B.d,{path:"/admin/subscriber/:subscriber_id",component:Ee("view_absubscribers")?mi:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/contacts",render:function(a){return Ee(["add_abcontacts","view_abcontacts"])?r.a.createElement(zi,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{path:"/admin/contacts/create",component:Ee("add_abcontacts")?Zi:vE}),r.a.createElement(B.d,{path:"/admin/contacts/:contact_id/edit",component:Ee("change_abcontacts")?ro:vE}),r.a.createElement(B.d,{path:"/admin/contacts/:contact_id",component:Ee("view_abcontacts")?so:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/parts/condition",render:function(a){return Ee(["add_abconditions","view_abconditions"])?r.a.createElement(Cu,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{path:"/admin/parts/condition/create",component:Ee("add_abconditions")?Su:vE}),r.a.createElement(B.d,{path:"/admin/parts/condition/:condition_id/edit",component:Ee("change_abconditions")?xu:vE}),r.a.createElement(B.d,{path:"/admin/parts/condition/:condition_id",component:Ee("view_abconditions")?Au:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/cities",render:function(a){return Ee(["add_abcities","view_abcities"])?r.a.createElement(yi,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{path:"/admin/cities/create",component:Ee("add_abcities")?Ci:vE}),r.a.createElement(B.d,{path:"/admin/cities/:city_id/edit",component:Ee("change_abcities")?Si:vE}),r.a.createElement(B.d,{path:"/admin/cities/:city_id",component:Ee("view_abcities")?xi:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/companies",render:function(a){return Ee(["add_abcompanies","view_abcompanies"])?r.a.createElement(go,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{exact:!0,path:"/admin/companies/create",component:Ee("add_abcompanies")?ko:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/companies/:company_id/edit",component:Ee("change_abcompanies")?wo:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/companies/:company_id",component:Ee("view_abcompanies")?jo:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/continent",render:function(a){return Ee(["add_abcontinents","view_abcontinents"])?r.a.createElement(Uo,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{path:"/admin/continent/create",component:Ee("add_abcontinents")?zo:vE}),r.a.createElement(B.d,{path:"/admin/continent/:continent_id/edit",component:Ee("change_abcontinents")?Bo:vE}),r.a.createElement(B.d,{path:"/admin/continent/:continent_id",component:Ee("view_abcontinents")?Yo:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/contactqueries",render:function(a){return Ee(["add_abcontactqueries","view_abcontactqueries"])?r.a.createElement(Xc,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{path:"/admin/contactqueries/:query_id",component:Ee("view_abcontactqueries")?$c:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/countries",render:function(a){return Ee(["add_abcountries","view_abcountries"])?r.a.createElement(nm,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{path:"/admin/countries/create",component:Ee("add_abcountries")?cm:vE}),r.a.createElement(B.d,{path:"/admin/countries/:country_id/edit",component:Ee("change_abcountries")?om:vE}),r.a.createElement(B.d,{path:"/admin/countries/:country_id",component:Ee("view_abcountries")?um:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/cms",render:function(a){return Ee(["add_abcms","view_abcms"])?r.a.createElement(km,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{path:"/admin/cms/create",component:Ee("add_abcms")?Dm:vE}),r.a.createElement(B.d,{path:"/admin/cms/:cms_id/edit",component:Ee("change_abcms")?Um:vE}),r.a.createElement(B.d,{path:"/admin/cms/:cms_id",component:Ee("view_abcms")?zm:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/pricing",render:function(a){return Ee(["add_abpricing","view_abpricing"])?r.a.createElement(nv,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{exact:!0,path:"/admin/pricing/create",component:Ee("add_abpricing")?cv:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/pricing/:price_id/edit",component:Ee("change_abplans")?ov:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/pricing/:price_id",component:Ee("view_abplans")?uv:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/parts/release",render:function(a){return Ee(["add_abreleases","view_abreleases"])?r.a.createElement(Bu,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{path:"/admin/parts/release/create",component:Ee("add_abreleases")?Yu:vE}),r.a.createElement(B.d,{path:"/admin/parts/release/:release_id/edit",component:Ee("change_abreleases")?Xu:vE}),r.a.createElement(B.d,{path:"/admin/parts/release/:release_id",component:Ee("view_abreleases")?$u:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/region",render:function(a){return Ee(["add_abregions","view_abregions"])?r.a.createElement(op,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{path:"/admin/region/create",component:Ee("add_abregions")?up:vE}),r.a.createElement(B.d,{path:"/admin/region/:region_id/edit",component:Ee("change_abregions")?Ep:vE}),r.a.createElement(B.d,{path:"/admin/region/:region_id",component:Ee("view_abregions")?vp:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/invoices",component:xs}),r.a.createElement(B.d,{exact:!0,path:"/admin/invoices/:invoice_id",component:Rs}),r.a.createElement(B.d,{exact:!0,path:"/admin/seos",render:function(a){return Ee(["add_abseos","view_abseos"])?r.a.createElement(jp,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{path:"/admin/seos/create",component:Ee("add_abseos")?Mp:vE}),r.a.createElement(B.d,{path:"/admin/seos/:seo_id/edit",component:Ee("change_abseos")?Rp:vE}),r.a.createElement(B.d,{path:"/admin/seos/:seo_id",component:Ee("view_abseos")?Fp:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/speciality",render:function(a){return Ee(["add_abspecialities","view_abspecialities"])?r.a.createElement(Yp,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{path:"/admin/speciality/create",component:Ee("add_abspecialities")?Xp:vE}),r.a.createElement(B.d,{path:"/admin/speciality/:speciality_id/edit",component:Ee("change_abspecialities")?$p:vE}),r.a.createElement(B.d,{path:"/admin/speciality/:speciality_id",component:Ee("view_abspecialities")?th:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/states",render:function(a){return Ee(["add_abstates","view_abstates"])?r.a.createElement(ph,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{path:"/admin/states/create",component:Ee("add_abstates")?bh:vE}),r.a.createElement(B.d,{path:"/admin/states/:state_id/edit",component:Ee("change_abstates")?gh:vE}),r.a.createElement(B.d,{path:"/admin/states/:state_id",component:Ee("view_abstates")?kh:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/titles",render:function(a){return Ee(["add_abtitles","view_abtitles"])?r.a.createElement(Ah,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{path:"/admin/titles/create",component:Ee("add_abtitles")?Ih:vE}),r.a.createElement(B.d,{path:"/admin/titles/:title_id/edit",component:Ee("change_abtitles")?Gh:vE}),r.a.createElement(B.d,{path:"/admin/titles/:title_id",component:Ee("view_abtitles")?Vh:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/departments",render:function(a){return Ee(["add_abdapartments","view_abdepartments"])?r.a.createElement($h,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{path:"/admin/departments/create",component:Ee("add_abdepartments")?tE:vE}),r.a.createElement(B.d,{path:"/admin/departments/:department_id/edit",component:Ee("change_abdepartments")?lE:vE}),r.a.createElement(B.d,{path:"/admin/departments/:department_id",component:Ee("view_abdepartments")?iE:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/aircraft/category",render:function(a){return Ee(["add_abcategories","view_abcategories"])?r.a.createElement(Er,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{exact:!0,path:"/admin/aircraft/manufacturer",render:function(a){return Ee(["add_abmanufacturers","view_abmanufacturers"])?r.a.createElement(Or,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{exact:!0,path:"/admin/aircraft/model",render:function(a){return Ee(["add_abmodels","view_abmodels"])?r.a.createElement(Fr,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{exact:!0,path:"/admin/aircraft/type",render:function(a){return Ee(["add_abtypes","view_abtypes"])?r.a.createElement(Jr,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{exact:!0,path:"/admin/engine/category",render:function(a){return Ee(["add_abcategories","view_abcategories"])?r.a.createElement(ll,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{exact:!0,path:"/admin/engine/manufacturer",render:function(a){return Ee(["add_abmanufacturers","view_abmanufacturers"])?r.a.createElement(bl,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{exact:!0,path:"/admin/engine/model",render:function(a){return Ee(["add_abmodels","view_abmodels"])?r.a.createElement(Sl,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{exact:!0,path:"/admin/engine/type",render:function(a){return Ee(["add_abtypes","view_abtypes"])?r.a.createElement(Ul,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{exact:!0,path:"/admin/apu/category",render:function(a){return Ee(["add_abcategories","view_abcategories"])?r.a.createElement(Kl,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{exact:!0,path:"/admin/apu/manufacturer",render:function(a){return Ee(["add_abmanufacturers","view_abmanufacturers"])?r.a.createElement(cc,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{exact:!0,path:"/admin/apu/model",render:function(a){return Ee(["add_abmodels","view_abmodels"])?r.a.createElement(fc,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{exact:!0,path:"/admin/apu/type",render:function(a){return Ee(["add_abtypes","view_abtypes"])?r.a.createElement(jc,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{exact:!0,path:"/admin/news/category",render:function(a){return Ee(["add_abcategories","view_abcategories"])?r.a.createElement(Pd,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{exact:!0,path:"/admin/event/category",render:function(a){return Ee(["add_abcategories","view_abcategories"])?r.a.createElement(Zm,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{exact:!0,path:"/admin/:type/category/create",component:Ee("add_abcategories")?Ac:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/:type/category/:category_id/edit",component:Ee("change_abcategories")?Ic:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/:type/category/:category_id",component:Ee("view_abcategories")?Pc:vE}),r.a.createElement(B.d,{path:"/admin/:type/manufacturer/:manufacturer_id/edit",component:Ee("change_abmanufacturers")?ls:vE}),r.a.createElement(B.d,{path:"/admin/:type/manufacturer/create",component:Ee("add_abmanufacturers")?ts:vE}),r.a.createElement(B.d,{path:"/admin/:type/manufacturer/:manufacturer_id",component:Ee("view_abmanufacturers")?os:vE}),r.a.createElement(B.d,{path:"/admin/:type/model/:model_id/edit",component:bs}),r.a.createElement(B.d,{path:"/admin/:type/model/create",component:Ee("add_abmodels")?ps:vE}),r.a.createElement(B.d,{path:"/admin/:type/model/:model_id",component:Ee("view_abmodels")?gs:vE}),r.a.createElement(B.d,{path:"/admin/:type/type/:type_id/edit",component:Ee("change_abtypes")?zs:vE}),r.a.createElement(B.d,{path:"/admin/:type/type/create",render:function(a){return Ee(["add_abtypes"])?r.a.createElement(Us,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{path:"/admin/:type/type/:type_id",component:Ee("view_abtypes")?Bs:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/news",render:function(a){return Ee(["add_abnews","view_abnews"])?r.a.createElement(Xd,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{path:"/admin/news/create",component:Ee("add_abnews")?nu:vE}),r.a.createElement(B.d,{path:"/admin/news/:news_id/edit",component:Ee("change_abnews")?mu:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/news/:news_id",component:Ee("view_abnews")?pu:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/events",render:function(a){return Ee(["add_abevents","view_abevents"])?r.a.createElement(od,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{path:"/admin/events/create",component:Ee("add_abevents")?gd:vE}),r.a.createElement(B.d,{path:"/admin/events/:event_id/edit",component:Ee("change_abevents")?Od:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/events/:event_id",component:Ee("view_abevents")?Td:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/aircraft/asset",render:function(a){return Ee(["add_abaircrafts","view_abaircrafts"])?r.a.createElement(TE,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{path:"/admin/aircraft/asset/create",component:Ee("add_abaircrafts")?QE:vE}),r.a.createElement(B.d,{path:"/admin/aircraft/asset/:aircraft_id/edit",component:Ee("change_abaircrafts")?YE:vE}),r.a.createElement(B.d,{path:"/admin/aircraft/asset/:aircraft_id",component:Ee("view_abaircrafts")?nb:vE}),r.a.createElement(B.d,{path:"/admin/settings",component:Fn}),r.a.createElement(B.d,{exact:!0,path:"/admin/airport",render:function(a){return Ee(["add_abairports","view_abairports"])?r.a.createElement(Ub,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{exact:!0,path:"/admin/airport/create",render:function(a){return r.a.createElement(Hb,Object.assign({},a,{userProp:e.user}))}}),r.a.createElement(B.d,{exact:!0,path:"/admin/airport/:airport_id/edit",component:Yb}),r.a.createElement(B.d,{exact:!0,path:"/admin/airport/:airport_id",component:Xb}),r.a.createElement(B.d,{exact:!0,path:"/admin/engine/asset",render:function(a){return Ee(["add_abengines","view_abengines"])?r.a.createElement(hb,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{path:"/admin/engine/asset/create",component:Ee("add_abengines")?kb:vE}),r.a.createElement(B.d,{path:"/admin/engine/asset/:engine_id/edit",component:Ee("change_abengines")?vb:vE}),r.a.createElement(B.d,{path:"/admin/engine/asset/:engine_id",component:Ee("view_abengines")?Sb:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/apu/asset",render:function(a){return Ee(["add_abapus","view_abapus"])?r.a.createElement(sf,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{path:"/admin/apu/asset/create",component:Ee("add_abapus")?bf:vE}),r.a.createElement(B.d,{path:"/admin/apu/asset/:apu_id/edit",component:Ee("change_abapus")?uf:vE}),r.a.createElement(B.d,{path:"/admin/apu/asset/:apu_id",component:Ee("view_abapus")?yf:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/part/asset",render:function(a){return Ee(["add_abparts","view_abparts"])?r.a.createElement(Nv,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{path:"/admin/part/asset/create",component:Ee("add_abparts")?Tv:vE}),r.a.createElement(B.d,{path:"/admin/part/asset/:part_id/edit",component:Ee("change_abparts")?Ov:vE}),r.a.createElement(B.d,{path:"/admin/part/asset/:part_id",component:Ee("view_abparts")?Dv:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/wanted/asset",render:function(a){return Ee(["add_abwanteds","view_abwanteds"])?r.a.createElement(Hv,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{path:"/admin/wanted/asset/create",component:Ee("add_abwanteds")?Qv:vE}),r.a.createElement(B.d,{path:"/admin/wanted/asset/:wanted_id/edit",component:Ee("change_abwanteds")?Yv:vE}),r.a.createElement(B.d,{path:"/admin/wanted/asset/:wanted_id",component:Ee("view_abwanteds")?eg:vE}),r.a.createElement(B.d,{exact:!0,path:"/admin/email-template",render:function(a){return Ee(["add_abcannedemails","view_abcannedemails"])?r.a.createElement(Mf,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{exact:!0,path:"/admin/email-template/create",component:Ff}),r.a.createElement(B.d,{exact:!0,path:"/admin/email-template/:template_id/edit",component:Hf}),r.a.createElement(B.d,{exact:!0,path:"/admin/email-template/:template_id",component:Wf}),r.a.createElement(B.d,{exact:!0,path:"/admin/lead",render:function(a){return Ee(["add_ableads","view_ableads"])?r.a.createElement(Eg,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{exact:!0,path:"/admin/adverts",render:function(a){return Ee(["add_abadvertisements","view_abadvertisements"])?r.a.createElement(wg,Object.assign({},a,{setExtraData:e.setExtraData,extra_data:e.extra_data})):r.a.createElement(vE,null)}}),r.a.createElement(B.d,{exact:!0,path:"/admin/adverts/create",component:Tg}),r.a.createElement(B.d,{exact:!0,path:"/admin/adverts/:advert_id/edit",component:Lg}),r.a.createElement(B.d,{exact:!0,path:"/admin/adverts/:advert_id",component:Ug}),r.a.createElement(B.d,{exact:!0,path:"/admin/media",component:Gg}),r.a.createElement(B.c,{to:"/admin/error/404"})))}var Hg=t(1363),Bg=t(285);var qg=Object(Bg.c)(Object(G.b)(null,T)((function(e){var a=e.intl;return r.a.createElement("div",{className:"kt-login__body"},r.a.createElement("div",{className:"kt-login__form"},r.a.createElement("div",{className:"kt-login__title"},r.a.createElement("h3",null,r.a.createElement(Hg.a,{id:"AUTH.REGISTER.TITLE"}))),r.a.createElement(q.a,{initialValues:{email:"",fullname:"",username:"",password:"",acceptTerms:!0,confirmPassword:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email=a.formatMessage({id:"AUTH.VALIDATION.INVALID_FIELD"})):t.email=a.formatMessage({id:"AUTH.VALIDATION.REQUIRED_FIELD"}),e.fullname||(t.fullname=a.formatMessage({id:"AUTH.VALIDATION.REQUIRED_FIELD"})),e.username||(t.username=a.formatMessage({id:"AUTH.VALIDATION.REQUIRED_FIELD"})),e.password||(t.password=a.formatMessage({id:"AUTH.VALIDATION.REQUIRED_FIELD"})),e.confirmPassword?e.password!==e.confirmPassword&&(t.confirmPassword="Password and Confirm Password didn't match."):t.confirmPassword=a.formatMessage({id:"AUTH.VALIDATION.REQUIRED_FIELD"}),e.acceptTerms||(t.acceptTerms="Accept Terms"),t},onSubmit:function(t,n){var r=n.setStatus,l=n.setSubmitting;Object(g.g)(t.email,t.fullname,t.username,t.password).then((function(a){var t=a.data.accessToken;e.register(t)})).catch((function(){l(!1),r(a.formatMessage({id:"AUTH.VALIDATION.INVALID_LOGIN"}))}))}},(function(e){var a=e.values,t=e.status,n=e.errors,l=e.touched,c=e.handleChange,s=e.handleBlur,i=e.handleSubmit,o=e.isSubmitting;return r.a.createElement("form",{onSubmit:i,noValidate:!0,autoComplete:"off"},t&&r.a.createElement("div",{role:"alert",className:"alert alert-danger"},r.a.createElement("div",{className:"alert-text"},t)),r.a.createElement("div",{className:"form-group mb-0"},r.a.createElement(Dn.a,{margin:"normal",label:"Fullname",className:"kt-width-full",name:"fullname",onBlur:s,onChange:c,value:a.fullname,helperText:l.fullname&&n.fullname,error:Boolean(l.fullname&&n.fullname)})),r.a.createElement("div",{className:"form-group mb-0"},r.a.createElement(Dn.a,{label:"Email",margin:"normal",className:"kt-width-full",name:"email",onBlur:s,onChange:c,value:a.email,helperText:l.email&&n.email,error:Boolean(l.email&&n.email)})),r.a.createElement("div",{className:"form-group mb-0"},r.a.createElement(Dn.a,{margin:"normal",label:"Username",className:"kt-width-full",name:"username",onBlur:s,onChange:c,value:a.username,helperText:l.username&&n.username,error:Boolean(l.username&&n.username)})),r.a.createElement("div",{className:"form-group mb-0"},r.a.createElement(Dn.a,{type:"password",margin:"normal",label:"Password",className:"kt-width-full",name:"password",onBlur:s,onChange:c,value:a.password,helperText:l.password&&n.password,error:Boolean(l.password&&n.password)})),r.a.createElement("div",{className:"form-group"},r.a.createElement(Dn.a,{type:"password",margin:"normal",label:"Confirm Password",className:"kt-width-full",name:"confirmPassword",onBlur:s,onChange:c,value:a.confirmPassword,helperText:l.confirmPassword&&n.confirmPassword,error:Boolean(l.confirmPassword&&n.confirmPassword)})),r.a.createElement("div",{className:"form-group mb-0"},r.a.createElement(Pt.a,{label:r.a.createElement(r.a.Fragment,null,"I agree the"," ",r.a.createElement(P.Link,{to:"/terms",target:"_blank",rel:"noopener noreferrer"},"Terms & Conditions")),control:r.a.createElement(wt.a,{color:"primary",name:"acceptTerms",onBlur:s,onChange:c,checked:a.acceptTerms})})),r.a.createElement("div",{className:"kt-login__actions"},r.a.createElement(P.Link,{to:"/admin/auth/forgot-password",className:"kt-link kt-login__link-forgot"},r.a.createElement(Hg.a,{id:"AUTH.GENERAL.FORGOT_BUTTON"})),r.a.createElement(P.Link,{to:"/admin/auth"},r.a.createElement("button",{type:"button",className:"btn btn-secondary btn-elevate kt-login__btn-secondary"},"Back")),r.a.createElement("button",{disabled:o||!a.acceptTerms,className:"btn btn-primary btn-elevate kt-login__btn-primary"},"Submit")))}))))}))),Wg=function(e){function a(e){var t;return Object(Qa.a)(this,a),(t=Object($a.a)(this,Object(et.a)(a).call(this,e))).state={isRequested:!1},t.state={alert_type:"alert-danger"},t}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"render",value:function(){var e=this,a=this.props.intl,t=this.state,n=t.isRequested,l=t.alert_type;return n?r.a.createElement(B.c,{to:"/admin/auth"}):r.a.createElement("div",{className:"kt-grid__item kt-grid__item--fluid  kt-grid__item--order-tablet-and-mobile-1  kt-login__wrapper"},r.a.createElement("div",{className:"kt-login__body"},r.a.createElement("div",{className:"kt-login__form"},r.a.createElement("div",{className:"kt-login__title"},r.a.createElement("h3",null,r.a.createElement(Hg.a,{id:"AUTH.FORGOT.TITLE"}))),r.a.createElement(q.a,{initialValues:{email:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email=a.formatMessage({id:"AUTH.VALIDATION.INVALID_FIELD"})):t.email=a.formatMessage({id:"AUTH.VALIDATION.REQUIRED_FIELD"}),t},onSubmit:function(t,n){var r=n.setStatus,l=n.setSubmitting;Object(g.h)(t.email).then((function(n){l(!1),n.data.success?(e.setState({alert_type:"alert-success"}),r(a.formatMessage({id:"AUTH.FORGOT.SUCCESS"},{name:t.email}))):(e.setState({alert_type:"alert-danger"}),r(a.formatMessage({id:"AUTH.FORGOT.ERROR"},{name:t.email})))})).catch((function(){l(!1),e.setState({alert_type:"alert-danger"}),r(a.formatMessage({id:"AUTH.VALIDATION.NOT_FOUND"},{name:t.email}))}))}},(function(e){var a=e.values,t=e.status,n=e.errors,c=e.touched,s=e.handleChange,i=e.handleBlur,o=e.handleSubmit,m=e.isSubmitting;return r.a.createElement("form",{onSubmit:o,className:"kt-form"},t&&r.a.createElement("div",{role:"alert",className:"alert "+l},r.a.createElement("div",{className:"alert-text"},t)),r.a.createElement("div",{className:"form-group"},r.a.createElement(Dn.a,{type:"email",label:"Email",margin:"normal",fullWidth:!0,name:"email",onBlur:i,onChange:s,value:a.email,helperText:c.email&&n.email,error:Boolean(c.email&&n.email)})),r.a.createElement("div",{className:"kt-login__actions"},r.a.createElement(P.Link,{to:"/admin/auth",className:"btn btn-secondary btn-elevate kt-login__btn-secondary pt-3"},"Back"),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-elevate kt-login__btn-primary",disabled:m},"Submit")))})))))}}]),a}(n.Component),Yg=Object(Bg.c)(Object(G.b)(null,T)(Wg));var Jg=Object(Bg.c)(Object(G.b)(null,T)((function(e){var a=e.intl,t=r.a.useState("alert-danger"),n=Object(H.a)(t,2),l=(n[0],n[1]),c=e.match.params.password_link;return r.a.createElement("div",{className:"kt-login__body"},r.a.createElement("div",{className:"kt-login__form"},r.a.createElement("div",{className:"kt-login__title"},r.a.createElement("h3",null,r.a.createElement(Hg.a,{id:"AUTH.RESET_PASS.TITLE"}))),r.a.createElement(q.a,{initialValues:{email:"",password:"",confirmPassword:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email=a.formatMessage({id:"AUTH.VALIDATION.INVALID_FIELD"})):t.email=a.formatMessage({id:"AUTH.VALIDATION.REQUIRED_FIELD"}),e.password||(t.password=a.formatMessage({id:"AUTH.VALIDATION.REQUIRED_FIELD"})),e.confirmPassword?e.password!==e.confirmPassword&&(t.confirmPassword="Password and Confirm Password didn't match."):t.confirmPassword=a.formatMessage({id:"AUTH.VALIDATION.REQUIRED_FIELD"}),t},onSubmit:function(t,n){var r=n.setStatus,s=n.setSubmitting;Object(g.i)(t.email,t.password,c).then((function(n){n.data.success?(l("alert-success"),r(a.formatMessage({id:"AUTH.RESET.SUCCESS"},{name:t.email})),e.history.push("/admin/auth/login")):(l("alert-danger"),r(a.formatMessage({id:"AUTH.RESET.ERROR"},{name:t.email})))})).catch((function(){s(!1),r(a.formatMessage({id:"AUTH.RESET.ERROR"}))}))}},(function(e){var a=e.values,t=e.status,n=e.errors,l=e.touched,c=e.handleChange,s=e.handleBlur,i=e.handleSubmit,o=e.isSubmitting;return r.a.createElement("form",{onSubmit:i,noValidate:!0,autoComplete:"off"},t&&r.a.createElement("div",{role:"alert",className:"alert alert-danger"},r.a.createElement("div",{className:"alert-text"},t)),r.a.createElement("div",{className:"form-group mb-0"},r.a.createElement(Dn.a,{label:"Email",margin:"normal",className:"kt-width-full",name:"email",onBlur:s,onChange:c,value:a.email,helperText:l.email&&n.email,error:Boolean(l.email&&n.email)})),r.a.createElement("div",{className:"form-group mb-0"},r.a.createElement(Dn.a,{type:"password",margin:"normal",label:"Password",className:"kt-width-full",name:"password",onBlur:s,onChange:c,value:a.password,helperText:l.password&&n.password,error:Boolean(l.password&&n.password)})),r.a.createElement("div",{className:"form-group"},r.a.createElement(Dn.a,{type:"password",margin:"normal",label:"Confirm Password",className:"kt-width-full",name:"confirmPassword",onBlur:s,onChange:c,value:a.confirmPassword,helperText:l.confirmPassword&&n.confirmPassword,error:Boolean(l.confirmPassword&&n.confirmPassword)})),r.a.createElement("div",{className:"kt-login__actions"},r.a.createElement(P.Link,{to:"/admin/auth"},r.a.createElement("button",{type:"button",className:"btn btn-secondary btn-elevate kt-login__btn-secondary"},"Back")),r.a.createElement("button",{disabled:o,className:"btn btn-primary btn-elevate kt-login__btn-primary"},"Submit")))}))))})));var Kg=Object(Bg.c)(Object(G.b)(null,T)((function(e){var a=e.intl,t=Object(n.useState)(!1),l=Object(H.a)(t,2),c=l[0],s=l[1],i=Object(n.useState)({paddingRight:"2.5rem"}),o=Object(H.a)(i,2),m=o[0],d=o[1],u=function(){s(!1),d({paddingRight:"2.5rem"})};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"kt-login__body"},r.a.createElement("div",{className:"kt-login__form"},r.a.createElement("div",{className:"kt-login__title"},r.a.createElement("h3",null,r.a.createElement(Hg.a,{id:"AUTH.LOGIN.TITLE"}))),r.a.createElement(q.a,{initialValues:{email:"",password:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email=a.formatMessage({id:"AUTH.VALIDATION.INVALID_FIELD"})):t.email=a.formatMessage({id:"AUTH.VALIDATION.REQUIRED_FIELD"}),e.password||(t.password=a.formatMessage({id:"AUTH.VALIDATION.REQUIRED_FIELD"})),t},onSubmit:function(t,n){var r=n.setStatus,l=n.setSubmitting;s(!0),d({paddingRight:"3.5rem"}),setTimeout((function(){Object(g.f)(t.email,t.password).then((function(a){var t=a.data.token;u(),e.login(t)})).catch((function(){u(),l(!1),r(a.formatMessage({id:"AUTH.VALIDATION.INVALID_LOGIN"}))}))}),1e3)}},(function(e){var a=e.values,t=e.status,n=e.errors,l=e.touched,s=e.handleChange,i=e.handleBlur,o=e.handleSubmit,d=e.isSubmitting;return r.a.createElement("form",{noValidate:!0,autoComplete:"off",className:"kt-form",onSubmit:o},t?r.a.createElement("div",{role:"alert",className:"alert alert-danger"},r.a.createElement("div",{className:"alert-text"},t)):r.a.createElement(r.a.Fragment,null),r.a.createElement("div",{className:"form-group"},r.a.createElement(Dn.a,{type:"text",label:"Email",margin:"normal",className:"kt-width-full",name:"email",onBlur:i,onChange:s,value:a.email,helperText:l.email&&n.email,error:Boolean(l.email&&n.email)})),r.a.createElement("div",{className:"form-group"},r.a.createElement(Dn.a,{type:"password",margin:"normal",label:"Password",className:"kt-width-full",name:"password",onBlur:i,onChange:s,value:a.password,helperText:l.password&&n.password,error:Boolean(l.password&&n.password)})),r.a.createElement("div",{className:"kt-login__actions"},r.a.createElement(P.Link,{to:"/admin/auth/forgot-password",className:"kt-link kt-login__link-forgot"},r.a.createElement(Hg.a,{id:"AUTH.GENERAL.FORGOT_BUTTON"})),r.a.createElement("button",{id:"kt_login_signin_submit",type:"submit",disabled:d,className:"btn btn-primary btn-elevate kt-login__btn-primary ".concat(Object(Q.a)({"kt-spinner kt-spinner--right kt-spinner--md kt-spinner--light":c})),style:m},"Sign In")))})))))}))),Xg=t(538);t(1266);function Qg(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Xg.Helmet,null),r.a.createElement("div",{className:"kt-grid kt-grid--ver kt-grid--root"},r.a.createElement("div",{id:"kt_login",className:"kt-grid kt-grid--hor kt-grid--root kt-login kt-login--v1"},r.a.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--desktop kt-grid--ver-desktop kt-grid--hor-tablet-and-mobile"},r.a.createElement("div",{className:"kt-grid__item kt-grid__item--order-tablet-and-mobile-2 kt-grid kt-grid--hor kt-login__aside",style:{backgroundImage:"url(".concat(Object(o.i)("/static/media/bg/bg-4.jpg"),")")}},r.a.createElement("div",{className:"kt-grid__item"},r.a.createElement(P.Link,{to:"/admin/",className:"kt-login__logo"},r.a.createElement("img",{style:{height:"30px"},alt:"Logo",src:Object(o.i)("/static/media/logos/airbook.svg")}))),r.a.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--ver"},r.a.createElement("div",{className:"kt-grid__item kt-grid__item--middle"},r.a.createElement("h3",{className:"kt-login__title"},"Welcome to Airbook!"),r.a.createElement("h4",{className:"kt-login__subtitle"},"the all-in-one aviation asset re-marketing platform"))),r.a.createElement("div",{className:"kt-grid__item"},r.a.createElement("div",{className:"kt-login__info"},r.a.createElement("div",{className:"kt-login__copyright"},"\xa9 ",(new Date).getFullYear()," Airbook")))),r.a.createElement("div",{className:"kt-grid__item kt-grid__item--fluid  kt-grid__item--order-tablet-and-mobile-1  kt-login__wrapper"},r.a.createElement(B.g,null,r.a.createElement(B.d,{path:"/admin/auth/login",component:Kg}),r.a.createElement(B.d,{path:"/admin/auth/registration",component:qg}),r.a.createElement(B.d,{path:"/admin/auth/forgot-password",component:Yg}),r.a.createElement(B.d,{path:"/admin/auth/reset-password/:password_link",component:Jg}),r.a.createElement(B.c,{from:"/admin",to:"/admin/auth/login"})))))))}t(1267);t(1268);t(1269);t(1270);t(1271);t(1272);function Zg(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"kt-grid kt-grid--ver kt-grid--root"},r.a.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid  kt-error-v6",style:{backgroundImage:"url(".concat(Object(o.i)("/static/media//error/bg6.jpg"),")")}},r.a.createElement("div",{className:"kt-error_container"},r.a.createElement("div",{className:"kt-error_subtitle kt-font-light"},r.a.createElement("h1",null,"Oops...")),r.a.createElement("p",{className:"kt-error_description kt-font-light"},"Looks like something went wrong.",r.a.createElement("br",null),"We're working on it")))))}function $g(){return r.a.createElement(B.g,null,r.a.createElement(B.c,{from:"/admin/error",exact:!0,to:"/admin/error/404"}),r.a.createElement(B.d,{path:"/admin/error/404",component:Zg}))}var e_=function(e){function a(){return Object(Qa.a)(this,a),Object($a.a)(this,Object(et.a)(a).apply(this,arguments))}return Object(tt.a)(a,e),Object(Za.a)(a,[{key:"componentDidMount",value:function(){this.props.logout(),localStorage.removeItem("persist:demo1-auth")}},{key:"render",value:function(){return this.props.hasAuthToken?r.a.createElement(o.d,null):r.a.createElement(B.c,{to:"/admin/auth/lgoin"})}}]),a}(n.Component),a_=Object(G.b)((function(e){var a=e.auth;return{hasAuthToken:Boolean(a.authToken)}}),T)(e_),t_=Object(B.o)((function(e){var a=e.Layout,t=e.history;!function(e){var a=_.a(y),t=a?JSON.parse(a):[];(function(e){return!(!e||!e.pathname||"/admin"===e.pathname||-1!==e.pathname.indexOf("auth")||"/admin/logout"===e.pathname)})(e)&&(t.push(e.pathname),_.d(y,JSON.stringify(t),120))}(Object(V.useLastLocation)());var n=Object(G.e)((function(e){var a=e.auth;e.urls;return{menuConfig:e.builder.menuConfig,isAuthorized:null!=a.user&&(a.user.groups.indexOf(1)>-1||a.user.groups.indexOf(3)>-1),userLastLocation:"/admin",user:a.user}}),G.c),l=n.isAuthorized,c=n.menuConfig,s=n.userLastLocation,m=n.user;i.a.interceptors.response.use((function(e){return e}),(function(e){var a=e.response.status;return 401!==a&&500!==a||(localStorage.clear(),window.location.assign("/admin/auth/login")),Promise.reject(e)}));var d=r.a.useState(p||{}),u=Object(H.a)(d,2),p=u[0],h=u[1];return r.a.createElement(o.c,{history:t,menuConfig:c},r.a.createElement(B.g,null,l?r.a.createElement(B.c,{from:"/admin/auth",to:s}):r.a.createElement(Qg,null),r.a.createElement(B.d,{path:"/admin/error",component:$g}),r.a.createElement(B.d,{path:"/admin/logout",component:a_}),l?r.a.createElement(a,null,r.a.createElement(Vg,{extra_data:p,setExtraData:h,user:m,userLastLocation:s})):r.a.createElement(B.c,{to:"/admin/auth/login"})))}));t(1273),t(1274),t(1275),t(1276),t(1277),t(1278);Object(o.h)(i.a,U);var n_=r.a.lazy((function(){return Promise.all([t.e(6),t.e(5)]).then(t.bind(null,1651))}));c.a.render(r.a.createElement((function(e){var a=e.store,t=e.Layout,n=e.persistor,l=e.basename;return r.a.createElement(G.a,{store:a,loading:r.a.createElement(o.d,null)},r.a.createElement(z.a,{persistor:n},r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(o.d,null)},r.a.createElement(P.BrowserRouter,{basename:l},r.a.createElement(V.LastLocationProvider,null,r.a.createElement(o.e,null,r.a.createElement(o.a,null,r.a.createElement(t_,{Layout:t}))))))))}),{store:U,Layout:n_,persistor:F,basename:""}),document.getElementById("root"))},13:function(e,a,t){"use strict";var n=t(23),r=t(0),l=t.n(r),c=t(5),s=Object(r.forwardRef)((function(e,a){var t=e.icon,r=e.iconRef,s=e.textRef,i=e.iconWrapperRef,o=e.className,m=e.children,d=Object(n.a)(e,["icon","iconRef","textRef","iconWrapperRef","className","children"]);return l.a.createElement("div",Object.assign({},d,{ref:a,role:"alert",className:Object(c.a)("alert alert-light alert-elevate",o)}),t&&l.a.createElement("div",{ref:i,className:"alert-icon alert-icon-top"},l.a.createElement("i",{ref:r,className:t})),l.a.createElement("div",{className:"alert-text",ref:s},m))}));a.a=s},205:function(e,a,t){"use strict";t.r(a),t.d(a,"actionTypes",(function(){return p})),t.d(a,"selectors",(function(){return h})),t.d(a,"reducer",(function(){return b})),t.d(a,"actions",(function(){return f}));var n=t(4),r=t(187),l=t.n(r),c=t(184),s=t(217),i=t.n(s),o=t(210),m=t(460);function d(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function u(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?d(Object(t),!0).forEach((function(a){Object(n.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var p={SetMenuConfig:"builder/SET_MENU_CONFIG",SetLayoutConfigs:"builder/SET_LAYOUT_CONFIGS",SetLayoutConfigsWithPageRefresh:"builder/SET_LAYOUT_CONFIGS_WITH_PAGE_REFRESH",SetHtmlClassService:"builder/SET_HTML_CLASS_SERVICE"},h={getClasses:function(e,a){var t=e.builder.htmlClassServiceObjects;return t?t.getClasses(a.path,a.toString):""},getAttributes:function(e,a){if(a.path){var t=e.builder.htmlClassServiceObjects;return t?t.getAttributes(a.path):[]}return[]},getConfig:function(e,a){var t=e.builder.layoutConfig;return a?l.a.get(t,a):""},getLogo:function(e){var a,t=e.builder.layoutConfig,n=l.a.get(t,"brand.self.skin"),r=l.a.get(t,"self.logo");if("string"===typeof r&&(a=r),"object"===typeof r&&(a=l.a.get(r,n+"")),"undefined"===typeof a)try{var c=l.a.get((void 0).layoutConfig,"self.logo");a=c[Object.keys(c)[0]]}catch(s){}return a},getStickyLogo:function(e){var a=e.builder.layoutConfig,t=l.a.get(a,"self.logo.sticky");return"undefined"===typeof t&&(t=h.getLogo(e)),t+""}},E={menuConfig:m.a,layoutConfig:o.a,htmlClassServiceObjects:void 0},b=Object(c.a)({storage:i.a,key:"build-demo1",blacklist:["htmlClassServiceObjects"]},(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case p.SetMenuConfig:return u({},e,{menuConfig:n});case p.SetLayoutConfigs:case p.SetLayoutConfigsWithPageRefresh:return u({},e,{layoutConfig:n});case p.SetHtmlClassService:return u({},e,{htmlClassServiceObjects:n});default:return e}})),f={setMenuConfig:function(e){return{payload:e,type:p.SetMenuConfig}},setLayoutConfigs:function(e){return{payload:e,type:p.SetLayoutConfigs}},setLayoutConfigsWithPageRefresh:function(e){return{payload:e,type:p.SetLayoutConfigsWithPageRefresh}},setHtmlClassService:function(e){return{payload:e,type:p.SetHtmlClassService}}}},210:function(e,a,t){"use strict";t.d(a,"b",(function(){return r}));var n=t(85),r={demo:"demo1",self:{layout:"fluid",logo:{dark:Object(n.f)("/static/media/logos/airbook.svg"),light:Object(n.f)("/static/media/logos/airbook.svg"),brand:Object(n.f)("/static/media/logos/airbook.svg"),green:Object(n.f)("/static/media/logos/airbook.svg")}},loader:{enabled:!0,type:"spinner-logo",logo:Object(n.f)("/static/media/logos/airbook_load.svg"),message:"Please wait..."},colors:{state:{brand:"#5d78ff",dark:"#282a3c",light:"#ffffff",primary:"#5867dd",success:"#34bfa3",info:"#36a3f7",warning:"#ffb822",danger:"#fd3995"},base:{label:["#c5cbe3","#a1a8c3","#3d4465","#3e4466"],shape:["#f0f3ff","#d9dffa","#afb4d4","#646c9a"]}},toolbar:{display:!0},header:{self:{width:"fluid",skin:"light",fixed:{desktop:!0,mobile:!0}},menu:{self:{display:!0,layout:"default","root-arrow":!1,"icon-style":"duotone"},desktop:{arrow:!0,toggle:"click",submenu:{skin:"light",arrow:!0}},mobile:{submenu:{skin:"dark",accordion:!0}}}},subheader:{display:!1,displayDesc:!1,displayDaterangepicker:!0,layout:"subheader-v1",fixed:!0,width:"fluid",clear:!1,style:"solid"},content:{width:"fluid"},brand:{self:{skin:"dark"}},aside:{self:{skin:"dark",display:!0,fixed:!0,minimize:{toggle:!0,default:!1}},footer:{self:{display:!0}},menu:{dropdown:"false",scroll:!1,"icon-style":"duotone",submenu:{accordion:!0,dropdown:{arrow:!0,"hover-timeout":100}}}},footer:{self:{width:"fluid",fixed:!1}}},l=JSON.parse(JSON.stringify(r));a.a=l},267:function(e,a,t){"use strict";t.d(a,"b",(function(){return b})),t.d(a,"a",(function(){return f})),t.d(a,"c",(function(){return v}));var n=t(1),r=t(23),l=t(4),c=t(0),s=t.n(c);function i(e){var a=function(e,a){if("object"!==typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,a||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(e,"string");return"symbol"===typeof a?a:String(a)}function o(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?o(Object(t),!0).forEach((function(a){Object(l.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var d={State:Object(c.createContext)(null),Dispatch:Object(c.createContext)(null)},u={INIT:"INIT",SET_SUBHEADER:"SET_SUBHEADER",SHOW_SPLASH_SCREEN:"SHOW_SPLASH_SCREEN",HIDE_SPLASH_SCREEN:"HIDE_SPLASH_SCREEN"};function p(e,a,t){if(a&&Array.isArray(a)){var n=!0,r=!1,l=void 0;try{for(var c,s=a[Symbol.iterator]();!(n=(c=s.next()).done);n=!0){var i=c.value;if(e===i.page&&!i.submenu)return i;if(i.submenu){var o=p(e,i.submenu,t);if(o)return t.push(i),o}}}catch(m){r=!0,l=m}finally{try{n||null==s.return||s.return()}finally{if(r)throw l}}}}function h(e){var a=e.pathname,t=e.menuConfig,n=a.slice(1),r=[],l=p(n,t.aside.items,r)||p(n,t.header.items,r);r.reverse();var c={subheader:{title:"",breadcrumb:[],description:""},splashScreen:{refs:{}}};return l&&l.parent_title?(r.push(l),c.subheader.title=l.parent_title,c.subheader.breadcrumb=r):l&&(r.push(l),c.subheader.title=l.title,c.subheader.breadcrumb=r),c}function E(e,a){var t=a.type,n=a.payload;if(t===u.INIT)return m({},e,{subheader:h(n).subheader});if(t===u.SET_SUBHEADER)return m({},e,{subheader:n});if(t===u.SHOW_SPLASH_SCREEN)return m({},e,{splashScreen:m({},e.splashScreen,{refs:m({},e.splashScreen.refs,Object(l.a)({},n.id,!0))})});if(t===u.HIDE_SPLASH_SCREEN){var c=e.splashScreen.refs,s=n.id,o=(c[s],Object(r.a)(c,[s].map(i)));return m({},e,{splashScreen:m({},e.splashScreen,{refs:o})})}return e}function b(e){var a=e.history,t=e.children,r=e.menuConfig,l=Object(c.useReducer)(E,{menuConfig:r,pathname:a.location.pathname},h),i=Object(n.a)(l,2),o=i[0],m=i[1];Object(c.useEffect)((function(){return a.listen((function(e){var a=e.pathname;m({type:u.INIT,payload:{pathname:a,menuConfig:r}})}))}),[a,r]);var p=o.splashScreen.refs,b=Object(c.useMemo)((function(){return Object.keys(p).length>0}),[p]);return Object(c.useEffect)((function(){var e=document.getElementById("splash-screen");if(b)return e.classList.remove("hidden"),function(){e.classList.add("hidden")};var a=setTimeout((function(){e.classList.add("hidden")}),1e3);return function(){clearTimeout(a)}}),[b]),s.a.createElement(d.State.Provider,{value:o},s.a.createElement(d.Dispatch.Provider,{value:m},t))}var f=d.State.Consumer;function v(e){var a=e.visible,t=void 0!==a&&a,n=Object(c.useContext)(d.Dispatch);return Object(c.useEffect)((function(){if(t){var e=Math.random();return n({type:u.SHOW_SPLASH_SCREEN,payload:{id:e}}),function(){n({type:u.HIDE_SPLASH_SCREEN,payload:{id:e}})}}}),[t,n]),null}},31:function(e,a,t){"use strict";t.d(a,"e",(function(){return d})),t.d(a,"d",(function(){return u})),t.d(a,"b",(function(){return p})),t.d(a,"c",(function(){return h})),t.d(a,"a",(function(){return E}));var n=t(1),r=t(23),l=t(0),c=t.n(l),s=t(5),i=t(140),o=(Object(l.forwardRef)((function(e,a){var t=e.className;return c.a.createElement("span",{ref:a,className:Object(s.a)("kt-portlet__head-icon",t)})})),Object(l.forwardRef)((function(e,a){var t=e.className,n=Object(r.a)(e,["className"]);return c.a.createElement("h3",Object.assign({},n,{ref:a,className:Object(s.a)("kt-portlet__head-title",t)}))}))),m=Object(l.forwardRef)((function(e,a){var t=e.className,n=Object(r.a)(e,["className"]);return c.a.createElement("div",Object.assign({},n,{ref:a,className:Object(s.a)("kt-portlet__head-desc",t)}))})),d=Object(l.forwardRef)((function(e,a){var t=e.className,n=Object(r.a)(e,["className"]);return c.a.createElement("div",Object.assign({},n,{ref:a,className:Object(s.a)("kt-portlet__head-toolbar",t)}))})),u=Object(l.forwardRef)((function(e,a){var t=e.icon,d=e.title,u=e.desc,p=e.toolbar,h=e.className,E=e.classNameHeader,b=e.sticky,f=void 0!==b&&b,v=e.labelRef,g=(Object(r.a)(e,["icon","title","desc","toolbar","className","classNameHeader","sticky","labelRef"]),Object(l.useState)(0)),_=Object(n.a)(g,2),y=_[0],k=_[1],N=Object(l.useState)(0),C=Object(n.a)(N,2),w=C[0],O=C[1];return Object(l.useEffect)((function(){function e(){O(window.innerWidth)}return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}})),Object(l.useEffect)((function(){if(f&&0!==w){var e=document.querySelector(".kt-header"),a=document.querySelector(".kt-subheader"),t=document.querySelector(".kt-header-mobile"),n=0;"0px"===window.getComputedStyle(e).height?n=t.offsetHeight:document.body.classList.contains("kt-header--minimize-topbar")?n=60:(document.body.classList.contains("kt-header--fixed")&&(n+=e.offsetHeight),document.body.classList.contains("kt-subheader--fixed")&&(n+=a.offsetHeight)),k(n)}}),[f,w]),c.a.createElement("div",{ref:a,className:Object(s.a)("kt-portlet__head",E),style:f?{top:y,position:"sticky",backgroundColor:"#fff"}:void 0},null!=d&&c.a.createElement("div",{ref:v,className:Object(s.a)("kt-portlet__head-label",h)},t,"string"===typeof d||Object(i.isFragment)(d)?c.a.createElement(o,null,d):d,"string"===typeof u||Object(i.isFragment)(u)?c.a.createElement(m,null,u):u),p)})),p=Object(l.forwardRef)((function(e,a){var t=e.fit,n=e.fluid,l=e.className,i=Object(r.a)(e,["fit","fluid","className"]);return c.a.createElement("div",Object.assign({},i,{ref:a,className:Object(s.a)("kt-portlet__body",{"kt-portlet__body--fit":t,"kt-portlet__body--fluid":n},l)}))})),h=Object(l.forwardRef)((function(e,a){var t=e.className,n=Object(r.a)(e,["className"]);return c.a.createElement("div",Object.assign({},n,{ref:a,className:Object(s.a)("kt-portlet__foot",t)}))})),E=Object(l.forwardRef)((function(e,a){var t=e.fluidHeight,n=e.className,l=Object(r.a)(e,["fluidHeight","className"]);return c.a.createElement("div",Object.assign({},l,{ref:a,className:Object(s.a)("kt-portlet",{"kt-portlet--height-fluid":t},n)}))}))},372:function(e,a,t){"use strict";t.d(a,"a",(function(){return i}));var n=t(0),r=t.n(n),l=t(57),c=t(267),s=t(205);function i(e){var a=e.children,t=e.menuConfig,i=e.layoutConfig,o=e.htmlClassService,m=Object(l.d)(),d=Object(l.e)((function(e){return e.builder}));return Object(n.useEffect)((function(){m(s.actions.setMenuConfig(t))}),[m,t]),Object(n.useEffect)((function(){i.demo!==d.layoutConfig.demo&&m(s.actions.setLayoutConfigs(i))}),[m,d,i]),Object(n.useEffect)((function(){m(s.actions.setHtmlClassService(o))}),[m,o]),o===d.htmlClassServiceObjects?r.a.createElement(r.a.Fragment,null,a):r.a.createElement(c.c,null)}},41:function(e,a,t){"use strict";var n={};t.r(n),t.d(n,"reducer",(function(){return u})),t.d(n,"actions",(function(){return p}));var r=t(4),l=t(184),c=t(217),s=t.n(c);function i(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?i(Object(t),!0).forEach((function(a){Object(r.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var m="i18n/SET_LANGUAGE",d={lang:"en"},u=Object(l.a)({storage:s.a,key:"i18n"},(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case m:return o({},e,{lang:a.payload.lang});default:return e}})),p={setLanguage:function(e){return{type:m,payload:{lang:e}}}},h=t(205),E=t(85),b=t(267),f=t(210);t(518),t(104),Object(E.f)("/static/media/users/300_25.jpg"),Object(E.f)("/static/media/users/100_2.jpg"),Object(E.f)("/static/media/users/default.jpg");t(372);var v=t(0),g=t.n(v),_=t(57),y=t(1366),k=(t(781),t(784),t(785),t(786),t(787),t(788),t(789),{de:t(519),en:t(520),es:t(521),fr:t(522),ja:t(523),zh:t(524)});function N(e){var a=e.children,t=Object(_.e)((function(e){return e.i18n.lang})),n=k[t];return g.a.createElement(y.a,{locale:t,messages:n},a)}var C=t(539),w=t(1329),O=Object(C.a)({typography:{fontFamily:["Poppins"].join(",")},palette:{contrastThreshold:2,primary:{main:"#5d78ff"},secondary:{main:"#0abb87",contrastText:"#ffffff"},error:{main:"#fd397a"}},props:{MuiButtonBase:{disableRipple:!0},MuiPopover:{elevation:1}}});function S(e){var a=e.children;return g.a.createElement(w.a,{theme:O},a)}t.d(a,"g",(function(){return j})),t.d(a,"i",(function(){return E.f})),t.d(a,"h",(function(){return E.e})),t.d(a,"c",(function(){return b.b})),t.d(a,"d",(function(){return b.c})),t.d(a,"f",(function(){return f.b})),t.d(a,"b",(function(){return f.a})),t.d(a,"a",(function(){return N})),t.d(a,"e",(function(){return S}));var j={i18n:n,builder:h}},460:function(e,a,t){"use strict";a.a={header:{self:{},items:[{title:"Dashboards",root:!0,alignment:"left",page:"admin/dashboard",translate:"MENU.DASHBOARD"}]},aside:{self:{},items:[{title:"Dashboard",root:!0,icon:"flaticon2-architecture-and-city",page:"admin/dashboard",translate:"MENU.DASHBOARD",bullet:"dot"},{title:"Assets",root:!0,bullet:"dot",icon:"fa fa-ticket-alt",submenu:[{title:"Aircraft",parent_title:"Assets",root:!0,bullet:"dot",page:"admin/aircraft/asset"},{title:"Engines",parent_title:"Assets",root:!0,bullet:"dot",page:"admin/engine/asset"},{title:"APU",parent_title:"Assets",root:!0,bullet:"dot",page:"admin/apu/asset"},{title:"Parts",parent_title:"Assets",root:!0,bullet:"dot",page:"admin/part/asset"},{title:"Wanted",parent_title:"Assets",root:!0,bullet:"dot",page:"admin/wanted/asset"}]},{title:"Leads",root:!0,bullet:"dot",icon:"fa fa-dollar-sign",page:"admin/lead"},{title:"Contacts",root:!0,icon:"flaticon-avatar",page:"admin/contacts"},{title:"Companies",root:!0,bullet:"dot",icon:"flaticon-buildings",page:"admin/companies"},{title:"News",root:!0,bullet:"dot",icon:"flaticon2-open-text-book",page:"admin/news"},{title:"Events",root:!0,bullet:"dot",icon:"flaticon-event-calendar-symbol",page:"admin/events"},{title:"Airports",bullet:"dot",icon:"fa fa-plane-arrival",page:"admin/airport"},{title:"Adverts",root:!0,bullet:"dot",icon:"flaticon2-speaker",page:"admin/adverts"},{title:"Sales & Support",root:!0,bullet:"dot",icon:"flaticon-diagram",submenu:[{title:"Sales & Invoices",parent_title:"Sales & Support",bullet:"dot",page:"admin/invoices"},{title:"Pricing",parent_title:"Sales & Support",bullet:"dot",page:"admin/pricing"},{title:"Enquiries",parent_title:"Sales & Support",bullet:"dot",page:"admin/contactqueries"},{title:"Subscribers",parent_title:"Sales & Support",bullet:"dot",page:"admin/subscriber"}]},{title:"Asset Setup",root:!0,bullet:"dot",icon:"flaticon2-start-up",submenu:[{title:"Aircraft Categories",parent_title:"Asset Setup",bullet:"dot",page:"admin/aircraft/category"},{title:"Aircraft Manufacturers",parent_title:"Asset Setup",bullet:"dot",page:"admin/aircraft/manufacturer"},{title:"Aircraft Types",parent_title:"Asset Setup",bullet:"dot",page:"admin/aircraft/type"},{title:"Aircraft Models",parent_title:"Asset Setup",bullet:"dot",page:"admin/aircraft/model"},{title:"Aircraft Configurations",parent_title:"Asset Setup",bullet:"dot",page:"admin/aircraft/configuration"},{title:"Engines Categories",parent_title:"Asset Setup",bullet:"dot",page:"admin/engine/category"},{title:"Engines Manufacturers",parent_title:"Asset Setup",bullet:"dot",page:"admin/engine/manufacturer"},{title:"Engines Types",parent_title:"Asset Setup",bullet:"dot",page:"admin/engine/type"},{title:"Engines Models",parent_title:"Asset Setup",bullet:"dot",page:"admin/engine/model"},{title:"APU Categories",parent_title:"Asset Setup",bullet:"dot",page:"admin/apu/category"},{title:"APU Manufacturers",parent_title:"Asset Setup",bullet:"dot",page:"admin/apu/manufacturer"},{title:"APU Types",parent_title:"Asset Setup",bullet:"dot",page:"admin/apu/type"},{title:"APU Models",parent_title:"Asset Setup",bullet:"dot",page:"admin/apu/model"},{title:"Part Conditions",parent_title:"Asset Setup",bullet:"dot",page:"admin/parts/condition"},{title:"Part Releases",parent_title:"Asset Setup",bullet:"dot",page:"admin/parts/release"}]},{title:"General Setup",root:!0,bullet:"dot",icon:"flaticon2-open-box",submenu:[{title:"Email Templates",parent_title:"General Setup",bullet:"dot",page:"admin/email-template"},{title:"News Categories",parent_title:"General Setup",bullet:"dot",page:"admin/news/category"},{title:"Event Categories",parent_title:"General Setup",bullet:"dot",page:"admin/event/category"},{title:"Airfield Types",parent_title:"General Setup",bullet:"dot",page:"admin/airfield"},{title:"Job Title",parent_title:"General Setup",bullet:"dot",page:"admin/titles"},{title:"Departments",parent_title:"General Setup",bullet:"dot",page:"admin/departments"},{title:"Specialities",parent_title:"General Setup",bullet:"dot",page:"admin/speciality"},{title:"Continents",parent_title:"General Setup",bullet:"dot",page:"admin/continent"},{title:"Regions",parent_title:"General Setup",bullet:"dot",page:"admin/region"},{title:"Countries",parent_title:"General Setup",bullet:"dot",page:"admin/countries"},{title:"States",parent_title:"General Setup",bullet:"dot",page:"admin/states"},{title:"Cities",parent_title:"General Setup",bullet:"dot",page:"admin/cities"}]},{title:"Security",root:!0,bullet:"dot",icon:"flaticon-security",submenu:[{title:"Airbookers",parent_title:"Security",bullet:"dot",page:"admin/airbookers"},{title:"Admin Users",parent_title:"Security",bullet:"dot",page:"admin/admin-user"},{title:"Role & Permission",parent_title:"Security",bullet:"dot",page:"admin/role-permission"},{title:"Access Logs",parent_title:"Security",bullet:"dot",page:"admin/accesslogs"}]},{title:"Settings",root:!0,page:"admin/settings",icon:"flaticon-cogwheel",submenu:[{title:"Portal Settings",parent_title:"Settings",bullet:"dot",page:"admin/settings"},{title:"Layout Builder",parent_title:"Settings",root:!0,page:"admin/builder"},{title:"Static Pages",parent_title:"Settings",bullet:"dot",page:"admin/cms"},{title:"SEO",parent_title:"Settings",bullet:"dot",page:"admin/seos"}]},{title:"Media Gallery",page:"admin/media",icon:"flaticon2-image-file"}]}}},519:function(e){e.exports=JSON.parse('{"TRANSLATOR.SELECT":"W\xe4hle deine Sprache","MENU.NEW":"Neu","MENU.ACTIONS":"Aktionen","MENU.CREATE_POST":"Erstellen Sie einen neuen Beitrag","MENU.PAGES":"Pages","MENU.FEATURES":"Eigenschaften","MENU.APPS":"Apps","MENU.DASHBOARD":"Instrumententafel","AUTH.GENERAL.OR":"Oder","AUTH.GENERAL.SUBMIT_BUTTON":"einreichen","AUTH.GENERAL.NO_ACCOUNT":"Hast du kein Konto?","AUTH.GENERAL.SIGNUP_BUTTON":"Anmelden","AUTH.GENERAL.FORGOT_BUTTON":"Passwort vergessen","AUTH.GENERAL.BACK_BUTTON":"Zur\xfcck","AUTH.GENERAL.PRIVACY":"Privatsph\xe4re","AUTH.GENERAL.LEGAL":"Legal","AUTH.GENERAL.CONTACT":"Kontakt","AUTH.LOGIN.TITLE":"Create Account","AUTH.LOGIN.BUTTON":"Sign In","AUTH.FORGOT.TITLE":"Forgotten Password?","AUTH.FORGOT.DESC":"Enter your email to reset your password","AUTH.FORGOT.SUCCESS":"Your account has been successfully reset.","AUTH.REGISTER.TITLE":"Sign Up","AUTH.REGISTER.DESC":"Enter your details to create your account","AUTH.REGISTER.SUCCESS":"Your account has been successfuly registered.","AUTH.INPUT.EMAIL":"Email","AUTH.INPUT.FULLNAME":"Fullname","AUTH.INPUT.PASSWORD":"Password","AUTH.INPUT.CONFIRM_PASSWORD":"Confirm Password","AUTH.INPUT.USERNAME":"Nutzername","AUTH.VALIDATION.INVALID":"{name} is not valid","AUTH.VALIDATION.REQUIRED":"{name} is required","AUTH.VALIDATION.MIN_LENGTH":"{name}} minimum length is {{min}","AUTH.VALIDATION.AGREEMENT_REQUIRED":"Accepting terms & conditions are required","AUTH.VALIDATION.NOT_FOUND":"The requested {name} is not found","AUTH.VALIDATION.INVALID_LOGIN":"The login detail is incorrect","AUTH.VALIDATION.REQUIRED_FIELD":"Required field","AUTH.VALIDATION.MIN_LENGTH_FIELD":"Minimum field length:","AUTH.VALIDATION.MAX_LENGTH_FIELD":"Maximum field length:","AUTH.VALIDATION.INVALID_FIELD":"Field is not valid","ECOMMERCE.COMMON.SELECTED_RECORDS_COUNT":"Selected records count: ","ECOMMERCE.COMMON.ALL":"All","ECOMMERCE.COMMON.SUSPENDED":"Suspended","ECOMMERCE.COMMON.ACTIVE":"Active","ECOMMERCE.COMMON.FILTER":"Filter","ECOMMERCE.COMMON.BY_STATUS":"by Status","ECOMMERCE.COMMON.BY_TYPE":"by Type","ECOMMERCE.COMMON.BUSINESS":"Business","ECOMMERCE.COMMON.INDIVIDUAL":"Individual","ECOMMERCE.COMMON.SEARCH":"Search","ECOMMERCE.COMMON.IN_ALL_FIELDS":"in all fields","ECOMMERCE.ECOMMERCE":"eCommerce","ECOMMERCE.CUSTOMERS.CUSTOMERS":"Customers","ECOMMERCE.CUSTOMERS.CUSTOMERS_LIST":"Customers list","ECOMMERCE.CUSTOMERS.NEW_CUSTOMER":"New Customer","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_SIMPLE.TITLE":"Customer Delete","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_SIMPLE.DESCRIPTION":"Are you sure to permanently delete this customer?","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_SIMPLE.WAIT_DESCRIPTION":"Customer is deleting...","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_SIMPLE.MESSAGE":"Customer has been deleted","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_MULTY.TITLE":"Customers Delete","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_MULTY.DESCRIPTION":"Are you sure to permanently delete selected customers?","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_MULTY.WAIT_DESCRIPTION":"Customers are deleting...","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_MULTY.MESSAGE":"Selected customers have been deleted","ECOMMERCE.CUSTOMERS.UPDATE_STATUS.TITLE":"Status has been updated for selected customers","ECOMMERCE.CUSTOMERS.UPDATE_STATUS.MESSAGE":"Selected customers status have successfully been updated","ECOMMERCE.CUSTOMERS.EDIT.UPDATE_MESSAGE":"Customer has been updated","ECOMMERCE.CUSTOMERS.EDIT.ADD_MESSAGE":"Customer has been created"}')},520:function(e){e.exports=JSON.parse('{"TRANSLATOR.SELECT":"Select your language","MENU.NEW":"new","MENU.ACTIONS":"Actions","MENU.CREATE_POST":"Create New Post","MENU.PAGES":"Pages","MENU.FEATURES":"Features","MENU.APPS":"Apps","MENU.DASHBOARD":"Dashboard","AUTH.GENERAL.OR":"Or","AUTH.GENERAL.SUBMIT_BUTTON":"Submit","AUTH.GENERAL.NO_ACCOUNT":"Don\'t have an account?","AUTH.GENERAL.SIGNUP_BUTTON":"Sign Up","AUTH.GENERAL.FORGOT_BUTTON":"Forgot Password","AUTH.GENERAL.BACK_BUTTON":"Back","AUTH.GENERAL.PRIVACY":"Privacy","AUTH.GENERAL.LEGAL":"Legal","AUTH.GENERAL.CONTACT":"Contact","AUTH.LOGIN.TITLE":"Login Account","AUTH.LOGIN.BUTTON":"Sign In","AUTH.FORGOT.TITLE":"Forgotten Password?","AUTH.FORGOT.DESC":"Enter your email to reset your password","AUTH.FORGOT.SUCCESS":"Email has been sent for password reset link.","AUTH.FORGOT.ERROR":"Email not found!","AUTH.RESET_PASS.TITLE":"Reset Password","AUTH.RESET.SUCCESS":"Password has been updated","AUTH.RESET.ERROR":"Invalid attempt","AUTH.REGISTER.TITLE":"Sign Up","AUTH.REGISTER.DESC":"Enter your details to create your account","AUTH.REGISTER.SUCCESS":"Your account has been successfuly registered.","AUTH.INPUT.EMAIL":"Email","AUTH.INPUT.FULLNAME":"Fullname","AUTH.INPUT.PASSWORD":"Password","AUTH.INPUT.CONFIRM_PASSWORD":"Confirm Password","AUTH.INPUT.USERNAME":"Username","AUTH.VALIDATION.INVALID":"{name} is not valid","AUTH.VALIDATION.REQUIRED":"{name} is required","AUTH.VALIDATION.MIN_LENGTH":"{name}} minimum length is {{min}","AUTH.VALIDATION.AGREEMENT_REQUIRED":"Accepting terms & conditions are required","AUTH.VALIDATION.NOT_FOUND":"The requested {name} is not found","AUTH.VALIDATION.INVALID_LOGIN":"The login detail is incorrect","AUTH.VALIDATION.REQUIRED_FIELD":"Required field","AUTH.VALIDATION.MIN_LENGTH_FIELD":"Minimum field length:","AUTH.VALIDATION.MAX_LENGTH_FIELD":"Maximum field length:","AUTH.VALIDATION.INVALID_FIELD":"Field is not valid","ECOMMERCE.COMMON.SELECTED_RECORDS_COUNT":"Selected records count: ","ECOMMERCE.COMMON.ALL":"All","ECOMMERCE.COMMON.SUSPENDED":"Suspended","ECOMMERCE.COMMON.ACTIVE":"Active","ECOMMERCE.COMMON.FILTER":"Filter","ECOMMERCE.COMMON.BY_STATUS":"by Status","ECOMMERCE.COMMON.BY_TYPE":"by Type","ECOMMERCE.COMMON.BUSINESS":"Business","ECOMMERCE.COMMON.INDIVIDUAL":"Individual","ECOMMERCE.COMMON.SEARCH":"Search","ECOMMERCE.COMMON.IN_ALL_FIELDS":"in all fields","ECOMMERCE.ECOMMERCE":"eCommerce","ECOMMERCE.CUSTOMERS.CUSTOMERS":"Customers","ECOMMERCE.CUSTOMERS.CUSTOMERS_LIST":"Customers list","ECOMMERCE.CUSTOMERS.NEW_CUSTOMER":"New Customer","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_SIMPLE.TITLE":"Customer Delete","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_SIMPLE.DESCRIPTION":"Are you sure to permanently delete this customer?","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_SIMPLE.WAIT_DESCRIPTION":"Customer is deleting...","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_SIMPLE.MESSAGE":"Customer has been deleted","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_MULTY.TITLE":"Customers Delete","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_MULTY.DESCRIPTION":"Are you sure to permanently delete selected customers?","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_MULTY.WAIT_DESCRIPTION":"Customers are deleting...","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_MULTY.MESSAGE":"Selected customers have been deleted","ECOMMERCE.CUSTOMERS.UPDATE_STATUS.TITLE":"Status has been updated for selected customers","ECOMMERCE.CUSTOMERS.UPDATE_STATUS.MESSAGE":"Selected customers status have successfully been updated","ECOMMERCE.CUSTOMERS.EDIT.UPDATE_MESSAGE":"Customer has been updated","ECOMMERCE.CUSTOMERS.EDIT.ADD_MESSAGE":"Customer has been created"}')},521:function(e){e.exports=JSON.parse('{"TRANSLATOR.SELECT":"Elige tu idioma","MENU.NEW":"nuevo","MENU.ACTIONS":"Comportamiento","MENU.CREATE_POST":"Crear nueva publicaci\xf3n","MENU.PAGES":"Pages","MENU.FEATURES":"Caracteristicas","MENU.APPS":"Aplicaciones","MENU.DASHBOARD":"Tablero","AUTH.GENERAL.OR":"O","AUTH.GENERAL.SUBMIT_BUTTON":"Enviar","AUTH.GENERAL.NO_ACCOUNT":"No tienes una cuenta?","AUTH.GENERAL.SIGNUP_BUTTON":"Reg\xedstrate","AUTH.GENERAL.FORGOT_BUTTON":"Se te olvid\xf3 tu contrase\xf1a","AUTH.GENERAL.BACK_BUTTON":"Espalda","AUTH.GENERAL.PRIVACY":"Intimidad","AUTH.GENERAL.LEGAL":"Legal","AUTH.GENERAL.CONTACT":"Contacto","AUTH.LOGIN.TITLE":"Crear una cuenta","AUTH.LOGIN.BUTTON":"Registrarse","AUTH.FORGOT.TITLE":"Contrase\xf1a olvidada?","AUTH.FORGOT.DESC":"Ingrese su correo electr\xf3nico para restablecer su contrase\xf1a","AUTH.FORGOT.SUCCESS":"Your account has been successfully reset.","AUTH.REGISTER.TITLE":"Sign Up","AUTH.REGISTER.DESC":"Enter your details to create your account","AUTH.REGISTER.SUCCESS":"Your account has been successfuly registered.","AUTH.INPUT.EMAIL":"Email","AUTH.INPUT.FULLNAME":"Fullname","AUTH.INPUT.PASSWORD":"Password","AUTH.INPUT.CONFIRM_PASSWORD":"Confirm Password","AUTH.INPUT.USERNAME":"Usuario","AUTH.VALIDATION.INVALID":"{name} is not valid","AUTH.VALIDATION.REQUIRED":"{name} is required","AUTH.VALIDATION.MIN_LENGTH":"{name}} minimum length is {{min}","AUTH.VALIDATION.AGREEMENT_REQUIRED":"Accepting terms & conditions are required","AUTH.VALIDATION.NOT_FOUND":"The requested {name} is not found","AUTH.VALIDATION.INVALID_LOGIN":"The login detail is incorrect","AUTH.VALIDATION.REQUIRED_FIELD":"Required field","AUTH.VALIDATION.MIN_LENGTH_FIELD":"Minimum field length:","AUTH.VALIDATION.MAX_LENGTH_FIELD":"Maximum field length:","AUTH.VALIDATION.INVALID_FIELD":"Field is not valid","ECOMMERCE.COMMON.SELECTED_RECORDS_COUNT":"Selected records count: ","ECOMMERCE.COMMON.ALL":"All","ECOMMERCE.COMMON.SUSPENDED":"Suspended","ECOMMERCE.COMMON.ACTIVE":"Active","ECOMMERCE.COMMON.FILTER":"Filter","ECOMMERCE.COMMON.BY_STATUS":"by Status","ECOMMERCE.COMMON.BY_TYPE":"by Type","ECOMMERCE.COMMON.BUSINESS":"Business","ECOMMERCE.COMMON.INDIVIDUAL":"Individual","ECOMMERCE.COMMON.SEARCH":"Search","ECOMMERCE.COMMON.IN_ALL_FIELDS":"in all fields","ECOMMERCE.ECOMMERCE":"eCommerce","ECOMMERCE.CUSTOMERS.CUSTOMERS":"Customers","ECOMMERCE.CUSTOMERS.CUSTOMERS_LIST":"Customers list","ECOMMERCE.CUSTOMERS.NEW_CUSTOMER":"New Customer","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_SIMPLE.TITLE":"Customer Delete","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_SIMPLE.DESCRIPTION":"Are you sure to permanently delete this customer?","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_SIMPLE.WAIT_DESCRIPTION":"Customer is deleting...","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_SIMPLE.MESSAGE":"Customer has been deleted","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_MULTY.TITLE":"Customers Delete","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_MULTY.DESCRIPTION":"Are you sure to permanently delete selected customers?","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_MULTY.WAIT_DESCRIPTION":"Customers are deleting...","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_MULTY.MESSAGE":"Selected customers have been deleted","ECOMMERCE.CUSTOMERS.UPDATE_STATUS.TITLE":"Status has been updated for selected customers","ECOMMERCE.CUSTOMERS.UPDATE_STATUS.MESSAGE":"Selected customers status have successfully been updated","ECOMMERCE.CUSTOMERS.EDIT.UPDATE_MESSAGE":"Customer has been updated","ECOMMERCE.CUSTOMERS.EDIT.ADD_MESSAGE":"Customer has been created"}')},522:function(e){e.exports=JSON.parse('{"TRANSLATOR.SELECT":"choisissez votre langue","MENU.NEW":"Nouveau","MENU.ACTIONS":"Actes","MENU.CREATE_POST":"Cr\xe9er un nouveau Post","MENU.PAGES":"Pages","MENU.FEATURES":"Fonctionnalit\xe9s","MENU.APPS":"Applications","MENU.DASHBOARD":"Tableau de Bord","AUTH.GENERAL.OR":"Ou","AUTH.GENERAL.SUBMIT_BUTTON":"Soumettre","AUTH.GENERAL.NO_ACCOUNT":"Ne pas avoir de compte?","AUTH.GENERAL.SIGNUP_BUTTON":"Registre","AUTH.GENERAL.FORGOT_BUTTON":"Mot de passe oubli\xe9","AUTH.GENERAL.BACK_BUTTON":"Back","AUTH.GENERAL.PRIVACY":"Privacy","AUTH.GENERAL.LEGAL":"Legal","AUTH.GENERAL.CONTACT":"Contact","AUTH.LOGIN.TITLE":"Cr\xe9er un compte","AUTH.LOGIN.BUTTON":"Sign In","AUTH.FORGOT.TITLE":"Forgotten Password?","AUTH.FORGOT.DESC":"Enter your email to reset your password","AUTH.FORGOT.SUCCESS":"Your account has been successfully reset.","AUTH.REGISTER.TITLE":"Sign Up","AUTH.REGISTER.DESC":"Enter your details to create your account","AUTH.REGISTER.SUCCESS":"Your account has been successfuly registered.","AUTH.INPUT.EMAIL":"Email","AUTH.INPUT.FULLNAME":"Fullname","AUTH.INPUT.PASSWORD":"Mot de passe","AUTH.INPUT.CONFIRM_PASSWORD":"Confirm Password","AUTH.INPUT.USERNAME":"Nom d\'utilisateur","AUTH.VALIDATION.INVALID":"{name} n\'est pas valide","AUTH.VALIDATION.REQUIRED":"{name} est requis","AUTH.VALIDATION.MIN_LENGTH":"{name}} minimum length is {{min}","AUTH.VALIDATION.AGREEMENT_REQUIRED":"Accepting terms & conditions are required","AUTH.VALIDATION.NOT_FOUND":"The requested {name} is not found","AUTH.VALIDATION.INVALID_LOGIN":"The login detail is incorrect","AUTH.VALIDATION.REQUIRED_FIELD":"Required field","AUTH.VALIDATION.MIN_LENGTH_FIELD":"Minimum field length:","AUTH.VALIDATION.MAX_LENGTH_FIELD":"Maximum field length:","AUTH.VALIDATION.INVALID_FIELD":"Field is not valid","ECOMMERCE.COMMON.SELECTED_RECORDS_COUNT":"Nombre d\'enregistrements s\xe9lectionn\xe9s: ","ECOMMERCE.COMMON.ALL":"All","ECOMMERCE.COMMON.SUSPENDED":"Suspended","ECOMMERCE.COMMON.ACTIVE":"Active","ECOMMERCE.COMMON.FILTER":"Filter","ECOMMERCE.COMMON.BY_STATUS":"by Status","ECOMMERCE.COMMON.BY_TYPE":"by Type","ECOMMERCE.COMMON.BUSINESS":"Business","ECOMMERCE.COMMON.INDIVIDUAL":"Individual","ECOMMERCE.COMMON.SEARCH":"Search","ECOMMERCE.COMMON.IN_ALL_FIELDS":"in all fields","ECOMMERCE.ECOMMERCE":"\xe9Commerce","ECOMMERCE.CUSTOMERS.CUSTOMERS":"Les clients","ECOMMERCE.CUSTOMERS.CUSTOMERS_LIST":"Liste des clients","ECOMMERCE.CUSTOMERS.NEW_CUSTOMER":"Nouveau client","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_SIMPLE.TITLE":"Suppression du client","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_SIMPLE.DESCRIPTION":"\xcates-vous s\xfbr de supprimer d\xe9finitivement ce client?","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_SIMPLE.WAIT_DESCRIPTION":"Le client est en train de supprimer ...","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_SIMPLE.MESSAGE":"Le client a \xe9t\xe9 supprim\xe9","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_MULTY.TITLE":"Supprimer les clients","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_MULTY.DESCRIPTION":"\xcates-vous s\xfbr de supprimer d\xe9finitivement les clients s\xe9lectionn\xe9s?","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_MULTY.WAIT_DESCRIPTION":"Les clients suppriment ...","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_MULTY.MESSAGE":"Les clients s\xe9lectionn\xe9s ont \xe9t\xe9 supprim\xe9s","ECOMMERCE.CUSTOMERS.UPDATE_STATUS.TITLE":"Le statut a \xe9t\xe9 mis \xe0 jour pour les clients s\xe9lectionn\xe9s","ECOMMERCE.CUSTOMERS.UPDATE_STATUS.MESSAGE":"Le statut des clients s\xe9lectionn\xe9s a \xe9t\xe9 mis \xe0 jour avec succ\xe8s","ECOMMERCE.CUSTOMERS.EDIT.UPDATE_MESSAGE":"Le client a \xe9t\xe9 mis \xe0 jour","ECOMMERCE.CUSTOMERS.EDIT.ADD_MESSAGE":"Le client a \xe9t\xe9 cr\xe9\xe9"}')},523:function(e){e.exports=JSON.parse('{"TRANSLATOR.SELECT":"\u3042\u306a\u305f\u304c\u4f7f\u3046\u8a00\u8a9e\u3092\u9078\u3093\u3067\u304f\u3060\u3055\u3044","MENU.NEW":"\u65b0\u3057\u3044","MENU.ACTIONS":"\u884c\u52d5","MENU.CREATE_POST":"\u65b0\u3057\u3044\u6295\u7a3f\u3092\u4f5c\u6210","MENU.PAGES":"Pages","MENU.FEATURES":"\u7279\u5fb4","MENU.APPS":"\u30a2\u30d7\u30ea","MENU.DASHBOARD":"\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9","AUTH.GENERAL.OR":"\u307e\u305f\u306f","AUTH.GENERAL.SUBMIT_BUTTON":"\u63d0\u51fa\u3059\u308b","AUTH.GENERAL.NO_ACCOUNT":"\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6301\u3063\u3066\u3044\u306a\u3044\uff1f","AUTH.GENERAL.SIGNUP_BUTTON":"\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7","AUTH.GENERAL.FORGOT_BUTTON":"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u304a\u5fd8\u308c\u3067\u3059\u304b","AUTH.GENERAL.BACK_BUTTON":"\u30d0\u30c3\u30af","AUTH.GENERAL.PRIVACY":"\u30d7\u30e9\u30a4\u30d0\u30b7\u30fc","AUTH.GENERAL.LEGAL":"\u6cd5\u7684","AUTH.GENERAL.CONTACT":"\u63a5\u89e6","AUTH.LOGIN.TITLE":"Create Account","AUTH.LOGIN.BUTTON":"Sign In","AUTH.FORGOT.TITLE":"Forgotten Password?","AUTH.FORGOT.DESC":"Enter your email to reset your password","AUTH.FORGOT.SUCCESS":"Your account has been successfully reset.","AUTH.REGISTER.TITLE":"Sign Up","AUTH.REGISTER.DESC":"Enter your details to create your account","AUTH.REGISTER.SUCCESS":"Your account has been successfuly registered.","AUTH.INPUT.EMAIL":"Email","AUTH.INPUT.FULLNAME":"Fullname","AUTH.INPUT.PASSWORD":"Password","AUTH.INPUT.CONFIRM_PASSWORD":"Confirm Password","AUTH.INPUT.USERNAME":"\u30e6\u30fc\u30b6\u30fc\u540d","AUTH.VALIDATION.INVALID":"{name} is not valid","AUTH.VALIDATION.REQUIRED":"{name} is required","AUTH.VALIDATION.MIN_LENGTH":"{name}} minimum length is {{min}","AUTH.VALIDATION.AGREEMENT_REQUIRED":"Accepting terms & conditions are required","AUTH.VALIDATION.NOT_FOUND":"The requested {name} is not found","AUTH.VALIDATION.INVALID_LOGIN":"The login detail is incorrect","AUTH.VALIDATION.REQUIRED_FIELD":"Required field","AUTH.VALIDATION.MIN_LENGTH_FIELD":"Minimum field length:","AUTH.VALIDATION.MAX_LENGTH_FIELD":"Maximum field length:","AUTH.VALIDATION.INVALID_FIELD":"Field is not valid","ECOMMERCE.COMMON.SELECTED_RECORDS_COUNT":"Selected records count: ","ECOMMERCE.COMMON.ALL":"All","ECOMMERCE.COMMON.SUSPENDED":"Suspended","ECOMMERCE.COMMON.ACTIVE":"Active","ECOMMERCE.COMMON.FILTER":"Filter","ECOMMERCE.COMMON.BY_STATUS":"by Status","ECOMMERCE.COMMON.BY_TYPE":"by Type","ECOMMERCE.COMMON.BUSINESS":"Business","ECOMMERCE.COMMON.INDIVIDUAL":"Individual","ECOMMERCE.COMMON.SEARCH":"Search","ECOMMERCE.COMMON.IN_ALL_FIELDS":"in all fields","ECOMMERCE.ECOMMERCE":"eCommerce","ECOMMERCE.CUSTOMERS.CUSTOMERS":"Customers","ECOMMERCE.CUSTOMERS.CUSTOMERS_LIST":"Customers list","ECOMMERCE.CUSTOMERS.NEW_CUSTOMER":"New Customer","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_SIMPLE.TITLE":"Customer Delete","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_SIMPLE.DESCRIPTION":"Are you sure to permanently delete this customer?","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_SIMPLE.WAIT_DESCRIPTION":"Customer is deleting...","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_SIMPLE.MESSAGE":"Customer has been deleted","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_MULTY.TITLE":"Customers Delete","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_MULTY.DESCRIPTION":"Are you sure to permanently delete selected customers?","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_MULTY.WAIT_DESCRIPTION":"Customers are deleting...","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_MULTY.MESSAGE":"Selected customers have been deleted","ECOMMERCE.CUSTOMERS.UPDATE_STATUS.TITLE":"Status has been updated for selected customers","ECOMMERCE.CUSTOMERS.UPDATE_STATUS.MESSAGE":"Selected customers status have successfully been updated","ECOMMERCE.CUSTOMERS.EDIT.UPDATE_MESSAGE":"Customer has been updated","ECOMMERCE.CUSTOMERS.EDIT.ADD_MESSAGE":"Customer has been created"}')},524:function(e){e.exports=JSON.parse('{"TRANSLATOR.SELECT":"\u9009\u62e9\u4f60\u7684\u8bed\u8a00","MENU.NEW":"\u65b0","MENU.ACTIONS":"\u884c\u52a8","MENU.CREATE_POST":"\u521b\u5efa\u65b0\u5e16\u5b50","MENU.PAGES":"Pages","MENU.FEATURES":"\u7279\u5f81","MENU.APPS":"\u5e94\u7528","MENU.DASHBOARD":"\u4eea\u8868\u677f","AUTH.GENERAL.OR":"\u8981\u4e48","AUTH.GENERAL.SUBMIT_BUTTON":"\u63d0\u4ea4","AUTH.GENERAL.NO_ACCOUNT":"\u6ca1\u6709\u8d26\u53f7\uff1f","AUTH.GENERAL.SIGNUP_BUTTON":"\u6ce8\u518c","AUTH.GENERAL.FORGOT_BUTTON":"\u5fd8\u8bb0\u5bc6\u7801","AUTH.GENERAL.BACK_BUTTON":"\u80cc\u90e8","AUTH.GENERAL.PRIVACY":"\u9690\u79c1","AUTH.GENERAL.LEGAL":"\u6cd5\u5f8b","AUTH.GENERAL.CONTACT":"\u8054\u7cfb","AUTH.LOGIN.TITLE":"\u521b\u5efa\u5e10\u53f7","AUTH.LOGIN.BUTTON":"\u7b7e\u5230","AUTH.FORGOT.TITLE":"Forgotten Password?","AUTH.FORGOT.DESC":"Enter your email to reset your password","AUTH.FORGOT.SUCCESS":"Your account has been successfully reset.","AUTH.REGISTER.TITLE":"Sign Up","AUTH.REGISTER.DESC":"Enter your details to create your account","AUTH.REGISTER.SUCCESS":"Your account has been successfuly registered.","AUTH.INPUT.EMAIL":"Email","AUTH.INPUT.FULLNAME":"Fullname","AUTH.INPUT.PASSWORD":"Password","AUTH.INPUT.CONFIRM_PASSWORD":"Confirm Password","AUTH.INPUT.USERNAME":"\u7528\u6236\u540d","AUTH.VALIDATION.INVALID":"{name} is not valid","AUTH.VALIDATION.REQUIRED":"{name} is required","AUTH.VALIDATION.MIN_LENGTH":"{name}} minimum length is {{min}","AUTH.VALIDATION.AGREEMENT_REQUIRED":"Accepting terms & conditions are required","AUTH.VALIDATION.NOT_FOUND":"The requested {name} is not found","AUTH.VALIDATION.INVALID_LOGIN":"The login detail is incorrect","AUTH.VALIDATION.REQUIRED_FIELD":"Required field","AUTH.VALIDATION.MIN_LENGTH_FIELD":"Minimum field length:","AUTH.VALIDATION.MAX_LENGTH_FIELD":"Maximum field length:","AUTH.VALIDATION.INVALID_FIELD":"Field is not valid","ECOMMERCE.COMMON.SELECTED_RECORDS_COUNT":"Selected records count: ","ECOMMERCE.COMMON.ALL":"All","ECOMMERCE.COMMON.SUSPENDED":"Suspended","ECOMMERCE.COMMON.ACTIVE":"Active","ECOMMERCE.COMMON.FILTER":"Filter","ECOMMERCE.COMMON.BY_STATUS":"by Status","ECOMMERCE.COMMON.BY_TYPE":"by Type","ECOMMERCE.COMMON.BUSINESS":"Business","ECOMMERCE.COMMON.INDIVIDUAL":"Individual","ECOMMERCE.COMMON.SEARCH":"Search","ECOMMERCE.COMMON.IN_ALL_FIELDS":"in all fields","ECOMMERCE.ECOMMERCE":"eCommerce","ECOMMERCE.CUSTOMERS.CUSTOMERS":"\u987e\u5ba2","ECOMMERCE.CUSTOMERS.CUSTOMERS_LIST":"\u5ba2\u6237\u540d\u5355","ECOMMERCE.CUSTOMERS.NEW_CUSTOMER":"New Customer","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_SIMPLE.TITLE":"Customer Delete","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_SIMPLE.DESCRIPTION":"Are you sure to permanently delete this customer?","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_SIMPLE.WAIT_DESCRIPTION":"Customer is deleting...","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_SIMPLE.MESSAGE":"Customer has been deleted","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_MULTY.TITLE":"Customers Delete","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_MULTY.DESCRIPTION":"Are you sure to permanently delete selected customers?","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_MULTY.WAIT_DESCRIPTION":"Customers are deleting...","ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_MULTY.MESSAGE":"Selected customers have been deleted","ECOMMERCE.CUSTOMERS.UPDATE_STATUS.TITLE":"Status has been updated for selected customers","ECOMMERCE.CUSTOMERS.UPDATE_STATUS.MESSAGE":"Selected customers status have successfully been updated","ECOMMERCE.CUSTOMERS.EDIT.UPDATE_MESSAGE":"Customer has been updated","ECOMMERCE.CUSTOMERS.EDIT.ADD_MESSAGE":"Customer has been created"}')},557:function(e,a,t){e.exports=t(1279)},77:function(e,a,t){"use strict";t.d(a,"a",(function(){return p})),t.d(a,"b",(function(){return h}));var n=t(1),r=t(0),l=t.n(r),c=t(291),s=t(292),i=t.n(s),o=t(1281),m=t(1302),d=t(1284),u=t(31);function p(e){var a=e.code,t=e.language,s=e.disableCopy,u=Object(r.useState)(!1),p=Object(n.a)(u,2),h=p[0],E=p[1],b=Object(r.useMemo)((function(){return Object(c.dedent)(a)}),[a]);return l.a.createElement("div",{className:"kt-portlet__code"},!s&&l.a.createElement(o.a,{title:"Copied",placement:"left",open:h,onClose:function(){E(!1)}},l.a.createElement("a",{href:"#",className:"kt-portlet__code-copy",onClick:function(){return i()(a).then((function(){E(!0)}))}},l.a.createElement("i",{className:"la la-copy"}))),l.a.createElement(m.a,{language:t,style:d.a},b))}function h(e){var a=e.jsCode,t=e.children,c=e.beforeCodeTitle,s=Object(r.useState)(!1),i=Object(n.a)(s,2),o=i[0],m=i[1];return l.a.createElement(u.a,null,l.a.createElement(u.d,{title:c,toolbar:a&&l.a.createElement(u.e,null,l.a.createElement("button",{type:"button",onClick:function(){return m((function(e){return!e}))},className:"btn btn-clean btn-sm btn-icon btn-icon-md ng-star-inserted"},l.a.createElement("i",{className:"la la-code"})))}),l.a.createElement(u.b,null,a&&o&&l.a.createElement(p,{language:"javascript",code:a}),t&&l.a.createElement("div",{className:"kt-portlet__preview"},t)))}},85:function(e,a,t){"use strict";function n(e,a){var t=new RegExp("(\\s|^)"+a+"(\\s|$)");e.className=e.className.replace(t," ")}t.d(a,"b",(function(){return n})),t.d(a,"f",(function(){return r})),t.d(a,"e",(function(){return l})),t.d(a,"c",(function(){return c})),t.d(a,"a",(function(){return s})),t.d(a,"d",(function(){return i}));var r=function(e){return""+e};function l(e,a){e.interceptors.request.use((function(e){var t=a.getState().auth.authToken;return t&&(e.headers.Authorization="Token ".concat(t)),e}),(function(e){return Promise.reject(e)}))}function c(e){try{localStorage.setItem(e,""),localStorage.setItem(e+"_expiresIn","")}catch(a){return console.log("removeStorage: Error removing key ["+e+"] from localStorage: "+JSON.stringify(a)),!1}return!0}function s(e){var a=Date.now(),t=localStorage.getItem(e+"_expiresIn");if(void 0!==t&&null!==t||(t=0),(t=Math.abs(t))<a)return c(e),null;try{return localStorage.getItem(e)}catch(n){return console.log("getStorage: Error reading key ["+e+"] from localStorage: "+JSON.stringify(n)),null}}function i(e,a,t){void 0!==t&&null!==t||(t=86400);var n=Date.now()+1e3*t;try{localStorage.setItem(e,a),localStorage.setItem(e+"_expiresIn",n)}catch(r){return console.log("setStorage: Error setting key ["+e+"] in localStorage: "+JSON.stringify(r)),!1}return!0}}},[[557,1,2]]]);
//# sourceMappingURL=main.9c8c7ccc.chunk.js.map